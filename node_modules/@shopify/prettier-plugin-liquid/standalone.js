/*! For license information please see standalone.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prettier")):"function"==typeof define&&define.amd?define(["prettier/standalone"],t):"object"==typeof exports?exports.prettierPluginLiquid=t(require("prettier")):e.prettierPluginLiquid=t(e.prettier)}(this,(e=>{return t={852:(e,t,r)=>{e.exports=r(127)},815:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},537:(e,t,r)=>{"use strict";var i=r(815);e.exports=function(e){return null!=e&&"object"==typeof e&&!1===i(e)}},638:(e,t,r)=>{"use strict";var i=r(815),n=r(537);function s(e,t){if(!(this instanceof s))return"number"==typeof t?new s(e).fromIndex(t):new s(e,t);this.str=e||"",this.lineToIndex=function(e){for(var t=e.split("\n"),r=new Array(t.length),i=0,n=0,s=t.length;n<s;n++)r[n]=i,i+=t[n].length+1;return r}(this.str),t=t||{},this.origin=void 0===t.origin?1:t.origin}Array.prototype.slice,e.exports=s,s.prototype.fromIndex=function(e){if(e<0||e>=this.str.length||isNaN(e))return null;var t=function(e,t){if(e>=t[t.length-1])return t.length-1;for(var r,i=0,n=t.length-2;i<n;)if(e<t[r=i+(n-i>>1)])n=r-1;else{if(!(e>=t[r+1])){i=r;break}i=r+1}return i}(e,this.lineToIndex);return{line:t+this.origin,col:e-this.lineToIndex[t]+this.origin}},s.prototype.toIndex=function(e,t){if(void 0===t)return i(e)&&e.length>=2?this.toIndex(e[0],e[1]):n(e)&&"line"in e&&("col"in e||"column"in e)?this.toIndex(e.line,"col"in e?e.col:e.column):-1;if(isNaN(e)||isNaN(t))return-1;if(e-=this.origin,t-=this.origin,e>=0&&t>=0&&e<this.lineToIndex.length){var r=this.lineToIndex[e];if(t<(e===this.lineToIndex.length-1?this.str.length:this.lineToIndex[e+1])-r)return r+t}return-1}},369:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConditionalComment=void 0;const r=/(<!--\[if[^\]]*]>)((.|\n)*)(<!\[endif\]-->)$/;t.getConditionalComment=e=>{const t=e.match(r);if(t)return{startTag:t[1],body:t[2].trim(),endTag:t[4]}}},62:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LiquidHTMLASTParsingError=t.LiquidHTMLCSTParsingError=void 0;const n=i(r(638));class s extends SyntaxError{constructor(e){super(e.shortMessage),this.name="LiquidHTMLParsingError";const t=e.input,r=e._rightmostFailurePosition,i=(0,n.default)(t).fromIndex(Math.min(r,t.length-1));i&&(this.loc={start:{line:i.line,column:i.col},end:{line:i.line,column:i.col}})}}t.LiquidHTMLCSTParsingError=s;class a extends SyntaxError{constructor(e,t,r,i,s){super(e),this.name="LiquidHTMLParsingError",this.unclosed=null!=s?s:null;const a=(0,n.default)(t),o=a.fromIndex(r),l=a.fromIndex(Math.min(i,t.length-1));this.loc={start:{line:o.line,column:o.col},end:{line:l.line,column:l.col}}}}t.LiquidHTMLASTParsingError=a},504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TAGS_WITHOUT_MARKUP=t.VOID_ELEMENTS=t.RAW_TAGS=t.BLOCKS=t.placeholderGrammars=t.tolerantGrammars=t.strictGrammars=t.LiquidDocGrammar=t.TextNodeGrammar=t.liquidHtmlGrammars=void 0;const i=r(939);t.liquidHtmlGrammars=(0,i.grammars)(r(512)),t.TextNodeGrammar=t.liquidHtmlGrammars.Helpers,t.LiquidDocGrammar=t.liquidHtmlGrammars.LiquidDoc,t.strictGrammars={Liquid:t.liquidHtmlGrammars.StrictLiquid,LiquidHTML:t.liquidHtmlGrammars.StrictLiquidHTML,LiquidStatement:t.liquidHtmlGrammars.StrictLiquidStatement},t.tolerantGrammars={Liquid:t.liquidHtmlGrammars.Liquid,LiquidHTML:t.liquidHtmlGrammars.LiquidHTML,LiquidStatement:t.liquidHtmlGrammars.LiquidStatement},t.placeholderGrammars={Liquid:t.liquidHtmlGrammars.WithPlaceholderLiquid,LiquidHTML:t.liquidHtmlGrammars.WithPlaceholderLiquidHTML,LiquidStatement:t.liquidHtmlGrammars.WithPlaceholderLiquidStatement},t.BLOCKS=t.strictGrammars.LiquidHTML.rules.blockName.body.factors[0].terms.map((e=>e.obj)),t.RAW_TAGS=t.strictGrammars.LiquidHTML.rules.liquidRawTag.body.terms.map((e=>e.args[0].obj)).concat("comment"),t.VOID_ELEMENTS=t.strictGrammars.LiquidHTML.rules.voidElementName.body.factors[0].terms.map((e=>e.args[0].obj)),t.TAGS_WITHOUT_MARKUP=["style","schema","javascript","else","break","continue","comment","raw","doc"]},849:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.getConditionalComment=t.BLOCKS=t.VOID_ELEMENTS=t.RAW_TAGS=t.TAGS_WITHOUT_MARKUP=void 0,n(r(265),t),n(r(336),t),n(r(62),t);var s=r(504);Object.defineProperty(t,"TAGS_WITHOUT_MARKUP",{enumerable:!0,get:function(){return s.TAGS_WITHOUT_MARKUP}}),Object.defineProperty(t,"RAW_TAGS",{enumerable:!0,get:function(){return s.RAW_TAGS}}),Object.defineProperty(t,"VOID_ELEMENTS",{enumerable:!0,get:function(){return s.VOID_ELEMENTS}}),Object.defineProperty(t,"BLOCKS",{enumerable:!0,get:function(){return s.BLOCKS}});var a=r(369);Object.defineProperty(t,"getConditionalComment",{enumerable:!0,get:function(){return a.getConditionalComment}})},778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toLiquidCST=t.toLiquidHtmlCST=t.LiquidLiteralValues=t.ConcreteNodeTypes=void 0;const i=r(609),n=r(504),s=r(62),a=r(336);var o;!function(e){e.HtmlDoctype="HtmlDoctype",e.HtmlComment="HtmlComment",e.HtmlRawTag="HtmlRawTag",e.HtmlVoidElement="HtmlVoidElement",e.HtmlSelfClosingElement="HtmlSelfClosingElement",e.HtmlTagOpen="HtmlTagOpen",e.HtmlTagClose="HtmlTagClose",e.AttrSingleQuoted="AttrSingleQuoted",e.AttrDoubleQuoted="AttrDoubleQuoted",e.AttrUnquoted="AttrUnquoted",e.AttrEmpty="AttrEmpty",e.LiquidVariableOutput="LiquidVariableOutput",e.LiquidRawTag="LiquidRawTag",e.LiquidTag="LiquidTag",e.LiquidTagOpen="LiquidTagOpen",e.LiquidTagClose="LiquidTagClose",e.TextNode="TextNode",e.YAMLFrontmatter="YAMLFrontmatter",e.LiquidVariable="LiquidVariable",e.LiquidFilter="LiquidFilter",e.NamedArgument="NamedArgument",e.LiquidLiteral="LiquidLiteral",e.VariableLookup="VariableLookup",e.BooleanExpression="BooleanExpression",e.String="String",e.Number="Number",e.Range="Range",e.Comparison="Comparison",e.Condition="Condition",e.AssignMarkup="AssignMarkup",e.ContentForMarkup="ContentForMarkup",e.CycleMarkup="CycleMarkup",e.ForMarkup="ForMarkup",e.RenderMarkup="RenderMarkup",e.PaginateMarkup="PaginateMarkup",e.RenderVariableExpression="RenderVariableExpression",e.RenderAliasExpression="RenderAliasExpression",e.ContentForNamedArgument="ContentForNamedArgument",e.LiquidDocParamNode="LiquidDocParamNode",e.LiquidDocParamNameNode="LiquidDocParamNameNode",e.LiquidDocDescriptionNode="LiquidDocDescriptionNode",e.LiquidDocExampleNode="LiquidDocExampleNode",e.LiquidDocPromptNode="LiquidDocPromptNode"}(o=t.ConcreteNodeTypes||(t.ConcreteNodeTypes={})),t.LiquidLiteralValues={nil:null,null:null,true:!0,false:!1,blank:"",empty:""};const l=e=>t=>t[e].sourceString.trimEnd(),u={strict:n.strictGrammars,tolerant:n.tolerantGrammars,completion:n.placeholderGrammars};function c(e,r,u,p,d=e,m=0){const h=e=>m+e[0].source.startIdx,g=e=>m+e[e.length-1].source.endIdx,f=e=>m+e[e.length-2].source.endIdx,y={type:o.TextNode,value:function(){return this.sourceString},locStart:h,locEnd:g,source:e},S=u.match(d,"Node");if(S.failed())throw new s.LiquidHTMLCSTParsingError(S);const v={Node:0,TextNode:y,orderedListOf:0,empty:()=>null,nonemptyOrderedListOf:0,nonemptyOrderedListOfBoth(e,t,r){return e.toAST(this.args.mapping).concat(r.toAST(this.args.mapping))}},b={liquidNode:0,liquidRawTag:0,liquidRawTagImpl:{type:o.LiquidRawTag,name:3,body:9,children:t=>{const i=t[3],s=t[9];return"raw"===i.sourceString?c(e,r,n.TextNodeGrammar,["HelperMappings"],s.sourceString,m+s.source.startIdx):c(e,r,r.Liquid,["HelperMappings","LiquidMappings"],s.sourceString,m+s.source.startIdx)},markup:6,whitespaceStart:1,whitespaceEnd:7,delimiterWhitespaceStart:11,delimiterWhitespaceEnd:17,locStart:h,locEnd:g,source:e,blockStartLocStart:e=>e[0].source.startIdx,blockStartLocEnd:e=>e[8].source.endIdx,blockEndLocStart:e=>e[10].source.startIdx,blockEndLocEnd:e=>e[18].source.endIdx},liquidBlockComment:{type:o.LiquidRawTag,name:"comment",body:e=>e[1].sourceString,children:t=>c(e,r,n.TextNodeGrammar,["HelperMappings"],t[1].sourceString,m+t[1].source.startIdx),whitespaceStart:e=>e[0].children[1].sourceString,whitespaceEnd:e=>e[0].children[7].sourceString,delimiterWhitespaceStart:e=>e[2].children[1].sourceString,delimiterWhitespaceEnd:e=>e[2].children[7].sourceString,locStart:h,locEnd:g,source:e,blockStartLocStart:e=>e[0].source.startIdx,blockStartLocEnd:e=>e[0].source.endIdx,blockEndLocStart:e=>e[2].source.startIdx,blockEndLocEnd:e=>e[2].source.endIdx},liquidDoc:{type:o.LiquidRawTag,name:"doc",body:e=>e[1].sourceString,children:t=>{const r=t[1];return function(e,t,r){const a=e=>r+e[0].source.startIdx,l=e=>r+e[e.length-1].source.endIdx,u=n.LiquidDocGrammar.match(t,"Node");if(u.failed())throw new s.LiquidHTMLCSTParsingError(u);const c=()=>({type:o.TextNode,value:function(){return this.sourceString},locStart:a,locEnd:l,source:e}),p={Node(e,t){return(0===e.sourceString.length?[]:[e.toAST(this.args.mapping)]).concat(t.toAST(this.args.mapping))},ImplicitDescription:{type:o.LiquidDocDescriptionNode,name:"description",locStart:a,locEnd:l,source:e,content:0,isImplicit:!0,isInline:!0},TextNode:c(),paramNode:{type:o.LiquidDocParamNode,name:"param",locStart:a,locEnd:l,source:e,paramType:2,paramName:4,paramDescription:8},descriptionNode:{type:o.LiquidDocDescriptionNode,name:"description",locStart:a,locEnd:l,source:e,content:2,isImplicit:!1,isInline:function(){return!this.children[1].sourceString.includes("\n")}},descriptionContent:c(),paramType:2,paramTypeContent:c(),paramName:{type:o.LiquidDocParamNameNode,content:0,locStart:a,locEnd:l,source:e,required:!0},optionalParamName:{type:o.LiquidDocParamNameNode,content:2,locStart:a,locEnd:l,source:e,required:!1},paramDescription:c(),exampleNode:{type:o.LiquidDocExampleNode,name:"example",locStart:a,locEnd:l,source:e,content:2,isInline:function(){return!this.children[1].sourceString.includes("\n")}},promptNode:{type:o.LiquidDocPromptNode,name:"prompt",locStart:a,locEnd:l,source:e,content:1},multilineTextContent:c(),textValue:c(),fallbackNode:c()};return(0,i.toAST)(u,p)}(e,r.sourceString,m+r.source.startIdx)},whitespaceStart:e=>e[0].children[1].sourceString,whitespaceEnd:e=>e[0].children[7].sourceString,delimiterWhitespaceStart:e=>{var t;return(null===(t=e[2].children[1])||void 0===t?void 0:t.sourceString)||""},delimiterWhitespaceEnd:e=>{var t;return(null===(t=e[2].children[7])||void 0===t?void 0:t.sourceString)||""},locStart:h,locEnd:g,source:e,blockStartLocStart:e=>e[0].source.startIdx,blockStartLocEnd:e=>e[0].source.endIdx,blockEndLocStart:e=>e[2].source.startIdx,blockEndLocEnd:e=>e[2].source.endIdx},liquidInlineComment:{type:o.LiquidTag,name:3,markup:l(5),whitespaceStart:1,whitespaceEnd:6,locStart:h,locEnd:g,source:e},liquidTagOpen:0,liquidTagOpenStrict:0,liquidTagOpenBaseCase:0,liquidTagOpenRule:{type:o.LiquidTagOpen,name:3,markup(e){const t=e[6],r=e[3];return a.NamedTags.hasOwnProperty(r.sourceString)?t.toAST(this.args.mapping):t.sourceString.trim()},whitespaceStart:1,whitespaceEnd:7,locStart:h,locEnd:g,source:e},liquidTagOpenCapture:0,liquidTagOpenForm:0,liquidTagOpenFormMarkup:0,liquidTagOpenFor:0,liquidTagOpenForMarkup:{type:o.ForMarkup,variableName:0,collection:4,reversed:6,args:8,locStart:h,locEnd:g,source:e},liquidTagBreak:0,liquidTagContinue:0,liquidTagOpenTablerow:0,liquidTagOpenPaginate:0,liquidTagOpenPaginateMarkup:{type:o.PaginateMarkup,collection:0,pageSize:4,args:6,locStart:h,locEnd:g,source:e},liquidTagOpenCase:0,liquidTagOpenCaseMarkup:0,liquidTagWhen:0,liquidTagWhenMarkup:0,liquidTagOpenIf:0,liquidTagOpenUnless:0,liquidTagElsif:0,liquidTagElse:0,liquidTagOpenConditionalMarkup:0,condition:{type:o.Condition,relation:0,expression:2,locStart:h,locEnd:g,source:e},comparison:{type:o.Comparison,comparator:2,left:0,right:4,locStart:h,locEnd:g,source:e},liquidTagClose:{type:o.LiquidTagClose,name:4,whitespaceStart:1,whitespaceEnd:7,locStart:h,locEnd:g,source:e},liquidTag:0,liquidTagStrict:0,liquidTagBaseCase:0,liquidTagAssign:0,liquidTagEcho:0,liquidTagContentFor:0,liquidTagCycle:0,liquidTagIncrement:0,liquidTagDecrement:0,liquidTagRender:0,liquidTagInclude:0,liquidTagSection:0,liquidTagSections:0,liquidTagLayout:0,liquidTagRule:{type:o.LiquidTag,name:3,markup(e){const t=e[6],r=e[3];return a.NamedTags.hasOwnProperty(r.sourceString)?t.toAST(this.args.mapping):t.sourceString.trim()},whitespaceStart:1,whitespaceEnd:7,source:e,locStart:h,locEnd:g},liquidTagLiquid:0,liquidTagLiquidMarkup:t=>c(e,r,r.LiquidStatement,["HelperMappings","LiquidMappings","LiquidStatement"],t.sourceString,m+t.source.startIdx),liquidTagEchoMarkup:0,liquidTagSectionMarkup:0,liquidTagSectionsMarkup:0,liquidTagLayoutMarkup:0,liquidTagAssignMarkup:{type:o.AssignMarkup,name:0,value:4,locStart:h,locEnd:g,source:e},liquidTagCycleMarkup:{type:o.CycleMarkup,groupName:0,args:3,locStart:h,locEnd:g,source:e},liquidTagContentForMarkup:{type:o.ContentForMarkup,contentForType:0,args:2,locStart:h,locEnd:g,source:e},contentForType:0,liquidTagRenderMarkup:{type:o.RenderMarkup,snippet:0,variable:1,alias:2,renderArguments:3,locStart:h,locEnd:g,source:e},renderArguments:1,completionModeRenderArguments:function(e,t,r,i,n,s,a,o){return t.toAST(this.args.mapping).concat(""===a.sourceString?[]:a.toAST(this.args.mapping))},snippetExpression:0,renderVariableExpression:{type:o.RenderVariableExpression,kind:1,name:3,locStart:h,locEnd:g,source:e},renderAliasExpression:{type:o.RenderAliasExpression,value:3,locStart:h,locEnd:g,source:e},liquidDrop:{type:o.LiquidVariableOutput,markup:3,whitespaceStart:1,whitespaceEnd:4,locStart:h,locEnd:g,source:e},liquidDropCases:0,liquidExpression:0,liquidComplexExpression:0,liquidDropBaseCase:e=>e.sourceString.trimEnd(),liquidVariable:{type:o.LiquidVariable,expression:0,filters:1,rawSource:t=>e.slice(h(t),t[t.length-2].source.endIdx).trimEnd(),locStart:h,locEnd:f,source:e},liquidFilter:{type:o.LiquidFilter,name:3,locStart:h,locEnd:g,source:e,args(e){return""===e[7].sourceString?[]:e[7].toAST(this.args.mapping)}},filterArguments:0,arguments:0,complexArguments:function(e,t,r,i,n){return e.toAST(this.args.mapping).concat(""===n.sourceString?[]:n.toAST(this.args.mapping))},simpleArgument:0,tagArguments:0,contentForTagArgument:0,completionModeContentForTagArgument:function(e,t,r){return e.toAST(this.args.mapping).concat(""===r.sourceString?[]:r.toAST(this.args.mapping))},positionalArgument:0,namedArgument:{type:o.NamedArgument,name:0,value:4,locStart:h,locEnd:g,source:e},contentForNamedArgument:{type:o.NamedArgument,name:e=>e[0].sourceString+e[1].sourceString,value:6,locStart:h,locEnd:g,source:e},liquidBooleanExpression(t,r){const i=t.toAST(this.args.mapping),n=r.toAST(this.args.mapping);if(0===n.length&&i.expression.type!==o.Comparison)return i.expression;const s=[i,...n];return{type:o.BooleanExpression,conditions:s,locStart:s.at(0).locStart,locEnd:s.at(-1).locEnd,source:e}},booleanExpressionCondition:{type:o.Condition,relation:null,expression:0,locStart:h,locEnd:g,source:e},booleanExpressionSubsequentCondition:{type:o.Condition,relation:1,expression:3,locStart:h,locEnd:g,source:e},liquidString:0,liquidDoubleQuotedString:{type:o.String,single:()=>!1,value:1,locStart:h,locEnd:g,source:e},liquidSingleQuotedString:{type:o.String,single:()=>!0,value:1,locStart:h,locEnd:g,source:e},liquidNumber:{type:o.Number,value:0,locStart:h,locEnd:g,source:e},liquidLiteral:{type:o.LiquidLiteral,value:e=>{const r=e[0].sourceString;return t.LiquidLiteralValues[r]},keyword:0,locStart:h,locEnd:g,source:e},liquidRange:{type:o.Range,start:2,end:6,locStart:h,locEnd:g,source:e},liquidVariableLookup:{type:o.VariableLookup,name:0,lookups:1,locStart:h,locEnd:g,source:e},variableSegmentAsLookupMarkup:0,variableSegmentAsLookup:{type:o.VariableLookup,name:0,lookups:()=>[],locStart:h,locEnd:g,source:e},lookup:0,indexLookup:3,dotLookup:{type:o.String,value:3,locStart:e=>m+e[2].source.startIdx,locEnd:e=>m+e[e.length-1].source.endIdx,source:e},tagMarkup:e=>e.sourceString.trim()},T={LiquidStatement:0,liquidTagOpenRule:{type:o.LiquidTagOpen,name:0,markup(e){const t=e[2],r=e[0];return a.NamedTags.hasOwnProperty(r.sourceString)?t.toAST(this.args.mapping):t.sourceString.trim()},whitespaceStart:null,whitespaceEnd:null,locStart:h,locEnd:f,source:e},liquidTagClose:{type:o.LiquidTagClose,name:1,whitespaceStart:null,whitespaceEnd:null,locStart:h,locEnd:f,source:e},liquidTagRule:{type:o.LiquidTag,name:0,markup(e){const t=e[2],r=e[0];return a.NamedTags.hasOwnProperty(r.sourceString)?t.toAST(this.args.mapping):t.sourceString.trim()},whitespaceStart:null,whitespaceEnd:null,locStart:h,locEnd:f,source:e},liquidRawTagImpl:{type:o.LiquidRawTag,name:0,body:4,children:t=>c(e,r,n.TextNodeGrammar,["HelperMappings"],t[4].sourceString,m+t[4].source.startIdx),whitespaceStart:null,whitespaceEnd:null,delimiterWhitespaceStart:null,delimiterWhitespaceEnd:null,locStart:h,locEnd:f,source:e,blockStartLocStart:e=>m+e[0].source.startIdx,blockStartLocEnd:e=>m+e[2].source.endIdx,blockEndLocStart:e=>m+e[5].source.startIdx,blockEndLocEnd:e=>m+e[5].source.endIdx},liquidBlockComment:{type:o.LiquidRawTag,name:"comment",body:e=>e[1].sourceString.slice(1)+e[2].sourceString,children(t){const i=t[1].sourceString.slice(1)+t[2].sourceString;return c(e,r,n.TextNodeGrammar,["HelperMappings"],i,m+t[1].source.startIdx+1)},whitespaceStart:"",whitespaceEnd:"",delimiterWhitespaceStart:"",delimiterWhitespaceEnd:"",locStart:h,locEnd:g,source:e,blockStartLocStart:e=>m+e[0].source.startIdx,blockStartLocEnd:e=>m+e[0].source.endIdx,blockEndLocStart:e=>m+e[4].source.startIdx,blockEndLocEnd:e=>m+e[4].source.endIdx},liquidInlineComment:{type:o.LiquidTag,name:0,markup:l(2),whitespaceStart:null,whitespaceEnd:null,locStart:h,locEnd:f,source:e}};const x={HelperMappings:v,LiquidMappings:b,LiquidHTMLMappings:{Node(e,t){return(0===e.sourceString.length?[]:[e.toAST(this.args.mapping)]).concat(t.toAST(this.args.mapping))},yamlFrontmatter:{type:o.YAMLFrontmatter,body:2,locStart:h,locEnd:g,source:e},HtmlDoctype:{type:o.HtmlDoctype,legacyDoctypeString:4,locStart:h,locEnd:g,source:e},HtmlComment:{type:o.HtmlComment,body:e=>e[1].sourceString.trim(),locStart:h,locEnd:g,source:e},HtmlRawTagImpl:{type:o.HtmlRawTag,name:e=>e[0].children[1].sourceString,attrList(e){const t=this.args.mapping;return e[0].children[2].toAST(t)},body:t=>e.slice(t[0].source.endIdx,t[2].source.startIdx),children:t=>{const i=e.slice(t[0].source.endIdx,t[2].source.startIdx);return c(e,r,r.Liquid,["HelperMappings","LiquidMappings"],i,t[0].source.endIdx)},locStart:h,locEnd:g,source:e,blockStartLocStart:e=>e[0].source.startIdx,blockStartLocEnd:e=>e[0].source.endIdx,blockEndLocStart:e=>e[2].source.startIdx,blockEndLocEnd:e=>e[2].source.endIdx},HtmlVoidElement:{type:o.HtmlVoidElement,name:1,attrList:3,locStart:h,locEnd:g,source:e},HtmlSelfClosingElement:{type:o.HtmlSelfClosingElement,name:1,attrList:2,locStart:h,locEnd:g,source:e},HtmlTagOpen:{type:o.HtmlTagOpen,name:1,attrList:2,locStart:h,locEnd:g,source:e},HtmlTagClose:{type:o.HtmlTagClose,name:1,locStart:h,locEnd:g,source:e},leadingTagNamePart:0,leadingTagNameTextNode:y,trailingTagNamePart:0,trailingTagNameTextNode:y,tagName(e,t){const r=this.args.mapping;return[e.toAST(r)].concat(t.toAST(r))},AttrUnquoted:{type:o.AttrUnquoted,name:0,value:2,locStart:h,locEnd:g,source:e},AttrSingleQuoted:{type:o.AttrSingleQuoted,name:0,value:3,locStart:h,locEnd:g,source:e},AttrDoubleQuoted:{type:o.AttrDoubleQuoted,name:0,value:3,locStart:h,locEnd:g,source:e},attrEmpty:{type:o.AttrEmpty,name:0,locStart:h,locEnd:g,source:e},attrName:0,attrNameTextNode:y,attrDoubleQuotedValue:0,attrSingleQuotedValue:0,attrUnquotedValue:0,attrDoubleQuotedTextNode:y,attrSingleQuotedTextNode:y,attrUnquotedTextNode:y},LiquidStatement:T},I=p.reduce(((e,t)=>({...e,...x[t]})),{});return(0,i.toAST)(S,I)}t.toLiquidHtmlCST=function(e,t={mode:"tolerant"}){const r=u[t.mode];return c(e,r,r.LiquidHTML,["HelperMappings","LiquidMappings","LiquidHTMLMappings"])},t.toLiquidCST=function(e,t={mode:"tolerant"}){const r=u[t.mode];return c(e,r,r.Liquid,["HelperMappings","LiquidMappings"])}},265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLiquidHtmlNode=t.walk=t.cstToAst=t.getName=t.toLiquidHtmlAST=t.toLiquidAST=t.isBranchedTag=t.RawMarkupKinds=void 0;const i=r(778),n=r(336),s=r(428),a=r(62),o=r(504),l=r(778);var u;function c(e){return e.type===n.NodeTypes.LiquidTag&&["if","for","unless","case"].includes(e.name)}!function(e){e.css="css",e.html="html",e.javascript="javascript",e.json="json",e.markdown="markdown",e.typescript="typescript",e.text="text"}(u=t.RawMarkupKinds||(t.RawMarkupKinds={})),t.isBranchedTag=c,t.toLiquidAST=function(e,t={allowUnclosedDocumentNode:!0,mode:"tolerant"}){const r=(0,l.toLiquidCST)(e,{mode:t.mode});return{type:n.NodeTypes.Document,source:e,_source:e,children:m(r,t),name:"#document",position:{start:0,end:e.length}}},t.toLiquidHtmlAST=function(e,t={allowUnclosedDocumentNode:!1,mode:"tolerant"}){const r=(0,i.toLiquidHtmlCST)(e,{mode:t.mode});return{type:n.NodeTypes.Document,source:e,_source:e,children:m(r,t),name:"#document",position:{start:0,end:e.length}}};class p{constructor(e){this.ast=[],this.cursor=[],this.source=e}get current(){return(0,s.deepGet)(this.cursor,this.ast)}get currentPosition(){return(this.current||[]).length-1}get parent(){if(0!=this.cursor.length)return(0,s.deepGet)((0,s.dropLast)(1,this.cursor),this.ast)}get grandparent(){if(!(this.cursor.length<4))return(0,s.deepGet)((0,s.dropLast)(3,this.cursor),this.ast)}open(e){var t;this.current.push(e),this.cursor.push(this.currentPosition),this.cursor.push("children"),c(e)&&this.open((t=e,{type:n.NodeTypes.LiquidBranch,name:null,markup:"",position:{start:t.position.end,end:t.position.end},blockStartPosition:{start:t.position.end,end:t.position.end},blockEndPosition:{start:-1,end:-1},children:[],whitespaceStart:"",whitespaceEnd:"",source:t.source}))}push(e){if(e.type===n.NodeTypes.LiquidBranch){const t=this.findCloseableParentBranch(e);if(t){for(t.blockEndPosition={start:e.position.start,end:e.position.start};this.parent&&this.parent!==t&&this.parent.type===n.NodeTypes.HtmlElement;)this.parent.blockEndPosition={start:e.position.start,end:e.position.start},this.closeParentWith(e);this.closeParentWith(e)}this.open(e)}else this.current.push(e)}close(e,t){var r,s;if(function(e){return!!e&&e.type===n.NodeTypes.LiquidBranch}(this.parent)&&(this.parent.blockEndPosition={start:e.locStart,end:e.locStart},this.closeParentWith(e)),!this.parent)throw new a.LiquidHTMLASTParsingError(`Attempting to close ${t} '${d(e)}' before it was opened`,this.source,e.locStart,e.locEnd);if(d(this.parent)!==d(e)||this.parent.type!==t){const r=this.findCloseableParentNode(e);if(this.parent.type!==n.NodeTypes.HtmlElement||!r)throw new a.LiquidHTMLASTParsingError(`Attempting to close ${t} '${d(e)}' before ${this.parent.type} '${d(this.parent)}' was closed`,this.source,this.parent.position.start,e.locEnd,J(this.parent));for(;this.parent!==r;)this.parent.blockEndPosition={start:e.locStart,end:e.locStart},this.closeParentWith(e)}this.parent.position.end=e.locEnd,this.parent.blockEndPosition=Q(e),this.parent.type==n.NodeTypes.LiquidTag&&e.type==i.ConcreteNodeTypes.LiquidTagClose&&(this.parent.delimiterWhitespaceStart=null!==(r=e.whitespaceStart)&&void 0!==r?r:"",this.parent.delimiterWhitespaceEnd=null!==(s=e.whitespaceEnd)&&void 0!==s?s:""),this.cursor.pop(),this.cursor.pop()}findCloseableParentBranch(e){for(let t=this.cursor.length-1;t>0;t-=2){const r=(0,s.deepGet)(this.cursor.slice(0,t),this.ast),i=this.cursor[t],o=r.type===n.NodeTypes.HtmlElement&&"children"===i;if(r.type===n.NodeTypes.LiquidBranch)return r;if(!o)throw new a.LiquidHTMLASTParsingError(`Attempting to open LiquidBranch '${e.name}' before ${r.type} '${d(r)}' was closed`,this.source,r.position.start,e.position.end)}return null}findCloseableParentNode(e){for(let t=this.cursor.length-1;t>0;t-=2){const r=(0,s.deepGet)(this.cursor.slice(0,t),this.ast);if(d(r)===d(e)&&r.type===n.NodeTypes.LiquidTag&&["if","unless","case"].includes(r.name))return r;if(r.type===n.NodeTypes.LiquidTag)return null}return null}closeParentWith(e){this.parent&&(this.parent.position.end="locStart"in e?e.locStart:e.position.start),this.cursor.pop(),this.cursor.pop()}}function d(e){if(!e)return null;switch(e.type){case n.NodeTypes.HtmlElement:case n.NodeTypes.HtmlDanglingMarkerClose:case n.NodeTypes.HtmlSelfClosingElement:case i.ConcreteNodeTypes.HtmlTagClose:return e.name.map((e=>e.type===n.NodeTypes.TextNode||e.type==i.ConcreteNodeTypes.TextNode?e.value:"string"==typeof e.markup?`{{${e.markup.trim()}}}`:`{{${e.markup.rawSource}}}`)).join("");case n.NodeTypes.AttrEmpty:case n.NodeTypes.AttrUnquoted:case n.NodeTypes.AttrDoubleQuoted:case n.NodeTypes.AttrSingleQuoted:return e.name.map((e=>"string"==typeof e?e:e.source.slice(e.position.start,e.position.end))).join("");default:return e.name}}function m(e,t){var r;if(0===e.length)return[];const o=function(e,t){var r,a,o,l;const u=new p(e[0].source);for(let c=0;c<e.length;c++){const p=e[c];switch(p.type){case i.ConcreteNodeTypes.TextNode:u.push($(p));break;case i.ConcreteNodeTypes.LiquidVariableOutput:u.push(R(p));break;case i.ConcreteNodeTypes.LiquidTagOpen:u.open(b(p,{...t,isBlockTag:!0}));break;case i.ConcreteNodeTypes.LiquidTagClose:u.close(p,n.NodeTypes.LiquidTag);break;case i.ConcreteNodeTypes.LiquidTag:u.push(b(p,{...t,isBlockTag:!1}));break;case i.ConcreteNodeTypes.LiquidRawTag:u.push({type:n.NodeTypes.LiquidRawTag,markup:K(p.name,p.markup),name:p.name,body:L(p,t),whitespaceStart:null!==(r=p.whitespaceStart)&&void 0!==r?r:"",whitespaceEnd:null!==(a=p.whitespaceEnd)&&void 0!==a?a:"",delimiterWhitespaceStart:null!==(o=p.delimiterWhitespaceStart)&&void 0!==o?o:"",delimiterWhitespaceEnd:null!==(l=p.delimiterWhitespaceEnd)&&void 0!==l?l:"",position:Q(p),blockStartPosition:{start:p.blockStartLocStart,end:p.blockStartLocEnd},blockEndPosition:{start:p.blockEndLocStart,end:p.blockEndLocEnd},source:p.source});break;case i.ConcreteNodeTypes.HtmlTagOpen:u.open(B(p,t));break;case i.ConcreteNodeTypes.HtmlTagClose:z(u,e,c,t.mode)?u.push(G(p,t)):u.close(p,n.NodeTypes.HtmlElement);break;case i.ConcreteNodeTypes.HtmlVoidElement:u.push(W(p,t));break;case i.ConcreteNodeTypes.HtmlSelfClosingElement:u.push(V(p,t));break;case i.ConcreteNodeTypes.HtmlDoctype:u.push({type:n.NodeTypes.HtmlDoctype,legacyDoctypeString:p.legacyDoctypeString,position:Q(p),source:p.source});break;case i.ConcreteNodeTypes.HtmlComment:u.push({type:n.NodeTypes.HtmlComment,body:p.body,position:Q(p),source:p.source});break;case i.ConcreteNodeTypes.HtmlRawTag:u.push({type:n.NodeTypes.HtmlRawNode,name:p.name,body:L(p,t),attributes:y(p.attrList||[],t),position:Q(p),source:p.source,blockStartPosition:{start:p.blockStartLocStart,end:p.blockStartLocEnd},blockEndPosition:{start:p.blockEndLocStart,end:p.blockEndLocEnd}});break;case i.ConcreteNodeTypes.AttrEmpty:u.push({type:n.NodeTypes.AttrEmpty,name:m(p.name,t),position:Q(p),source:p.source});break;case i.ConcreteNodeTypes.AttrSingleQuoted:case i.ConcreteNodeTypes.AttrDoubleQuoted:case i.ConcreteNodeTypes.AttrUnquoted:{const e={type:p.type,name:m(p.name,t),position:Q(p),source:p.source,attributePosition:{start:-1,end:-1},value:[]},r=f(p.value,t);e.value=r,e.attributePosition=g(p,r),u.push(e);break}case i.ConcreteNodeTypes.YAMLFrontmatter:u.push({type:n.NodeTypes.YAMLFrontmatter,body:p.body,position:Q(p),source:p.source});break;case i.ConcreteNodeTypes.LiquidDocParamNode:u.push({type:n.NodeTypes.LiquidDocParamNode,name:p.name,position:Q(p),source:p.source,paramName:$(p.paramName.content),paramDescription:U(p.paramDescription),paramType:U(p.paramType),required:p.paramName.required});break;case i.ConcreteNodeTypes.LiquidDocDescriptionNode:u.push({type:n.NodeTypes.LiquidDocDescriptionNode,name:p.name,position:Q(p),source:p.source,content:$(p.content),isImplicit:p.isImplicit,isInline:p.isInline});break;case i.ConcreteNodeTypes.LiquidDocExampleNode:u.push({type:n.NodeTypes.LiquidDocExampleNode,name:p.name,position:Q(p),source:p.source,content:$(p.content),isInline:p.isInline});break;case i.ConcreteNodeTypes.LiquidDocPromptNode:u.push({type:n.NodeTypes.LiquidDocPromptNode,name:p.name,position:Q(p),source:p.source,content:$(p.content)});break;default:(0,s.assertNever)(p)}}return u}(e,t);if(!t.allowUnclosedDocumentNode&&0!==o.cursor.length)throw new a.LiquidHTMLASTParsingError(`Attempting to end parsing before ${null===(r=o.parent)||void 0===r?void 0:r.type} '${d(o.parent)}' was closed`,o.source,o.source.length-1,o.source.length,J(o.parent,o.grandparent));return o.ast}function h(e){const t=e.at(0);return e.at(-1).locEnd-t.locStart}function g(e,t){return 0===t.length?{start:e.locStart+h(e.name)+1+1,end:e.locStart+h(e.name)+1+1}:{start:t[0].position.start,end:t[t.length-1].position.end}}function f(e,t){return m(e,t)}function y(e,t){return m(e,t)}function S(e){var t,r;return{type:n.NodeTypes.LiquidTag,position:Q(e),whitespaceStart:null!==(t=e.whitespaceStart)&&void 0!==t?t:"",whitespaceEnd:null!==(r=e.whitespaceEnd)&&void 0!==r?r:"",blockStartPosition:Q(e),source:e.source}}function v(e){var t,r;return{type:n.NodeTypes.LiquidBranch,children:[],position:Q(e),whitespaceStart:null!==(t=e.whitespaceStart)&&void 0!==t?t:"",whitespaceEnd:null!==(r=e.whitespaceEnd)&&void 0!==r?r:"",blockStartPosition:Q(e),blockEndPosition:{start:-1,end:-1},source:e.source}}function b(e,t){return"string"!=typeof e.markup?function(e,t){switch(e.name){case n.NamedTags.echo:return{...S(e),name:n.NamedTags.echo,markup:P(e.markup)};case n.NamedTags.assign:return{...S(e),name:n.NamedTags.assign,markup:T(e.markup)};case n.NamedTags.cycle:return{...S(e),name:e.name,markup:x(e.markup)};case n.NamedTags.increment:case n.NamedTags.decrement:return{...S(e),name:e.name,markup:M(e.markup)};case n.NamedTags.capture:return{...S(e),name:e.name,markup:M(e.markup),children:[]};case n.NamedTags.content_for:return{...S(e),name:e.name,markup:E(e.markup)};case n.NamedTags.include:case n.NamedTags.render:return{...S(e),name:e.name,markup:k(e.markup)};case n.NamedTags.layout:case n.NamedTags.section:case n.NamedTags.sections:return{...S(e),name:e.name,markup:M(e.markup)};case n.NamedTags.form:return{...S(e),name:e.name,markup:e.markup.map(H),children:[]};case n.NamedTags.tablerow:case n.NamedTags.for:return{...S(e),name:e.name,markup:I(e.markup),children:[]};case n.NamedTags.paginate:return{...S(e),name:e.name,markup:N(e.markup),children:[]};case n.NamedTags.if:case n.NamedTags.unless:return{...S(e),name:e.name,markup:q(e.markup),blockEndPosition:{start:-1,end:-1},children:[]};case n.NamedTags.elsif:return{...v(e),name:e.name,markup:q(e.markup)};case n.NamedTags.case:return{...S(e),name:e.name,markup:M(e.markup),children:[]};case n.NamedTags.when:return{...v(e),name:e.name,markup:e.markup.map(M)};case n.NamedTags.liquid:return{...S(e),name:e.name,markup:m(e.markup,t)};default:return(0,s.assertNever)(e)}}(e,t):function(e){return e.type===i.ConcreteNodeTypes.LiquidTag&&["else","elsif","when"].includes(e.name)}(e)?function(e){var t,r;return{name:e.name,type:n.NodeTypes.LiquidBranch,markup:"else"!==e.name?e.markup:"",position:{start:e.locStart,end:e.locEnd},children:[],blockStartPosition:{start:e.locStart,end:e.locEnd},blockEndPosition:{start:-1,end:-1},whitespaceStart:null!==(t=e.whitespaceStart)&&void 0!==t?t:"",whitespaceEnd:null!==(r=e.whitespaceEnd)&&void 0!==r?r:"",source:e.source}}(e):t.isBlockTag?{name:e.name,markup:K(e.name,e.markup),children:t.isBlockTag?[]:void 0,...S(e)}:{name:e.name,markup:K(e.name,e.markup),...S(e)}}function T(e){return{type:n.NodeTypes.AssignMarkup,name:e.name,value:P(e.value),position:Q(e),source:e.source}}function x(e){return{type:n.NodeTypes.CycleMarkup,groupName:e.groupName?M(e.groupName):null,args:e.args.map(M),position:Q(e),source:e.source}}function I(e){return{type:n.NodeTypes.ForMarkup,variableName:e.variableName,collection:M(e.collection),args:e.args.map(j),reversed:!!e.reversed,position:Q(e),source:e.source}}function N(e){return{type:n.NodeTypes.PaginateMarkup,collection:M(e.collection),pageSize:M(e.pageSize),position:Q(e),args:e.args?e.args.map(j):[],source:e.source}}function L(e,t){return{type:n.NodeTypes.RawMarkup,kind:w(e),nodes:m(e.children,t),value:e.body,position:{start:e.blockStartLocEnd,end:e.blockEndLocStart},source:e.source}}function w(e){switch(e.type){case i.ConcreteNodeTypes.HtmlRawTag:return function(e){var t;switch(e.name){case"script":{const r=null===(t=e.attrList)||void 0===t?void 0:t.find((e=>"name"in e&&"string"!=typeof e.name&&1===e.name.length&&e.name[0].type===i.ConcreteNodeTypes.TextNode&&"type"===e.name[0].value));if(!r||!("value"in r)||0===r.value.length||r.value[0].type!==i.ConcreteNodeTypes.TextNode)return u.javascript;const n=r.value[0].value;return"text/markdown"===n?u.markdown:"application/x-typescript"===n?u.typescript:"text/html"===n?u.html:n&&(n.endsWith("json")||n.endsWith("importmap"))||"speculationrules"===n?u.json:u.javascript}case"style":return C.test(e.body)?u.text:u.css;default:return u.text}}(e);case i.ConcreteNodeTypes.LiquidRawTag:return function(e){switch(e.name){case"javascript":return u.javascript;case"stylesheet":case"style":return C.test(e.body)?u.text:u.css;case"schema":return u.json;default:return u.text}}(e);default:return(0,s.assertNever)(e)}}t.getName=d,t.cstToAst=m;const C=/(\{%|\{\{)-?/g;function E(e){return{type:n.NodeTypes.ContentForMarkup,contentForType:M(e.contentForType),args:e.args.map(H),position:Q(e),source:e.source}}function k(e){return{type:n.NodeTypes.RenderMarkup,snippet:M(e.snippet),alias:_(e.alias),variable:A(e.variable),args:e.renderArguments.map(H),position:Q(e),source:e.source}}function A(e){return e?{type:n.NodeTypes.RenderVariableExpression,kind:e.kind,name:M(e.name),position:Q(e),source:e.source}:null}function _(e){return e?{type:n.NodeTypes.RenderAliasExpression,value:e.value,position:Q(e),source:e.source}:null}function q(e){if(1===e.length)return O(e[0]);const[t,r]=e,[,...i]=e;return{type:n.NodeTypes.LogicalExpression,relation:r.relation,left:O(t),right:q(i),position:{start:t.locStart,end:e[e.length-1].locEnd},source:t.source}}function O(e){const t=e.expression;return t.type===i.ConcreteNodeTypes.Comparison?function(e){return{type:n.NodeTypes.Comparison,comparator:e.comparator,left:M(e.left),right:M(e.right),position:Q(e),source:e.source}}(t):M(t)}function R(e){var t,r;return{type:n.NodeTypes.LiquidVariableOutput,markup:"string"==typeof e.markup?e.markup:P(e.markup),whitespaceStart:null!==(t=e.whitespaceStart)&&void 0!==t?t:"",whitespaceEnd:null!==(r=e.whitespaceEnd)&&void 0!==r?r:"",position:Q(e),source:e.source}}function P(e){return{type:n.NodeTypes.LiquidVariable,expression:D(e.expression),filters:e.filters.map(F),position:Q(e),rawSource:e.rawSource,source:e.source}}function D(e){return e.type===i.ConcreteNodeTypes.BooleanExpression?{type:n.NodeTypes.BooleanExpression,position:Q(e),condition:q(e.conditions),source:e.source}:M(e)}function M(e){switch(e.type){case i.ConcreteNodeTypes.String:return{type:n.NodeTypes.String,position:Q(e),single:e.single,value:e.value,source:e.source};case i.ConcreteNodeTypes.Number:return{type:n.NodeTypes.Number,position:Q(e),value:e.value,source:e.source};case i.ConcreteNodeTypes.LiquidLiteral:return{type:n.NodeTypes.LiquidLiteral,position:Q(e),value:e.value,keyword:e.keyword,source:e.source};case i.ConcreteNodeTypes.Range:return{type:n.NodeTypes.Range,start:M(e.start),end:M(e.end),position:Q(e),source:e.source};case i.ConcreteNodeTypes.VariableLookup:return{type:n.NodeTypes.VariableLookup,name:e.name,lookups:e.lookups.map(M),position:Q(e),source:e.source};default:return(0,s.assertNever)(e)}}function F(e){return{type:n.NodeTypes.LiquidFilter,name:e.name,args:e.args.map(H),position:Q(e),source:e.source}}function H(e){return e.type===i.ConcreteNodeTypes.NamedArgument?j(e):M(e)}function j(e){return{type:n.NodeTypes.NamedArgument,name:e.name,value:M(e.value),position:Q(e),source:e.source}}function B(e,t){return{type:n.NodeTypes.HtmlElement,name:m(e.name,t),attributes:y(e.attrList||[],t),position:Q(e),blockStartPosition:Q(e),blockEndPosition:{start:-1,end:-1},children:[],source:e.source}}function G(e,t){return{type:n.NodeTypes.HtmlDanglingMarkerClose,name:m(e.name,t),position:Q(e),blockStartPosition:Q(e),source:e.source}}function W(e,t){return{type:n.NodeTypes.HtmlVoidElement,name:e.name,attributes:y(e.attrList||[],t),position:Q(e),blockStartPosition:Q(e),source:e.source}}function V(e,t){return{type:n.NodeTypes.HtmlSelfClosingElement,name:m(e.name,t),attributes:y(e.attrList||[],t),position:Q(e),blockStartPosition:Q(e),source:e.source}}function U(e){return e&&""!==e.value?$(e):null}function $(e){return{type:n.NodeTypes.TextNode,value:e.value,position:Q(e),source:e.source}}function z(e,t,r,i){if("completion"===i){const i=t[r];return!(e.parent&&e.parent.type===n.NodeTypes.HtmlElement&&d(e.parent)===d(i))}return function(e){const{parent:t,grandparent:r}=e;return!(!t||!r)&&t.type===n.NodeTypes.LiquidBranch&&r.type===n.NodeTypes.LiquidTag&&["if","unless","case"].includes(r.name)}(e)}function K(e,t){return o.TAGS_WITHOUT_MARKUP.includes(e)?"":t}function Q(e){return{start:e.locStart,end:e.locEnd}}function Y(e){return null!==e&&"object"==typeof e&&"type"in e&&n.NodeTypes.hasOwnProperty(e.type)}function J(e,t){var r;if(e)return null===d(e)&&t&&(e=t),{type:e.type,name:null!==(r=d(e))&&void 0!==r?r:"",blockStartPosition:"blockStartPosition"in e?e.blockStartPosition:e.position}}t.walk=function e(t,r,i){for(const i of Object.keys(t)){if(n.nonTraversableProperties.has(i))continue;const s=t[i];Array.isArray(s)?s.filter(Y).forEach((i=>e(i,r,t))):Y(s)&&e(s,r,t)}r(t,i)},t.isLiquidHtmlNode=Y},336:(e,t)=>{"use strict";var r,i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.nonTraversableProperties=t.LoopNamedTags=t.LiquidNodeTypes=t.HtmlNodeTypes=t.Comparators=t.NamedTags=t.NodeTypes=void 0,function(e){e.Document="Document",e.LiquidRawTag="LiquidRawTag",e.LiquidTag="LiquidTag",e.LiquidBranch="LiquidBranch",e.LiquidVariableOutput="LiquidVariableOutput",e.HtmlSelfClosingElement="HtmlSelfClosingElement",e.HtmlVoidElement="HtmlVoidElement",e.HtmlDoctype="HtmlDoctype",e.HtmlComment="HtmlComment",e.HtmlElement="HtmlElement",e.HtmlDanglingMarkerClose="HtmlDanglingMarkerClose",e.HtmlRawNode="HtmlRawNode",e.AttrSingleQuoted="AttrSingleQuoted",e.AttrDoubleQuoted="AttrDoubleQuoted",e.AttrUnquoted="AttrUnquoted",e.AttrEmpty="AttrEmpty",e.TextNode="TextNode",e.YAMLFrontmatter="YAMLFrontmatter",e.LiquidVariable="LiquidVariable",e.LiquidFilter="LiquidFilter",e.NamedArgument="NamedArgument",e.LiquidLiteral="LiquidLiteral",e.BooleanExpression="BooleanExpression",e.String="String",e.Number="Number",e.Range="Range",e.VariableLookup="VariableLookup",e.Comparison="Comparison",e.LogicalExpression="LogicalExpression",e.AssignMarkup="AssignMarkup",e.ContentForMarkup="ContentForMarkup",e.CycleMarkup="CycleMarkup",e.ForMarkup="ForMarkup",e.PaginateMarkup="PaginateMarkup",e.RawMarkup="RawMarkup",e.RenderMarkup="RenderMarkup",e.RenderVariableExpression="RenderVariableExpression",e.RenderAliasExpression="RenderAliasExpression",e.LiquidDocDescriptionNode="LiquidDocDescriptionNode",e.LiquidDocParamNode="LiquidDocParamNode",e.LiquidDocExampleNode="LiquidDocExampleNode",e.LiquidDocPromptNode="LiquidDocPromptNode"}(r=t.NodeTypes||(t.NodeTypes={})),function(e){e.assign="assign",e.capture="capture",e.case="case",e.content_for="content_for",e.cycle="cycle",e.decrement="decrement",e.echo="echo",e.elsif="elsif",e.for="for",e.form="form",e.if="if",e.include="include",e.increment="increment",e.layout="layout",e.liquid="liquid",e.paginate="paginate",e.render="render",e.section="section",e.sections="sections",e.tablerow="tablerow",e.unless="unless",e.when="when"}(i=t.NamedTags||(t.NamedTags={})),(n=t.Comparators||(t.Comparators={})).CONTAINS="contains",n.EQUAL="==",n.GREATER_THAN=">",n.GREATER_THAN_OR_EQUAL=">=",n.LESS_THAN="<",n.LESS_THAN_OR_EQUAL="<=",n.NOT_EQUAL="!=",t.HtmlNodeTypes=[r.HtmlElement,r.HtmlDanglingMarkerClose,r.HtmlRawNode,r.HtmlVoidElement,r.HtmlSelfClosingElement],t.LiquidNodeTypes=[r.LiquidTag,r.LiquidVariableOutput,r.LiquidBranch,r.LiquidRawTag],t.LoopNamedTags=[i.for,i.tablerow],t.nonTraversableProperties=new Set(["parentNode","prev","next","firstChild","lastChild"])},428:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropLast=t.deepGet=t.locEnd=t.locStart=t.assertNever=void 0,t.assertNever=function(e){throw new Error(`Unexpected object: ${e.type}`)},t.locStart=function(e){return e.position.start},t.locEnd=function(e){return e.position.end},t.deepGet=function(e,t){return e.reduce(((e,t)=>{if(e&&void 0!==e[t])return e[t]}),t)},t.dropLast=function(e,t){const r=[...t];for(let t=0;t<e;t++)r.pop();return r}},512:e=>{e.exports=String.raw`Helpers {
  Node = TextNode*
  TextNode = AnyExceptPlus<openControl>
  openControl = end

  empty = /* nothing */
  anyExcept<lit> = (~ lit any)
  anyExceptStar<lit> = (~ lit any)*
  anyExceptPlus<lit> = (~ lit any)+
  AnyExcept<lit> = (~ lit any)
  AnyExceptPlus<lit> = (~ lit any)+
  AnyExceptStar<lit> = (~ lit any)*
  identifierCharacter = alnum | "_" | "-"

  orderedListOf<a, b, sep> =
    | nonemptyOrderedListOf<a, b, sep>
    | emptyListOf<a, sep>
  nonemptyOrderedListOf<a, b, sep> =
    | nonemptyListOf<b, sep>
    | nonemptyOrderedListOfBoth<a, b, sep>
    | nonemptyListOf<a, sep>
  nonemptyOrderedListOfBoth<a, b, sep> =
    nonemptyListOf<a, sep> (sep nonemptyListOf<b, sep>)

  singleQuote = "'" | "‘" | "’"
  doubleQuote = "\"" | "“" | "”"
  controls = "\u{007F}".."\u{009F}"
  noncharacters = "\u{FDD0}".."\u{FDEF}"
  newline = "\r"? "\n"
}

Liquid <: Helpers {
  Node := (liquidNode | TextNode)*
  openControl := "{{" | "{%"
  endOfTagName = &("-%}" | "-}}" | "%}" | "}}")
  endOfVarName = ~identifierCharacter
  endOfIdentifier = endOfTagName | endOfVarName

  liquidNode =
  	| liquidDoc
    | liquidBlockComment
    | liquidRawTag
    | liquidDrop
    | liquidTagClose
    | liquidTagOpen
    | liquidTag
    | liquidInlineComment

  liquidTagStrict =
    | liquidTagAssign
    | liquidTagBreak
    | liquidTagContinue
    | liquidTagCycle
    | liquidTagContentFor
    | liquidTagDecrement
    | liquidTagEcho
    | liquidTagElse
    | liquidTagElsif
    | liquidTagInclude
    | liquidTagIncrement
    | liquidTagLayout
    | liquidTagLiquid
    | liquidTagRender
    | liquidTagSection
    | liquidTagSections
    | liquidTagWhen

  liquidTag =
    | liquidTagStrict
    | liquidTagBaseCase

  liquidTagOpenStrict =
    | liquidTagOpenCase
    | liquidTagOpenCapture
    | liquidTagOpenForm
    | liquidTagOpenFor
    | liquidTagOpenTablerow
    | liquidTagOpenIf
    | liquidTagOpenPaginate
    | liquidTagOpenUnless

  liquidTagOpen =
    | liquidTagOpenStrict
    | liquidTagOpenBaseCase

  liquidTagClose = "{%" "-"? space* "end" blockName space* tagMarkup "-"? "%}"

  // These two are the same but transformed differently
  liquidTagRule<name, markup> =
    "{%" "-"? space* (name endOfIdentifier) space* markup "-"? "%}"
  liquidTagOpenRule<name, markup> =
    "{%" "-"? space* (name endOfIdentifier) space* markup "-"? "%}"

  liquidTagBaseCase = liquidTagRule<liquidTagName, tagMarkup>

  liquidTagEcho = liquidTagRule<"echo", liquidTagEchoMarkup>
  liquidTagEchoMarkup = liquidVariable<delimTag>

  liquidTagAssign = liquidTagRule<"assign", liquidTagAssignMarkup>
  liquidTagAssignMarkup = variableSegment space* "=" space* liquidVariable<delimTag>

  liquidTagCycle = liquidTagRule<"cycle", liquidTagCycleMarkup>
  liquidTagCycleMarkup = (liquidExpression<delimTag> ":")? space* nonemptyListOf<liquidExpression<delimTag>, argumentSeparator> space*

  liquidTagIncrement = liquidTagRule<"increment", variableSegmentAsLookupMarkup>
  liquidTagDecrement = liquidTagRule<"decrement", variableSegmentAsLookupMarkup>
  liquidTagOpenCapture = liquidTagOpenRule<"capture", variableSegmentAsLookupMarkup>
  variableSegmentAsLookupMarkup = variableSegmentAsLookup space*

  liquidTagSection = liquidTagRule<"section", liquidTagSectionMarkup>
  liquidTagSectionMarkup = liquidString<delimTag> space*

  liquidTagSections = liquidTagRule<"sections", liquidTagSectionsMarkup>
  liquidTagSectionsMarkup = liquidString<delimTag> space*

  liquidTagLayout = liquidTagRule<"layout", liquidTagLayoutMarkup>
  liquidTagLayoutMarkup = liquidExpression<delimTag> space*

  // We'll black hole the statement and switch parser in the cst builder
  // We do this because it's technically the same grammar (with minor redefinitions)
  // and it would be a huge chore and maintenance hell to rewrite all the rules with
  // hspace = " " | "\t"
  //
  // The alternative is that this grammar parses the {% liquid tagMarkup %} as its own string,
  // and then we switch to the LiquidStatement grammar that
  // redefines liquidTagOpenRule, liquidTagRule, and space.
  liquidTagLiquid = liquidTagRule<"liquid", liquidTagLiquidMarkup>
  liquidTagLiquidMarkup = tagMarkup

  liquidTagContentFor = liquidTagRule<"content_for", liquidTagContentForMarkup>

  liquidTagContentForMarkup =
    contentForType (argumentSeparatorOptionalComma contentForTagArgument) (space* ",")? space*

  contentForTagArgument = listOf<contentForNamedArgument<delimTag>, argumentSeparatorOptionalComma>
  completionModeContentForTagArgument = listOf<contentForNamedArgument<delimTag>, argumentSeparatorOptionalComma> (argumentSeparator? (liquidVariableLookup<delimTag>))?
  contentForNamedArgument<delim> = (variableSegment ("." variableSegment)*) space* ":" space* (liquidExpression<delim>)

  contentForType = liquidString<delimTag>

  liquidTagInclude = liquidTagRule<"include", liquidTagRenderMarkup>
  liquidTagRender = liquidTagRule<"render", liquidTagRenderMarkup>
  liquidTagRenderMarkup =
    snippetExpression renderVariableExpression? renderAliasExpression? renderArguments

  renderArguments = (argumentSeparatorOptionalComma tagArguments) (space* ",")? space*
  completionModeRenderArguments = (argumentSeparatorOptionalComma tagArguments) (space* ",")? space* (argumentSeparator? liquidVariableLookup<delimTag> space*)?
  snippetExpression = liquidString<delimTag> | variableSegmentAsLookup
  renderVariableExpression = space+ ("for" | "with") space+ liquidExpression<delimTag>
  renderAliasExpression = space+ "as" space+ variableSegment

  liquidTagOpenBaseCase = liquidTagOpenRule<blockName, tagMarkup>

  liquidTagOpenForm = liquidTagOpenRule<"form", liquidTagOpenFormMarkup>
  liquidTagOpenFormMarkup = arguments<delimTag> (space* ",")? space*

  liquidTagOpenFor = liquidTagOpenRule<"for", liquidTagOpenForMarkup>
  liquidTagOpenForMarkup =
    variableSegment space* "in" space* liquidExpression<delimTag>
    (space* "reversed")? argumentSeparatorOptionalComma
    tagArguments (space* ",")? space*

  // It's the same, the difference is support for different named arguments<delim>
  liquidTagOpenTablerow = liquidTagOpenRule<"tablerow", liquidTagOpenForMarkup>

  liquidTagOpenCase = liquidTagOpenRule<"case", liquidTagOpenCaseMarkup>
  liquidTagOpenCaseMarkup = liquidExpression<delimTag> space*

  liquidTagWhen = liquidTagRule<"when", liquidTagWhenMarkup>
  liquidTagWhenMarkup = nonemptyListOf<liquidExpression<delimTag>, whenMarkupSep> space*
  whenMarkupSep = space* ("," | "or" ~identifier) space*

  liquidTagOpenIf = liquidTagOpenRule<"if", liquidTagOpenConditionalMarkup>
  liquidTagOpenUnless = liquidTagOpenRule<"unless", liquidTagOpenConditionalMarkup>
  liquidTagElsif = liquidTagRule<"elsif", liquidTagOpenConditionalMarkup>

  liquidTagBreak = liquidTagRule<"break", empty>
  liquidTagContinue = liquidTagRule<"continue", empty>
  liquidTagElse = liquidTagRule<"else", empty>

  liquidTagOpenConditionalMarkup = nonemptyListOf<condition<delimTag>, conditionSeparator> space*
  conditionSeparator = &logicalOperator
  condition<delim> = logicalOperator? space* (comparison<delim> | liquidExpression<delim>) space*
  logicalOperator = ("and" | "or") ~identifier
  comparison<delim> = liquidExpression<delim> space* comparator space* liquidExpression<delim>
  comparator =
    ( "=="
    | "!="
    | ">="
    | "<="
    | ">"
    | "<")
    | ("contains" ~identifier)

  liquidTagOpenPaginate = liquidTagOpenRule<"paginate", liquidTagOpenPaginateMarkup>
  liquidTagOpenPaginateMarkup =
    liquidExpression<delimTag> space+ "by" space+ liquidExpression<delimTag> argumentSeparatorOptionalComma tagArguments (space* ",")? space*

  liquidDrop = "{{" "-"? space* liquidDropCases "-"? "}}"
  liquidDropCases = liquidVariable<delimVO> | liquidDropBaseCase
  liquidDropBaseCase = anyExceptStar<delimVO>
  liquidInlineComment = "{%" "-"? space* "#" space? tagMarkup "-"? "%}"

  liquidRawTag =
    | liquidRawTagImpl<"raw">
    | liquidRawTagImpl<"javascript">
    | liquidRawTagImpl<"schema">
    | liquidRawTagImpl<"stylesheet">
    | liquidRawTagImpl<"style">
  liquidRawTagImpl<name> =
    "{%" "-"? space* (name endOfIdentifier) space* tagMarkup "-"? "%}"
    anyExceptStar<liquidRawTagClose<name>>
    "{%" "-"? space* "end" (name endOfIdentifier) space* "-"? "%}"
  liquidRawTagClose<name> =
    "{%" "-"? space* "end" (name endOfIdentifier) space* "-"? "%}"

  liquidBlockComment =
    commentBlockStart
      (liquidBlockComment | anyExceptPlus<(commentBlockStart | commentBlockEnd)>)*
    commentBlockEnd
  commentBlockStart = "{%" "-"? space* ("comment"    endOfIdentifier) space* tagMarkup "-"? "%}"
  commentBlockEnd   = "{%" "-"? space* ("endcomment" endOfIdentifier) space* tagMarkup "-"? "%}"

  liquidDoc =
    liquidDocStart
      liquidDocBody
    liquidDocEnd

  liquidDocStart = "{%" "-"? space* ("doc" endOfIdentifier) space* tagMarkup "-"? "%}"
  liquidDocEnd = "{%" "-"? space* ("enddoc" endOfIdentifier) space* tagMarkup "-"? "%}"
  liquidDocBody = anyExceptStar<(liquidDocStart | liquidDocEnd)>

  // In order for the grammar to "fallback" to the base case, this
  // rule must pass if and only if we support what we parse. This
  // implies that—since we don't support filters yet—we have a
  // positive lookahead on "-}}" or "}}" in the rule. We do this
  // because we'd otherwise positively match the following string
  // instead of falling back to the other rule:
  // {{ 'string' | some_filter }}
  liquidVariable<delim> = liquidComplexExpression<delim> liquidFilter<delim>* space* &delim

  liquidExpression<delim> =
    | liquidString<delim>
    | liquidNumber
    | liquidLiteral
    | liquidRange<delim>
    | liquidVariableLookup<delim>

  liquidComplexExpression<delim> =
    | liquidBooleanExpression<delim>
    | liquidExpression<delim>

  liquidBooleanExpression<delim> = booleanExpressionCondition<delim> listOf<booleanExpressionSubsequentCondition<delim>, conditionSeparator>

  // This might over-capture things since the conditions below can contain any ${"`"}liquidExpression${"`"}s.
  // We will need to clean this up in CST. If we restrict the conditions to only contain comparisons and
  // variable lookups, we can't support "truthy" expressions like ${"`"}{{ some_var and 'this' }}${"`"}
  booleanExpressionSubsequentCondition<delim> = space* logicalOperator space* (comparison<delim> | liquidExpression<delim>) space*
  booleanExpressionCondition<delim> = comparison<delim> | liquidExpression<delim>

  liquidString<delim> = liquidSingleQuotedString<delim> | liquidDoubleQuotedString<delim>
  liquidSingleQuotedString<delim> = "'" anyExceptStar<("'"| delim)> "'"
  liquidDoubleQuotedString<delim> = "\"" anyExceptStar<("\""| delim)> "\""

  liquidNumber = liquidFloat | liquidInteger
  liquidInteger = "-"? digit+
  liquidFloat = "-"? digit+ "." digit+

  liquidLiteral =
    ( "true"
    | "false"
    | "blank"
    | "empty"
    | "nil"
    | "null"
    ) endOfIdentifier

  liquidRange<delim> =
    "(" space* liquidExpression<delim> space* ".." space* liquidExpression<delim> space* ")"

  liquidVariableLookup<delim> =
    | variableSegment lookup<delim>*
    | empty lookup<delim>+
  lookup<delim> =
    | indexLookup<delim>
    | dotLookup
  indexLookup<delim> = space* "[" space* liquidExpression<delim> space* "]"
  dotLookup = space* "." space* identifier

  liquidFilter<delim> = space* "|" space* identifier (space* ":" space* arguments<delim> (space* ",")?)?

  arguments<delim> = nonemptyOrderedListOf<positionalArgument<delim>, namedArgument<delim>, argumentSeparator>
  argumentSeparator = space* "," space*
  argumentSeparatorOptionalComma = space* ","? space*
  positionalArgument<delim> = liquidExpression<delim> ~(space* ":")
  namedArgument<delim> = variableSegment space* ":" space* liquidExpression<delim>
  tagArguments = listOf<namedArgument<delimTag>, argumentSeparatorOptionalComma>
  filterArguments<delim> =
    | complexArguments<delim>
    | simpleArgument<delim>
  complexArguments<delim> = arguments<delim> (space* "," space* simpleArgument<delim>)?
  simpleArgument<delim> = liquidVariableLookup<delim>

  variableSegment = (letter | "_") (~endOfTagName identifierCharacter)*
  variableSegmentAsLookup = variableSegment
  identifier = variableSegment "?"?

  tagMarkup = anyExceptStar<delimTag>

  liquidTagName =
    letter (alnum | "_")*

  blockName =
    // Shopify blocks
    ( "form"
    | "paginate"
    // Base blocks
    | "capture"
    | "case"
    | "for"
    | "ifchanged"
    | "if"
    | "unless"
    | "tablerow"
    ) endOfIdentifier

  delimTag = "-%}" | "%}"
  delimVO = "-}}" | "}}"
}

LiquidStatement <: Liquid {
  Node := listOf<LiquidStatement, statementSep> (space | newline)*

  // This is the big brains moment: we redefine space to exclude newlines.
  //
  // Which means that all our other Liquid rules can be reused
  // without modification(!)
  //
  // We don't need to maintain rules like this:
  // - liquidVariable<space>
  // - liquidExpression<space>
  // - variableLookup<space>
  // - ... long list of stuff that takes space as param
  // - liquidString<space>
  //
  // All we need is this little, VERY IMPORTANT, part right here that
  // make it so we can parse the same way in Liquid tags.
  //
  // I'm putting in this huge comment so that it's more obvious.
  space := " " | "\t"

  LiquidStatement =
    | liquidBlockComment
    | liquidRawTag
    | liquidTagClose
    | liquidTagOpen
    | liquidTag
    | liquidInlineComment

  liquidTagOpenRule<name, markup>
    := (name ~identifierCharacter) space* markup &liquidStatementEnd

  liquidTagRule<name, markup>
    := (name ~identifierCharacter) space* markup &liquidStatementEnd

  liquidTagClose
    := "end" (blockName ~identifierCharacter) space* tagMarkup &liquidStatementEnd

  liquidRawTagImpl<name>
    := (name ~identifierCharacter) space* tagMarkup newline
      anyExceptStar<liquidRawTagClose<name>>
      "end" name space* &liquidStatementEnd

  liquidRawTagClose<name>
    := "end" name space* &liquidStatementEnd

  liquidBlockComment :=
    commentBlockStart statementSep
      (listOf<liquidCommentBlockStatement, statementSep> statementSep)?
    commentBlockEnd

  liquidCommentBlockStatement =
    | liquidBlockComment
    | nonTerminalCommentLine

  commentBlockStart
    := ("comment" ~identifierCharacter) space* tagMarkup

  commentBlockEnd
    := ("endcomment" ~identifierCharacter) space* tagMarkup

  nonTerminalCommentLine
    = ~commentBlockEnd anyExceptPlus<newline>

  liquidInlineComment
    := "#" space? tagMarkup &liquidStatementEnd

  tagMarkup := anyExceptStar<liquidStatementEnd>

  // trailing whitespace, newline, + anything else before the next tag
  statementSep = space* newline (space | newline)*

  liquidStatementEnd = newline | end
  delimTag := liquidStatementEnd
}

LiquidDoc <: Helpers {
  Node := ImplicitDescription (LiquidDocNode | TextNode)*
  LiquidDocNode =
    | paramNode
    | exampleNode
    | descriptionNode
    | promptNode
    | fallbackNode
  
  endOfDescription = strictSpace* openControl
  descriptionContent = anyExceptStar<endOfDescription>
  ImplicitDescription = descriptionContent
    
  // By default, space matches new lines as well. We override it here to make writing rules easier.
  strictSpace = " " | "\t"
  // We use this as an escape hatch to stop matching TextNode and try again when one of these characters is encountered
  openControl:=  strictSpace* ("@" | end)
  // List of supported tags we use to identify boundaries
  supportedTags = "@prompt" | "@example" | "@description" | "@param"


  paramNode = "@param" strictSpace* paramType? strictSpace* (optionalParamName | paramName) (strictSpace* "-")? strictSpace* paramDescription
  paramType = "{" strictSpace* paramTypeContent strictSpace* "}"
  paramTypeContent = anyExceptStar<("}"| strictSpace)>

  paramName = textValue
  optionalParamName = "[" strictSpace* textValue strictSpace* "]"
  textValue = identifierCharacter+

  paramDescription = (~"]" anyExceptStar<endOfParam>)
  endOfParam = strictSpace* (newline | end)
  
  // Prompt node is system-controlled, so we don't strip the leading spaces to maintain indentation
  promptNode = "@prompt"  multilineTextContent
  exampleNode = "@example" space* multilineTextContent
  descriptionNode = "@description" space* multilineTextContent

  // We want multilineTextContent to be free-form, so instead of terminating the match at "@" we explicitly look for a suppported tag
  // This means that malformed tags will be considered part of the multilineTextContent
  multilineTextContent = anyExceptStar<endOfMultilineText>
  endOfMultilineText =  strictSpace* (supportedTags | end)

  fallbackNode = "@" anyExceptStar<endOfParam>
}

LiquidHTML <: Liquid {
  Node := yamlFrontmatter? (HtmlNode | liquidNode | TextNode)*
  openControl += "<"

  yamlFrontmatter =
    "---" newline anyExceptStar<"---"> "---" newline

  HtmlNode =
    | HtmlDoctype
    | HtmlComment
    | HtmlRawTag
    | HtmlVoidElement
    | HtmlSelfClosingElement
    | HtmlTagClose
    | HtmlTagOpen

  // https://html.spec.whatwg.org/multipage/syntax.html#the-doctype
  HtmlDoctype =
    #("<!" caseInsensitive<"doctype"> space+ caseInsensitive<"html">) legacyDoctypeString? ">"
  legacyDoctypeString
    = anyExceptPlus<">">

  HtmlComment = "<!--" #(anyExceptStar<"-->"> "-->")

  // These are black holes, we'll ignore what's in them
  HtmlRawTag =
    | HtmlRawTagImpl<"script">
    | HtmlRawTagImpl<"style">
    | HtmlRawTagImpl<"svg">

  HtmlRawTagImpl<name> =
    TagStart<name>
      (HtmlRawTagImpl<name> | AnyExceptPlus<(TagStart<name> | TagEnd<name>)>)*
    TagEnd<name>
  TagStart<name> = "<" name AttrList ">"
  TagEnd<name> = "</" name ">"

  HtmlVoidElement =
    #("<" voidElementName &(space | "/" | ">")) AttrList "/"? ">"

  HtmlSelfClosingElement =
    #("<" tagName) AttrList "/>"

  HtmlTagOpen =
    #("<" tagName) AttrList ">"

  HtmlTagClose =
    #("</" tagName) ">"

  tagName = leadingTagNamePart trailingTagNamePart*

  // The difference here is that the first text part must start
  // with a letter, but trailing text parts don't have that
  // requirement
  leadingTagNamePart =
    | liquidDrop
    | leadingTagNameTextNode

  trailingTagNamePart =
    | liquidDrop
    | trailingTagNameTextNode

  leadingTagNameTextNode = letter (alnum | "-" | ":")*
  trailingTagNameTextNode = (alnum | "-" | ":")+

  AttrList = Attr*

  Attr =
    AttrSingleQuoted | AttrDoubleQuoted | AttrUnquoted | liquidNode | attrEmpty

  attrEmpty = attrName

  AttrUnquoted = attrName "=" attrUnquotedValue
  AttrSingleQuoted = attrName "=" singleQuote #(attrSingleQuotedValue singleQuote)
  AttrDoubleQuoted = attrName "=" doubleQuote #(attrDoubleQuotedValue doubleQuote)

  attrName = (liquidDrop | attrNameTextNode)+

  // https://html.spec.whatwg.org/#attributes-2
  attrNameTextNode = anyExceptPlus<(space | quotes | "=" | ">" | "/>" | "{{" | "{%" | controls | noncharacters)>
  attrUnquotedValue = (liquidDrop | attrUnquotedTextNode)*
  attrSingleQuotedValue = (liquidNode | attrSingleQuotedTextNode)*
  attrDoubleQuotedValue = (liquidNode | attrDoubleQuotedTextNode)*

  attrUnquotedTextNode = anyExceptPlus<(space | quotes | "=" | "<" | ">" | "${"`"}" | "{{" | "{%")>
  attrSingleQuotedTextNode = anyExceptPlus<(singleQuote | "{{" | "{%")>
  attrDoubleQuotedTextNode = anyExceptPlus<(doubleQuote | "{{" | "{%")>

  quotes = singleQuote | doubleQuote

  // https://www.w3.org/TR/2011/WD-html-markup-20110113/syntax.html#void-element
  voidElementName =
    ( caseInsensitive<"area">
    | caseInsensitive<"base">
    | caseInsensitive<"br">
    | caseInsensitive<"col">
    | caseInsensitive<"command">
    | caseInsensitive<"embed">
    | caseInsensitive<"hr">
    | caseInsensitive<"img">
    | caseInsensitive<"input">
    | caseInsensitive<"keygen">
    | caseInsensitive<"link">
    | caseInsensitive<"meta">
    | caseInsensitive<"param">
    | caseInsensitive<"source">
    | caseInsensitive<"track">
    | caseInsensitive<"wbr">
    ) ~identifierCharacter
}

StrictLiquid <: Liquid {
  liquidTag := liquidTagStrict
  liquidTagOpen := liquidTagOpenStrict
}

StrictLiquidStatement <: LiquidStatement {
  liquidTag := liquidTagStrict
  liquidTagOpen := liquidTagOpenStrict
}

StrictLiquidHTML <: LiquidHTML {
  liquidTag := liquidTagStrict
  liquidTagOpen := liquidTagOpenStrict
}

WithPlaceholderLiquid <: Liquid {
  liquidFilter<delim> := space* "|" space* identifier (space* ":" space* filterArguments<delim> (space* ",")?)?
  liquidTagContentForMarkup :=
    contentForType (argumentSeparatorOptionalComma completionModeContentForTagArgument) (space* ",")? space*
  liquidTagRenderMarkup :=
    snippetExpression renderVariableExpression? renderAliasExpression? completionModeRenderArguments
  liquidTagName := (letter | "█") (alnum | "_")*
  variableSegment := (letter | "_" | "█") (identifierCharacter | "█")*
  liquidDoc :=
    liquidDocStart
      liquidDocBody
    liquidDocEnd?
}

WithPlaceholderLiquidStatement <: LiquidStatement {
  liquidFilter<delim> := space* "|" space* identifier (space* ":" space* filterArguments<delim> (space* ",")?)?
  liquidTagContentForMarkup :=
    contentForType (argumentSeparatorOptionalComma completionModeContentForTagArgument) (space* ",")? space*
  liquidTagRenderMarkup :=
    snippetExpression renderVariableExpression? renderAliasExpression? completionModeRenderArguments
  liquidTagName := (letter | "█") (alnum | "_")*
  variableSegment := (letter | "_" | "█") (identifierCharacter | "█")*
  liquidDoc :=
    liquidDocStart
      liquidDocBody
    liquidDocEnd?
}

WithPlaceholderLiquidHTML <: LiquidHTML {
  liquidFilter<delim> := space* "|" space* identifier (space* ":" space* filterArguments<delim> (space* ",")?)?
  liquidTagContentForMarkup :=
    contentForType (argumentSeparatorOptionalComma completionModeContentForTagArgument) (space* ",")? space*
  liquidTagRenderMarkup :=
    snippetExpression renderVariableExpression? renderAliasExpression? completionModeRenderArguments
  liquidTagName := (letter | "█") (alnum | "_")*
  variableSegment := (letter | "_" | "█") (identifierCharacter | "█")*
  leadingTagNameTextNode := (letter | "█") (alnum | "-" | ":" | "█")*
  trailingTagNameTextNode := (alnum | "-" | ":" | "█")+
  liquidDoc :=
    liquidDocStart
      liquidDocBody
    liquidDocEnd?
}
`},66:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSS_WHITE_SPACE_LIQUID_TAGS=t.CSS_WHITE_SPACE_DEFAULT=t.CSS_WHITE_SPACE_TAGS=t.CSS_DISPLAY_DEFAULT=t.CSS_DISPLAY_LIQUID_DEFAULT=t.CSS_DISPLAY_LIQUID_TAGS=t.CSS_DISPLAY_TAGS=void 0;const i=r(852),n=e=>Object.fromEntries(i.filter((t=>t.style[e])).flatMap((t=>t.selectorText.split(",").map((e=>e.trim())).filter((e=>/^[\dA-Za-z]+$/.test(e))).map((r=>[r,t.style[e]])))));t.CSS_DISPLAY_TAGS=Object.assign(Object.assign({},n("display")),{button:"inline-block",template:"inline",source:"block",track:"block",script:"block",param:"block",details:"block",summary:"block",dialog:"block",meter:"inline-block",progress:"inline-block",object:"inline-block",video:"inline-block",audio:"inline-block",select:"inline-block",option:"block",optgroup:"block"}),t.CSS_DISPLAY_LIQUID_TAGS={if:"inline",unless:"inline",else:"inline",elsif:"inline",case:"inline",when:"inline",for:"inline",cycle:"inline",tablerow:"block",break:"none",continue:"none",comment:"none",echo:"inline",form:"block",layout:"none",liquid:"inline",paginate:"inline",raw:"inline",render:"inline",include:"inline",section:"block",style:"none",assign:"none",capture:"inline",increment:"inline",decrement:"inline"},t.CSS_DISPLAY_LIQUID_DEFAULT="inline",t.CSS_DISPLAY_DEFAULT="inline",t.CSS_WHITE_SPACE_TAGS=n("white-space"),t.CSS_WHITE_SPACE_DEFAULT="normal",t.CSS_WHITE_SPACE_LIQUID_TAGS={capture:"pre",raw:"pre"}},806:function(e,t,r){"use strict";const i=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(875));e.exports=i.default},391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsers=t.liquidHtmlParser=t.liquidHtmlLanguageName=t.liquidHtmlAstFormat=t.parse=void 0;const i=r(849),n=r(703);function s(e){return(0,i.toLiquidHtmlAST)(e)}t.parse=s,t.liquidHtmlAstFormat="liquid-html-ast",t.liquidHtmlLanguageName="liquid-html",t.liquidHtmlParser={parse:s,astFormat:t.liquidHtmlAstFormat,locStart:n.locStart,locEnd:n.locEnd},t.parsers={[t.liquidHtmlLanguageName]:t.liquidHtmlParser}},875:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.plugin3=t.plugin2=void 0;const i=r(210),n=r(391),s=r(313),a=[{name:"LiquidHTML",parsers:[n.liquidHtmlLanguageName],extensions:[".liquid"],vscodeLanguageIds:["liquid","Liquid"]}],o={captureWhitespaceSensitivity:{type:"choice",description:"Specify the global whitespace sensitivity for the capture Liquid tag.",choices:[{value:"strict",description:"Whitespace inside {% capture var %} tags is considered significant."},{value:"ignore",description:"Whitespace inside {% capture var %} tags is considered insignificant."}],category:"LIQUID",default:"strict",since:"1.5.0"},liquidSingleQuote:{type:"boolean",category:"LIQUID",default:!0,description:"Use single quotes instead of double quotes in Liquid tags and objects.",since:"0.2.0"},embeddedSingleQuote:{type:"boolean",category:"LIQUID",default:!0,description:"Use single quotes instead of double quotes in embedded languages (JavaScript, CSS, TypeScript inside <script>, <style> or Liquid equivalent).",since:"0.4.0"},singleLineLinkTags:{type:"boolean",category:"HTML",default:!1,description:"Always print link tags on a single line to remove clutter",since:"0.1.0"},indentSchema:{type:"boolean",category:"LIQUID",default:!1,description:"Indent the contents of the {% schema %} tag",since:"0.1.0"},liquidDocParamDash:{type:"boolean",category:"LIQUID",default:!0,description:"Append a dash (-) to separate descriptions in {% doc %} @param annotations",since:"1.6.4"}},l={printWidth:120};t.plugin2={languages:a,parsers:n.parsers,printers:s.printers2,options:o,defaultOptions:l},t.plugin3={languages:a,parsers:n.parsers,printers:s.printers3,options:o,defaultOptions:l};const u=i.version.split(".")[0];t.default="2"===u?t.plugin2:t.plugin3},596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.embed3=t.embed2=t.ParserMap=void 0;const i=r(210),n=r(849),{builders:{dedentToRoot:s,indent:a,hardline:o}}=i.doc;function l(e,t){const r=e.parentNode,i=r&&r.type===n.NodeTypes.LiquidRawTag&&"schema"===r.name&&!t.indentSchema;return e.kind!==n.RawMarkupKinds.markdown&&!i}t.ParserMap={[n.RawMarkupKinds.css]:"css",[n.RawMarkupKinds.html]:null,[n.RawMarkupKinds.javascript]:"babel",[n.RawMarkupKinds.json]:"json",[n.RawMarkupKinds.markdown]:"markdown",[n.RawMarkupKinds.typescript]:"typescript",[n.RawMarkupKinds.text]:null},t.embed2=(e,r,u,c)=>{const p=e.getValue();if(p.type===n.NodeTypes.RawMarkup){const e=t.ParserMap[p.kind];if(e&&""!==p.value.trim()){const t=i.doc.utils.stripTrailingHardline(u(p.value,Object.assign(Object.assign({},c),{singleQuote:c.embeddedSingleQuote,parser:e,__embeddedInHtml:!0})));return l(p,c)?[a([o,t]),o]:[s([o,t]),o]}}return null},t.embed3=(e,r)=>u=>{const c=e.node;if(c.type===n.NodeTypes.RawMarkup){const e=t.ParserMap[c.kind];if(e&&""!==c.value.trim())return u(c.value,Object.assign(Object.assign({},r),{singleQuote:r.embeddedSingleQuote,parser:e,__embeddedInHtml:!0})).then((e=>{const t=i.doc.utils.stripTrailingHardline(e);return l(c,r)?[a([o,t]),o]:[s([o,t]),o]}))}}},313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printers3=t.printers2=void 0;const i=r(826),n=r(391);t.printers2={[n.liquidHtmlAstFormat]:i.printerLiquidHtml2},t.printers3={[n.liquidHtmlAstFormat]:i.printerLiquidHtml3}},214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.augmentWithCSSProperties=void 0;const i=r(849),n=r(66),s=r(703);function a(e){var t;return null===(t=e.match(/^\s*display:\s*([a-z]+)\s*$/))||void 0===t?void 0:t[1]}function o(e){var t;return null===(t=e.match(/^\s*white-?space:\s*([a-z]+)\s*$/))||void 0===t?void 0:t[1]}function l(e,t){if(e.prev&&e.prev.type===i.NodeTypes.HtmlComment){const t=a(e.prev.body);if(t)return t}if(e.prev&&e.prev.type===i.NodeTypes.LiquidTag&&"#"===e.prev.name){const t=a(e.prev.markup);if(t)return t}switch(e.type){case i.NodeTypes.HtmlElement:case i.NodeTypes.HtmlDanglingMarkerClose:case i.NodeTypes.HtmlSelfClosingElement:switch(t.htmlWhitespaceSensitivity){case"strict":return"inline";case"ignore":return"block";default:return 1===e.name.length&&e.name[0].type===i.NodeTypes.TextNode&&n.CSS_DISPLAY_TAGS[e.name[0].value]||n.CSS_DISPLAY_DEFAULT}case i.NodeTypes.HtmlVoidElement:case i.NodeTypes.HtmlRawNode:switch(t.htmlWhitespaceSensitivity){case"strict":return"inline";case"ignore":return"block";default:return n.CSS_DISPLAY_TAGS[e.name]||n.CSS_DISPLAY_DEFAULT}case i.NodeTypes.RawMarkup:case i.NodeTypes.TextNode:return"inline";case i.NodeTypes.LiquidTag:case i.NodeTypes.LiquidRawTag:switch(t.htmlWhitespaceSensitivity){case"strict":return"inline";case"ignore":return"block";default:return n.CSS_DISPLAY_LIQUID_TAGS[e.name]||n.CSS_DISPLAY_LIQUID_DEFAULT}case i.NodeTypes.LiquidBranch:case i.NodeTypes.LiquidVariableOutput:case i.NodeTypes.AttrDoubleQuoted:case i.NodeTypes.AttrSingleQuoted:case i.NodeTypes.AttrUnquoted:case i.NodeTypes.AttrEmpty:return"inline";case i.NodeTypes.HtmlDoctype:case i.NodeTypes.HtmlComment:case i.NodeTypes.Document:case i.NodeTypes.YAMLFrontmatter:return"block";case i.NodeTypes.LiquidVariable:case i.NodeTypes.LiquidFilter:case i.NodeTypes.NamedArgument:case i.NodeTypes.LiquidLiteral:case i.NodeTypes.BooleanExpression:case i.NodeTypes.String:case i.NodeTypes.Number:case i.NodeTypes.Range:case i.NodeTypes.VariableLookup:case i.NodeTypes.AssignMarkup:case i.NodeTypes.CycleMarkup:case i.NodeTypes.ContentForMarkup:case i.NodeTypes.ForMarkup:case i.NodeTypes.PaginateMarkup:case i.NodeTypes.RenderMarkup:case i.NodeTypes.RenderVariableExpression:case i.NodeTypes.RenderAliasExpression:case i.NodeTypes.LogicalExpression:case i.NodeTypes.Comparison:case i.NodeTypes.LiquidDocParamNode:case i.NodeTypes.LiquidDocExampleNode:case i.NodeTypes.LiquidDocDescriptionNode:case i.NodeTypes.LiquidDocPromptNode:return"should not be relevant";default:return(0,s.assertNever)(e)}}function u(e,t){if(e.prev&&e.prev.type===i.NodeTypes.HtmlComment){const t=o(e.prev.body);if(t)return t}if(e.prev&&e.prev.type===i.NodeTypes.LiquidTag&&"#"===e.prev.name){const t=o(e.prev.markup);if(t)return t}switch(e.type){case i.NodeTypes.HtmlElement:case i.NodeTypes.HtmlDanglingMarkerClose:case i.NodeTypes.HtmlSelfClosingElement:return 1===e.name.length&&e.name[0].type===i.NodeTypes.TextNode&&n.CSS_WHITE_SPACE_TAGS[e.name[0].value]||n.CSS_WHITE_SPACE_DEFAULT;case i.NodeTypes.HtmlVoidElement:case i.NodeTypes.HtmlRawNode:return n.CSS_WHITE_SPACE_TAGS[e.name]||n.CSS_WHITE_SPACE_DEFAULT;case i.NodeTypes.TextNode:return n.CSS_WHITE_SPACE_DEFAULT;case i.NodeTypes.RawMarkup:case i.NodeTypes.YAMLFrontmatter:case i.NodeTypes.LiquidRawTag:return"pre";case i.NodeTypes.LiquidTag:if("capture"===e.name)switch(t.captureWhitespaceSensitivity){case"strict":return"pre";case"ignore":return"normal";default:throw(0,s.assertNever)(t.captureWhitespaceSensitivity)}return n.CSS_WHITE_SPACE_LIQUID_TAGS[e.name]||n.CSS_WHITE_SPACE_DEFAULT;case i.NodeTypes.LiquidBranch:case i.NodeTypes.LiquidVariableOutput:case i.NodeTypes.AttrDoubleQuoted:case i.NodeTypes.AttrSingleQuoted:case i.NodeTypes.AttrUnquoted:case i.NodeTypes.AttrEmpty:case i.NodeTypes.HtmlDoctype:case i.NodeTypes.HtmlComment:case i.NodeTypes.Document:return n.CSS_WHITE_SPACE_DEFAULT;case i.NodeTypes.LiquidVariable:case i.NodeTypes.LiquidFilter:case i.NodeTypes.NamedArgument:case i.NodeTypes.LiquidLiteral:case i.NodeTypes.BooleanExpression:case i.NodeTypes.String:case i.NodeTypes.Number:case i.NodeTypes.Range:case i.NodeTypes.VariableLookup:case i.NodeTypes.AssignMarkup:case i.NodeTypes.CycleMarkup:case i.NodeTypes.ContentForMarkup:case i.NodeTypes.ForMarkup:case i.NodeTypes.PaginateMarkup:case i.NodeTypes.RenderMarkup:case i.NodeTypes.RenderVariableExpression:case i.NodeTypes.RenderAliasExpression:case i.NodeTypes.LogicalExpression:case i.NodeTypes.Comparison:case i.NodeTypes.LiquidDocParamNode:case i.NodeTypes.LiquidDocExampleNode:case i.NodeTypes.LiquidDocDescriptionNode:case i.NodeTypes.LiquidDocPromptNode:return"should not be relevant";default:return(0,s.assertNever)(e)}}t.augmentWithCSSProperties=(e,t)=>{const r={cssDisplay:l(t,e),cssWhitespace:u(t,e)};Object.assign(t,r)}},397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.augmentWithFamily=void 0,t.augmentWithFamily=(e,t)=>{const r=t.children||[],i={firstChild:r[0],lastChild:r[r.length-1]};Object.assign(t,i)}},961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.augmentWithParent=void 0,t.augmentWithParent=(e,t,r)=>{const i={parentNode:r};Object.assign(t,i),Object.defineProperty(t,"_rawSource",{get(){return this.source.slice(this.position.start,this.position.end)}})}},670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.augmentWithSiblings=t.next=t.prev=void 0;const i=r(523);function n(e){if(!e.parentNode)return;const t=a(e);return t[t.indexOf(e)-1]}function s(e){if(!e.parentNode)return;const t=a(e);return t[t.indexOf(e)+1]}function a(e){if(!e.parentNode)return[];for(const t of Object.keys(e.parentNode)){const r=e.parentNode[t];if(Array.isArray(r)&&-1!==r.indexOf(e))return r;if((0,i.isLiquidHtmlNode)(r)&&r===e)return[]}throw new Error("Could not find parent collection of node")}t.prev=n,t.next=s,t.augmentWithSiblings=(e,t)=>{const r={next:s(t),prev:n(t)};Object.assign(t,r)}},528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTrimmingInnerRight=t.isTrimmingInnerLeft=t.isTrimmingOuterLeft=t.isTrimmingOuterRight=t.isParentNode=t.isLiquidNode=t.isHtmlNode=t.augmentWithWhitespaceHelpers=void 0;const i=r(849),n=r(66),s=r(699);function a(e){return!(T(t=e.cssDisplay)||"inline-block"===t||(0,s.isScriptLikeTag)(e)||v(e)||b(e));var t}function o(e){return l(e)}function l(e){return function(e){return h(e)&&"string"==typeof e.name&&n.CSS_WHITE_SPACE_TAGS[e.name]||g(e)&&"name"in e&&"string"==typeof e.name&&n.CSS_WHITE_SPACE_LIQUID_TAGS[e.name]||n.CSS_WHITE_SPACE_DEFAULT}(e).startsWith("pre")}function u(e){if(!e)return!1;if(e.type===i.NodeTypes.LiquidBranch){const t=null===e.name,r=!!e.firstChild,i=x(e.parentNode.cssDisplay),n=u(e.firstChild);return t?i&&(!r||n):i}return!((!e.parentNode||!(0,s.isAttributeNode)(e.parentNode)||e.type!==i.NodeTypes.LiquidVariableOutput)&&(S(e)||e.prev&&y(e.prev)||!e.parentNode||"none"===e.parentNode.cssDisplay||!(0,s.isPreLikeNode)(e.parentNode)&&((0,s.isScriptLikeTag)(e)||!e.prev&&(e.parentNode.type===i.NodeTypes.Document||(0,s.isPreLikeNode)(e)||(0,s.isScriptLikeTag)(e.parentNode)||!x(e.parentNode.cssDisplay)||v(e.parentNode))||e.prev&&!L(e.prev.cssDisplay)||!N(e.cssDisplay))))}function c(e){if(!e)return!1;if(e.type===i.NodeTypes.LiquidBranch){const t=e.parentNode&&e.parentNode.lastChild===e,r=!e.lastChild,i=e.lastChild,n=!!i&&c(i);return t?I(e.parentNode.cssDisplay)&&(r||n):r||n}return w(e)?e.lastChild?(T(t=e.cssDisplay)||"inline"===t||"inline-block"===t)&&c(e.lastChild):x(e.cssDisplay):!(y(e)||(!e.parentNode||!(0,s.isAttributeNode)(e.parentNode)||e.type!==i.NodeTypes.LiquidVariableOutput)&&(e.next&&S(e.next)||!e.parentNode||"none"===e.parentNode.cssDisplay||!(0,s.isPreLikeNode)(e.parentNode)&&((0,s.isScriptLikeTag)(e)||h(e)&&"string"==typeof e.name&&"br"===e.name||!e.next&&(e.parentNode.type===i.NodeTypes.Document||(0,s.isPreLikeNode)(e)||(0,s.isScriptLikeTag)(e.parentNode)||!w(e.parentNode)&&!I(e.parentNode.cssDisplay)||b(e.parentNode)||(0,s.isAttributeNode)(e))||e.next&&!N(e.next.cssDisplay)||!L(e.cssDisplay))));var t}function p(e){return!!f(e)&&(e.type===i.NodeTypes.Document?0===e.children.length&&e.source.length>0:!!e.children&&(e.type===i.NodeTypes.LiquidTag&&(0,i.isBranchedTag)(e)&&1===e.children.length?p(e.firstChild):!(e.children.length>0)&&(0,s.isWhitespace)(e.source,e.blockStartPosition.end)))}function d(e){return e.type!==i.NodeTypes.LiquidBranch||e.prev?(0,s.isWhitespace)(e.source,e.position.start-1):e.firstChild?d(e.firstChild):p(e)}function m(e){return e.type===i.NodeTypes.LiquidBranch||w(e)?e.lastChild?m(e.lastChild):p(e):(0,s.isWhitespace)(e.source,e.position.end)}function h(e){return i.HtmlNodeTypes.includes(e.type)}function g(e){return!!e&&i.LiquidNodeTypes.includes(e.type)}function f(e){return"children"in e}function y(e){var t;if(!e)return!1;switch(e.type){case i.NodeTypes.LiquidRawTag:case i.NodeTypes.LiquidTag:return"-"===(null!==(t=e.delimiterWhitespaceEnd)&&void 0!==t?t:e.whitespaceEnd);case i.NodeTypes.LiquidBranch:return!1;case i.NodeTypes.LiquidVariableOutput:return"-"===e.whitespaceEnd;default:return!1}}function S(e){if(!e)return!1;switch(e.type){case i.NodeTypes.LiquidRawTag:case i.NodeTypes.LiquidTag:case i.NodeTypes.LiquidBranch:case i.NodeTypes.LiquidVariableOutput:return"-"===e.whitespaceStart;default:return!1}}function v(e){if(!e)return!1;switch(e.type){case i.NodeTypes.LiquidRawTag:case i.NodeTypes.LiquidTag:return void 0!==e.delimiterWhitespaceEnd&&"-"===e.whitespaceEnd;case i.NodeTypes.LiquidBranch:return!(!e.parentNode||e.parentNode.type!==i.NodeTypes.LiquidTag)&&(e.prev?"-"===e.whitespaceEnd:v(e.parentNode));case i.NodeTypes.LiquidVariableOutput:default:return!1}}function b(e){if(!e)return!1;switch(e.type){case i.NodeTypes.LiquidRawTag:case i.NodeTypes.LiquidTag:return void 0!==e.delimiterWhitespaceStart&&"-"===e.delimiterWhitespaceStart;case i.NodeTypes.LiquidBranch:return!(!e.parentNode||e.parentNode.type!==i.NodeTypes.LiquidTag)&&(e.next?S(e.next):b(e.parentNode));case i.NodeTypes.LiquidVariableOutput:default:return!1}}function T(e){return"block"===e||"list-item"===e||e.startsWith("table")}function x(e){return!T(e)&&"inline-block"!==e}function I(e){return!T(e)&&"inline-block"!==e}function N(e){return!T(e)}function L(e){return!T(e)}function w(e){return!!e&&e.type===i.NodeTypes.HtmlElement&&e.blockEndPosition.start===e.blockEndPosition.end}t.augmentWithWhitespaceHelpers=(e,t)=>{if("should not be relevant"===t.cssDisplay)return;const r={isDanglingWhitespaceSensitive:a(t),isIndentationSensitive:l(t),isWhitespaceSensitive:o(t),isLeadingWhitespaceSensitive:u(t)&&(!t.prev||c(t.prev)),isTrailingWhitespaceSensitive:c(t)&&(!t.next||u(t.next)),hasLeadingWhitespace:d(t),hasTrailingWhitespace:m(t),hasDanglingWhitespace:p(t)};Object.assign(t,r)},t.isHtmlNode=h,t.isLiquidNode=g,t.isParentNode=f,t.isTrimmingOuterRight=y,t.isTrimmingOuterLeft=S,t.isTrimmingInnerLeft=v,t.isTrimmingInnerRight=b},640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUGMENTATION_PIPELINE=void 0;const i=r(214),n=r(961),s=r(670),a=r(528),o=r(397);t.AUGMENTATION_PIPELINE=[n.augmentWithParent,s.augmentWithSiblings,o.augmentWithFamily,i.augmentWithCSSProperties,a.augmentWithWhitespaceHelpers]},17:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.preprocess=void 0;const a=s(r(849)),o=r(640);t.preprocess=function(e,t){const r=o.AUGMENTATION_PIPELINE.map((e=>e.bind(null,t)));for(const t of r)a.walk(e,t);return e}},586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printChildren=void 0;const i=r(849),n=r(210),s=r(703),a=r(699),o=r(918),{builders:{breakParent:l,group:u,ifBreak:c,line:p,softline:d,hardline:m}}=n.doc,{replaceEndOfLine:h}=n.doc.utils;function g(e,t,r,n){const l=e.getValue();if((0,a.hasPrettierIgnore)(l)){const e=l.prev&&(0,o.needsToBorrowNextOpeningTagStartMarker)(l.prev)?(0,o.printOpeningTagStartMarker)(l).length:0,r=(0,s.locStart)(l)+e,n=l.next&&(0,o.needsToBorrowPrevClosingTagEndMarker)(l.next),a=n?(0,o.printClosingTagEndMarker)(l,t).length:0,u=(0,s.locEnd)(l)-a;let c=t.originalText.slice(r,u);return l.type===i.NodeTypes.HtmlElement&&n&&(c=c.trimEnd()),[(0,o.printOpeningTagPrefix)(l,t),...h(c),(0,o.printClosingTagSuffix)(l,t)]}return r(e,n)}function f(e,t){return e&&t?(0,o.needsToBorrowNextOpeningTagStartMarker)(e)&&((0,a.hasPrettierIgnore)(t)||t.firstChild||(0,a.hasNoChildren)(t)||t.type===i.NodeTypes.HtmlElement&&t.attributes.length>0)||e.type===i.NodeTypes.HtmlElement&&(0,a.hasNoCloseMarker)(e)&&(0,o.needsToBorrowPrevClosingTagEndMarker)(t)?"":!t.isLeadingWhitespaceSensitive||(0,a.preferHardlineAsLeadingSpaces)(t)||(0,o.needsToBorrowPrevClosingTagEndMarker)(t)&&e.lastChild&&(0,o.needsToBorrowParentClosingTagStartMarker)(e.lastChild)&&e.lastChild.lastChild&&(0,o.needsToBorrowParentClosingTagStartMarker)(e.lastChild.lastChild)?m:t.hasLeadingWhitespace?p:d:""}t.printChildren=function(e,t,r,i){const n=e.getValue();if(!n.children)throw new Error("attempting to use printChildren on something without children");if((0,a.forceBreakChildren)(n))return[l,...e.map((e=>{const n=e.getValue(),s=f(n.prev,n);return[s?[s,(0,a.forceNextEmptyLine)(n.prev)?m:""]:"",g(e,t,r,Object.assign(Object.assign({},i),{leadingSpaceGroupId:a.FORCE_BREAK_GROUP_ID,trailingSpaceGroupId:a.FORCE_BREAK_GROUP_ID}))]}),"children")];const s=n.children.map(((e,t)=>Symbol(`leading-${t}`))),o=n.children.map(((e,t)=>Symbol(`trailing-${t}`))),p=e.map(((e,t)=>{const r=e.getValue(),i=[],n=[],s=[],l=[],u=[],p=f(r.prev,r),h=f(r,r.next);return(0,a.isTextLikeNode)(r)||(p&&((0,a.forceNextEmptyLine)(r.prev)?i.push(m,m):p===m?i.push(m):(0,a.isTextLikeNode)(r.prev)?(0,a.isLiquidNode)(r)&&p===d?s.push(p):n.push(p):n.push(c("",d,{groupId:o[t-1]}))),h&&((0,a.forceNextEmptyLine)(r)?(0,a.isTextLikeNode)(r.next)&&u.push(m,m):h===m?(0,a.isTextLikeNode)(r.next)&&u.push(m):l.push(h))),{leadingHardlines:i,leadingWhitespace:n,leadingDependentWhitespace:s,trailingWhitespace:l,trailingHardlines:u}}),"children");return e.map(((e,n)=>{const{leadingHardlines:a,leadingWhitespace:l,leadingDependentWhitespace:c,trailingWhitespace:d,trailingHardlines:m}=p[n];return[...a,u([...l,u([...c,g(e,t,r,Object.assign(Object.assign({},i),{leadingSpaceGroupId:h(p,n),trailingSpaceGroupId:y(p,n)})),...d],{id:o[n]})],{id:s[n]}),...m]}),"children");function h(e,t){if(0===t)return i.leadingSpaceGroupId;const r=e[t-1],n=e[t],l=[];return(0,a.isEmpty)(r.trailingHardlines)&&(0,a.isEmpty)(n.leadingHardlines)?((0,a.isEmpty)(r.trailingWhitespace)||l.push(o[t-1]),(0,a.isEmpty)(n.leadingWhitespace)||l.push(s[t]),(0,a.isEmpty)(n.leadingDependentWhitespace)||l.push(o[t]),(0,a.isEmpty)(l)&&l.push(a.FORCE_FLAT_GROUP_ID),l):a.FORCE_BREAK_GROUP_ID}function y(e,t){if(t===e.length-1)return i.trailingSpaceGroupId;const r=e[t],n=e[t+1],s=[];return(0,a.isEmpty)(r.trailingHardlines)&&(0,a.isEmpty)(n.leadingHardlines)?((0,a.isEmpty)(r.trailingWhitespace)||s.push(o[t]),(0,a.isEmpty)(s)&&s.push(a.FORCE_FLAT_GROUP_ID),s):a.FORCE_BREAK_GROUP_ID}}},398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printElement=t.printRawElement=void 0;const i=r(210),n=r(849),s=r(699),a=r(918),o=r(586),{builders:{breakParent:l,dedentToRoot:u,group:c,indent:p,hardline:d,line:m,softline:h}}=i.doc,{replaceEndOfLine:g}=i.doc.utils;function f(e,t,r,i){const n=e.getValue(),s=Symbol("element-attr-group-id");let o=[];return""===n.body.value.trim()||(o=[e.call((e=>r(e)),"body")]),c([(0,a.printOpeningTagPrefix)(n,t),c((0,a.printOpeningTag)(e,t,r,s),{id:s}),...o,...(0,a.printClosingTag)(n,t),(0,a.printClosingTagSuffix)(n,t)])}t.printRawElement=f,t.printElement=function(e,t,r,i){const d=e.getValue(),y=Symbol("element-attr-group-id"),S=Symbol("element-group-id");if(d.type===n.NodeTypes.HtmlRawNode)return f(e,t,r);if((0,s.hasNoChildren)(d))return[c((0,a.printOpeningTag)(e,t,r,y),{id:y}),...(0,a.printClosingTag)(d,t),(0,a.printClosingTagSuffix)(d,t)];if((0,s.shouldPreserveContent)(d))return[(0,a.printOpeningTagPrefix)(d,t),c((0,a.printOpeningTag)(e,t,r,y),{id:y}),...g((0,a.getNodeContent)(d,t)),...(0,a.printClosingTag)(d,t),(0,a.printClosingTagSuffix)(d,t)];const v=i=>c([c((0,a.printOpeningTag)(e,t,r,y),{id:y}),i,(0,a.printClosingTag)(d,t)],{id:S});return 0===d.children.length?v(d.hasDanglingWhitespace&&d.isDanglingWhitespaceSensitive&&d.blockEndPosition.end!==d.blockEndPosition.start?m:""):v([(0,s.forceBreakContent)(d)?l:"",p([d.firstChild.hasLeadingWhitespace&&d.firstChild.isLeadingWhitespaceSensitive?m:d.firstChild.type===n.NodeTypes.TextNode&&d.isWhitespaceSensitive&&d.isIndentationSensitive?u(h):h,(0,o.printChildren)(e,t,r,{leadingSpaceGroupId:S,trailingSpaceGroupId:S})]),d.blockEndPosition.start===d.blockEndPosition.end?"":(d.next?(0,a.needsToBorrowPrevClosingTagEndMarker)(d.next):(0,a.needsToBorrowLastChildClosingTagEndMarker)(d.parentNode))?d.lastChild.hasTrailingWhitespace&&d.lastChild.isTrailingWhitespaceSensitive?" ":"":d.lastChild.hasTrailingWhitespace&&d.lastChild.isTrailingWhitespaceSensitive?m:h])}},977:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printLiquidBranch=t.printLiquidDocPrompt=t.printLiquidDocDescription=t.printLiquidDocExample=t.printLiquidDocParam=t.printLiquidDoc=t.printLiquidRawTag=t.printLiquidTag=t.printLiquidBlockEnd=t.printLiquidBlockStart=t.printLiquidVariableOutput=void 0;const i=r(849),n=r(210),s=r(703),a=r(699),o=r(586),l=["for","case"],{builders:u,utils:c}=n.doc,{group:p,hardline:d,ifBreak:m,indent:h,join:g,line:f,softline:y,literalline:S}=u,{replaceEndOfLine:v}=n.doc.utils;function b(e,t,r,o={}){const l=e.getValue(),{leadingSpaceGroupId:u,trailingSpaceGroupId:m}=o;if(!l.name)return"";const y=(0,a.getWhitespaceTrim)(l.whitespaceStart,L(l),u),S=(0,a.getWhitespaceTrim)(l.whitespaceEnd,function(e){switch(e.type){case i.NodeTypes.LiquidTag:return(0,i.isBranchedTag)(e)?L(e.firstChild):e.children?(0,a.isEmpty)(e.children)?(0,a.hasMeaningfulLackOfDanglingWhitespace)(e):(0,a.hasMeaningfulLackOfLeadingWhitespace)(e.firstChild):(0,a.hasMeaningfulLackOfTrailingWhitespace)(e);case i.NodeTypes.LiquidBranch:return!(0,a.isAttributeNode)(e.parentNode)&&(e.firstChild?(0,a.hasMeaningfulLackOfLeadingWhitespace)(e.firstChild):(0,a.hasMeaningfulLackOfDanglingWhitespace)(e));default:return(0,s.assertNever)(e)}}(l),m);if("string"!=typeof l.markup)return function(e,t,r,n,a,o){const l=e.getValue(),{isLiquidStatement:u}=n,{wrapper:m,prefix:y,suffix:S}=u?{wrapper:c.removeLines,prefix:"",suffix:()=>""}:{wrapper:p,prefix:["{%",a," "],suffix:e=>[e,o,"%}"]},v=t=>m([...y,l.name," ",h(e.call((e=>r(e,n)),"markup")),...S(t)]),b=t=>m([...y,l.name," ",h([g([",",f],e.map((e=>r(e,n)),"markup"))]),...S(t)]);switch(l.name){case i.NamedTags.echo:return v(l.markup.filters.length>0?f:" ");case i.NamedTags.assign:return v(l.markup.value.filters.length>0?f:" ");case i.NamedTags.cycle:{const t=l.markup.args.length>1?f:" ";return m([...y,l.name,l.markup.groupName?" ":"",h(e.call((e=>r(e,n)),"markup")),...S(t)])}case i.NamedTags.content_for:return v(l.markup.args.length>0?f:" ");case i.NamedTags.include:case i.NamedTags.render:{const e=l.markup;return v(e.args.length>0||e.variable&&e.alias?f:" ")}case i.NamedTags.capture:case i.NamedTags.increment:case i.NamedTags.decrement:case i.NamedTags.layout:case i.NamedTags.section:case i.NamedTags.sections:return v(" ");case i.NamedTags.form:return b(l.markup.length>1?f:" ");case i.NamedTags.tablerow:case i.NamedTags.for:return v(l.markup.reversed||l.markup.args.length>0?f:" ");case i.NamedTags.paginate:return v(f);case i.NamedTags.if:case i.NamedTags.elsif:case i.NamedTags.unless:return v([i.NodeTypes.Comparison,i.NodeTypes.LogicalExpression].includes(l.markup.type)?f:" ");case i.NamedTags.case:return v(" ");case i.NamedTags.when:return b(l.markup.length>1?f:" ");case i.NamedTags.liquid:return p([...y,l.name,h([d,g(d,e.map((e=>{const t=e.getValue();return[w(t.prev,t),r(e,Object.assign(Object.assign({},n),{isLiquidStatement:!0}))]}),"markup"))]),...S(d)]);default:return(0,s.assertNever)(l)}}(e,0,r,o,y,S);if(o.isLiquidStatement)return function(e){const t=e.getValue(),r=""===t.markup.trim()||"#"===t.name&&t.markup.startsWith("#");return n.doc.utils.removeLines([t.name,r?"":" ",t.markup])}(e);const v=(0,a.markupLines)(l.markup);if("liquid"===l.name)return p(["{%",y," ",l.name,h([d,g(d,(0,a.reindent)(v,!0))]),d,S,"%}"]);if(v.length>1)return p(["{%",y,h([d,l.name," ",g(d,v.map(a.trim))]),d,S,"%}"]);const b=l.markup;return p(["{%",y," ",l.name,b?` ${b}`:""," ",S,"%}"])}function T(e,t,r,n={}){var s,o;const l=e.getValue(),{isLiquidStatement:u,leadingSpaceGroupId:c,trailingSpaceGroupId:d}=n;if(!l.children||!l.blockEndPosition)return"";if(u)return["end",l.name];const m=(0,a.getWhitespaceTrim)(null!==(s=l.delimiterWhitespaceStart)&&void 0!==s?s:"",function(e){if(e.children)return!(0,a.isAttributeNode)(e)&&((0,i.isBranchedTag)(e)?(0,a.hasMeaningfulLackOfTrailingWhitespace)(e.lastChild):(0,a.isEmpty)(e.children)?(0,a.hasMeaningfulLackOfDanglingWhitespace)(e):(0,a.hasMeaningfulLackOfTrailingWhitespace)(e.lastChild));throw new Error("Should only call needsBlockEndLeadingWhitespaceStrippingOnBreak for tags that have closing tags")}(l),c),h=(0,a.getWhitespaceTrim)(null!==(o=l.delimiterWhitespaceEnd)&&void 0!==o?o:"",(0,a.hasMeaningfulLackOfTrailingWhitespace)(l),d);return p(["{%",m,` end${l.name} `,h,"%}"])}function x(e){return e.children&&e.blockEndPosition?e.source.slice(e.blockStartPosition.end,e.blockEndPosition.start):""}function I(e){return e.firstChild?e.firstChild.hasLeadingWhitespace&&e.firstChild.isLeadingWhitespaceSensitive?f:y:e.isDanglingWhitespaceSensitive&&e.hasDanglingWhitespace?f:""}function N(e,t){return!t.isLiquidStatement&&(0,a.shouldPreserveContent)(e)||e.type===i.NodeTypes.LiquidBranch||!e.blockEndPosition||!e.lastChild?"":e.lastChild.hasTrailingWhitespace&&e.lastChild.isTrailingWhitespaceSensitive?f:y}function L(e){switch(e.type){case i.NodeTypes.LiquidTag:return!(0,a.isAttributeNode)(e)&&(0,a.hasMeaningfulLackOfLeadingWhitespace)(e);case i.NodeTypes.LiquidBranch:return!(0,a.isAttributeNode)(e.parentNode)&&(0,a.hasMeaningfulLackOfLeadingWhitespace)(e);default:return(0,s.assertNever)(e)}}function w(e,t){return e&&(t.source.slice(e.position.end,t.position.start).match(/\n/g)||[]).length>1?d:""}t.printLiquidVariableOutput=function(e,t,r,{leadingSpaceGroupId:i,trailingSpaceGroupId:n}){const s=e.getValue(),o=(0,a.getWhitespaceTrim)(s.whitespaceStart,(0,a.hasMeaningfulLackOfLeadingWhitespace)(s),i),l=(0,a.getWhitespaceTrim)(s.whitespaceEnd,(0,a.hasMeaningfulLackOfTrailingWhitespace)(s),n);if("string"!=typeof s.markup){const t=s.markup.filters.length>0?f:" ";return p(["{{",o,h([t,e.call((e=>r(e)),"markup")]),t,l,"}}"])}const u=(0,a.markupLines)(s.markup);return u.length>1?p(["{{",o,h([d,g(d,u.map(a.trim))]),d,l,"}}"]):p(["{{",o," ",s.markup," ",l,"}}"])},t.printLiquidBlockStart=b,t.printLiquidBlockEnd=T,t.printLiquidTag=function(e,t,r,n){const{leadingSpaceGroupId:s,trailingSpaceGroupId:u}=n,c=e.getValue();if(!c.children||!c.blockEndPosition)return b(e,0,r,n);if(!n.isLiquidStatement&&(0,a.shouldPreserveContent)(c))return[b(e,0,r,Object.assign(Object.assign({},n),{leadingSpaceGroupId:s,trailingSpaceGroupId:a.FORCE_FLAT_GROUP_ID})),...v(x(c)),T(e,0,0,Object.assign(Object.assign({},n),{leadingSpaceGroupId:a.FORCE_FLAT_GROUP_ID,trailingSpaceGroupId:u}))];const d=Symbol("tag-group"),m=b(e,0,r,Object.assign(Object.assign({},n),{leadingSpaceGroupId:s,trailingSpaceGroupId:d})),g=T(e,0,0,Object.assign(Object.assign({},n),{leadingSpaceGroupId:d,trailingSpaceGroupId:u}));let f=[];return(0,i.isBranchedTag)(c)?(f=e.map((e=>r(e,Object.assign(Object.assign({},n),{leadingSpaceGroupId:d,trailingSpaceGroupId:d}))),"children").filter((e=>""!==e)),"case"===c.name&&(f=h(f))):c.children.length>0&&(f=h([I(c),(0,o.printChildren)(e,t,r,Object.assign(Object.assign({},n),{leadingSpaceGroupId:d,trailingSpaceGroupId:d}))])),p([m,f,N(c,n),g],{id:d,shouldBreak:l.includes(c.name)||(0,a.originallyHadLineBreaks)(e,t)||(0,a.isAttributeNode)(c)||(0,a.isDeeplyNested)(c)})},t.printLiquidRawTag=function(e,t,r,{isLiquidStatement:i}){let n=[];const s=e.getValue(),o=""===s.body.value.trim(),l=s.isIndentationSensitive||!(0,a.hasLineBreakInRange)(s.source,s.body.position.start,s.body.position.end),u=i?[s.name]:p(["{%",s.whitespaceStart," ",s.name," ",s.markup?`${s.markup} `:"",s.whitespaceEnd,"%}"]),c=i?["end",s.name]:["{%",s.whitespaceStart," ","end",s.name," ",s.whitespaceEnd,"%}"];return n=l?[s.source.slice(s.blockStartPosition.end,s.blockEndPosition.start)]:o?[d]:[e.call((e=>r(e)),"body")],[u,...n,c]},t.printLiquidDoc=function(e,t,r,i){const n=e.map((e=>r(e)),"nodes");if(0===n.length)return[];const s=[n[0]];for(let e=1;e<n.length;e++)s.push(d),n[e-1][0]!==n[e][0]&&s.push(d),s.push(n[e]);return[h([d,s]),d]},t.printLiquidDocParam=function(e,t,r,i){var n,s;const a=e.getValue(),o=["@param"];if((null===(n=a.paramType)||void 0===n?void 0:n.value)&&o.push(" ",`{${a.paramType.value}}`),a.required?o.push(" ",a.paramName.value):o.push(" ",`[${a.paramName.value}]`),null===(s=a.paramDescription)||void 0===s?void 0:s.value){const e=a.paramDescription.value.replace(/\s+/g," ").trim();t.liquidDocParamDash?o.push(" - ",e):o.push(" ",e)}return o},t.printLiquidDocExample=function(e,t,r,i){const n=e.getValue(),s=["@example"],a=n.content.value;return a.trimEnd().includes("\n")||!n.isInline?s.push(d):s.push(" "),s.push(a.trim()),s},t.printLiquidDocDescription=function(e,t,r,i){const n=e.getValue(),s=[],a=n.content.value;return n.isImplicit?(s.push(a.trim()),s):(s.push("@description"),a.trimEnd().includes("\n")||!n.isInline?s.push(d):s.push(" "),s.push(a.trim()),s)},t.printLiquidDocPrompt=function(e,t,r,i){return["@prompt",e.getValue().content.value.trimEnd()]},t.printLiquidBranch=function(e,t,r,i){const n=e.getValue();if(!n.name)return function(e,t,r,i){const n=e.getValue(),s=e.getParentNode();if((0,a.isEmpty)(n.children)&&1===s.children.length)return"";if((0,a.isEmpty)(n.children)&&!n.hasDanglingWhitespace)return"";if(n.hasDanglingWhitespace)return m(""," ");const l=n.next&&n.children.length>0&&n.source.slice((0,a.last)(n.children).position.end,n.next.position.start).replace(/ |\t/g,"").length>=2;return h([I(s),(0,o.printChildren)(e,t,r,i),l?S:""])}(e,t,r,i);const s=n.prev,l=s&&(0,a.isEmpty)(s.children),u=n.hasLeadingWhitespace&&!l?f:y,c=n.next&&n.children.length>0&&n.source.slice((0,a.last)(n.children).position.end,n.next.position.start).replace(/ |\t/g,"").length>=2;return[u,b(e,0,r,i),h([I(n),(0,o.printChildren)(e,t,r,i),c?S:""])]}},918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeContent=t.printOpeningTagEndMarker=t.printClosingTagEndMarker=t.printClosingTagStartMarker=t.printClosingTagSuffix=t.printClosingTagEnd=t.printClosingTagStart=t.printClosingTag=t.printOpeningTagStartMarker=t.printOpeningTagPrefix=t.printOpeningTagStart=t.printOpeningTag=t.needsToBorrowParentOpeningTagEndMarker=t.needsToBorrowNextOpeningTagStartMarker=t.needsToBorrowParentClosingTagStartMarker=t.needsToBorrowLastChildClosingTagEndMarker=t.needsToBorrowPrevClosingTagEndMarker=void 0;const i=r(849),n=r(210),s=r(699),{builders:{breakParent:a,indent:o,join:l,line:u,softline:c,hardline:p}}=n.doc,{replaceEndOfLine:d}=n.doc.utils;function m(e,t){return!(0,s.hasNoCloseMarker)(e)&&!e.blockEndPosition&&((0,s.hasPrettierIgnore)(e)||(0,s.shouldPreserveContent)(e.parentNode))}function h(e){return!(0,s.isLiquidNode)(e)&&e.prev&&(0,s.isHtmlNode)(e.prev)&&(0,s.hasMeaningfulLackOfLeadingWhitespace)(e)}function g(e){return(0,s.isHtmlNode)(e)&&e.lastChild&&(0,s.hasMeaningfulLackOfTrailingWhitespace)(e.lastChild)&&(0,s.isHtmlNode)((0,s.getLastDescendant)(e.lastChild))&&!(0,s.isPreLikeNode)(e)}function f(e){return(0,s.isHtmlNode)(e.parentNode)&&!e.next&&(0,s.hasMeaningfulLackOfTrailingWhitespace)(e)&&!(0,s.isLiquidNode)(e)&&((0,s.isTextLikeNode)((0,s.getLastDescendant)(e))||(0,s.isLiquidNode)((0,s.getLastDescendant)(e)))}function y(e){return e.next&&(0,s.isHtmlNode)(e.next)&&(0,s.isTextLikeNode)(e)&&(0,s.hasMeaningfulLackOfTrailingWhitespace)(e)}function S(e){return(0,s.isHtmlNode)(e.parentNode)&&!e.prev&&(0,s.hasMeaningfulLackOfLeadingWhitespace)(e)&&!(0,s.isLiquidNode)(e)}function v(e,t,r,n){const m=e.getValue();if((0,s.isHtmlComment)(m))return"";if(m.type===i.NodeTypes.HtmlDanglingMarkerClose)return"";if(0===m.attributes.length)return(0,s.isSelfClosing)(m)?" ":"";const h=(0,s.isPrettierIgnoreAttributeNode)(m.prev),f=e.map((e=>{const t=e.getValue();let i="";return t.prev&&(0,s.hasMoreThanOneNewLineBetweenNodes)(t.source,t.prev,t)&&(i=p),[i,r(e,{trailingSpaceGroupId:n})]}),"attributes"),y=m.source.slice(m.blockStartPosition.start,(0,s.last)(m.attributes).position.end).includes("\n"),v=t.singleLineLinkTags&&"string"==typeof m.name&&"link"===m.name,b=((0,s.isHtmlElement)(m)&&m.children.length>0||(0,s.isVoidElement)(m)||(0,s.isSelfClosing)(m))&&!y&&1===m.attributes.length&&!(0,s.isLiquidNode)(m.attributes[0]),T=v||b,x=T?" ":t.singleAttributePerLine&&m.attributes.length>1?p:u,I=h?d(m.source.slice((0,s.first)(m.attributes).position.start,(0,s.last)(m.attributes).position.end)):l(x,f);let N;return N=m.firstChild&&S(m.firstChild)||(0,s.hasNoCloseMarker)(m)&&g(m.parentNode)||T||t.bracketSameLine?(0,s.isSelfClosing)(m)?" ":"":(0,s.isSelfClosing)(m)?u:c,[o([T?" ":u,y?a:"",I]),N]}function b(e,t){return e.prev&&y(e.prev)?"":[T(e),I(e)]}function T(e,t){return S(e)?A(e.parentNode):h(e)?k(e.prev):""}function x(e){return e.firstChild&&S(e.firstChild)?"":A(e)}function I(e){if(!e)return"";switch(e.type){case i.NodeTypes.HtmlComment:return"\x3c!--";case i.NodeTypes.HtmlElement:case i.NodeTypes.HtmlSelfClosingElement:return`<${_(e)}`;case i.NodeTypes.HtmlDanglingMarkerClose:return`</${_(e)}`;case i.NodeTypes.HtmlVoidElement:case i.NodeTypes.HtmlRawNode:return`<${e.name}`;default:return""}}function N(e,t){return e.lastChild&&f(e.lastChild)?"":[w(e),E(e)]}function L(e,t){return(e.next?h(e.next):g(e.parentNode))?"":[k(e),C(e)]}function w(e,t){return g(e)?k(e.lastChild):""}function C(e,t){return f(e)?E(e.parentNode):y(e)?I(e.next):""}function E(e,t){if(!e)return"";if(m(e))return"";switch(e.type){case i.NodeTypes.HtmlElement:return`</${_(e)}`;case i.NodeTypes.HtmlRawNode:return`</${e.name}`;default:return""}}function k(e,t){return e?m(e)||(0,s.isHtmlDanglingMarkerOpen)(e)?"":e.type===i.NodeTypes.HtmlSelfClosingElement?"/>":">":""}function A(e){if(!e)return"";switch(e.type){case i.NodeTypes.HtmlComment:return"--\x3e";case i.NodeTypes.HtmlSelfClosingElement:case i.NodeTypes.HtmlVoidElement:return"";case i.NodeTypes.HtmlElement:case i.NodeTypes.HtmlDanglingMarkerClose:case i.NodeTypes.HtmlRawNode:default:return">"}}function _(e){return e.name.map((e=>e.type===i.NodeTypes.TextNode?e.value:"string"==typeof e.markup?`{{ ${e.markup.trim()} }}`:`{{ ${e.markup.rawSource} }}`)).join("")}t.needsToBorrowPrevClosingTagEndMarker=h,t.needsToBorrowLastChildClosingTagEndMarker=g,t.needsToBorrowParentClosingTagStartMarker=f,t.needsToBorrowNextOpeningTagStartMarker=y,t.needsToBorrowParentOpeningTagEndMarker=S,t.printOpeningTag=function(e,t,r,i){const n=e.getValue();return[b(n),v(e,t,r,i),(0,s.hasNoChildren)(n)?"":x(n)]},t.printOpeningTagStart=b,t.printOpeningTagPrefix=T,t.printOpeningTagStartMarker=I,t.printClosingTag=function(e,t){return[(0,s.hasNoCloseMarker)(e)?"":N(e),L(e)]},t.printClosingTagStart=N,t.printClosingTagEnd=L,t.printClosingTagSuffix=C,t.printClosingTagStartMarker=E,t.printClosingTagEndMarker=k,t.printOpeningTagEndMarker=A,t.getNodeContent=function(e,t){let r=e.blockStartPosition.end;e.firstChild&&S(e.firstChild)&&(r-=A(e).length);let i=e.blockEndPosition.start;return e.lastChild&&f(e.lastChild)?i+=E(e).length:e.lastChild&&g(e)&&(i-=k(e.lastChild).length),t.originalText.slice(r,i)}},826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printerLiquidHtml3=t.printerLiquidHtml2=void 0;const i=r(849),n=r(210),s=r(523),a=r(703),o=r(596),l=r(17),u=r(586),c=r(398),p=r(977),d=r(918),m=r(699),{builders:h,utils:g}=n.doc,{fill:f,group:y,hardline:S,dedentToRoot:v,indent:b,join:T,line:x,softline:I}=h,N={'"':"'","'":'"'};function L(e,t,r){return e.getValue().name,T("",e.map((e=>{const t=e.getValue();return"string"==typeof t?t:g.removeLines(r(e))}),"name"))}function w(e,t,r,n={}){var s,o,l,h;const g=e.getValue();switch(g.type){case i.NodeTypes.Document:return[(0,u.printChildren)(e,t,r,n),S];case i.NodeTypes.HtmlElement:case i.NodeTypes.HtmlDanglingMarkerClose:case i.NodeTypes.HtmlVoidElement:case i.NodeTypes.HtmlSelfClosingElement:case i.NodeTypes.HtmlRawNode:return(0,c.printElement)(e,t,r,n);case i.NodeTypes.RawMarkup:{if("doc"===(null===(s=g.parentNode)||void 0===s?void 0:s.name))return(0,p.printLiquidDoc)(e,t,r,n);if((()=>{switch(g.kind){case i.RawMarkupKinds.typescript:case i.RawMarkupKinds.javascript:return g.value.includes("`");default:return!1}})())return[g.value.trimEnd(),S];const a=g.parentNode,l=a&&a.type===i.NodeTypes.LiquidRawTag&&"schema"===a.name&&!t.indentSchema,u=g.kind!==i.RawMarkupKinds.markdown&&!l,c=(0,m.bodyLines)(g.value),d=!!(null===(o=g.value.split(/\r?\n/)[0])||void 0===o?void 0:o.match(/\S/)),h=c.length>0&&c.find((e=>""!==e.trim()))?T(S,(0,m.reindent)(c,d)):I;return u?[b([S,h]),S]:[v([S,h]),S]}case i.NodeTypes.LiquidVariableOutput:return(0,p.printLiquidVariableOutput)(e,t,r,n);case i.NodeTypes.LiquidRawTag:return(0,p.printLiquidRawTag)(e,t,r,n);case i.NodeTypes.LiquidTag:return(0,p.printLiquidTag)(e,t,r,n);case i.NodeTypes.LiquidBranch:return(0,p.printLiquidBranch)(e,t,r,n);case i.NodeTypes.AttrEmpty:return L(e,0,r);case i.NodeTypes.AttrUnquoted:case i.NodeTypes.AttrSingleQuoted:case i.NodeTypes.AttrDoubleQuoted:return function(e,t,r){const i=e.getValue(),n=Symbol("attr-group-id"),s=i.source.slice(i.attributePosition.start,i.attributePosition.end),a=t.singleQuote?"'":'"',o=i.value.find((e=>(0,m.isTextLikeNode)(e)&&e.value.includes(a)))?N[a]:a;return[L(e,0,r),"=",o,(0,m.hasLineBreakInRange)(i.source,i.attributePosition.start,i.attributePosition.end)?y([b([I,T(S,(0,m.reindent)((0,m.bodyLines)(s),!0))]),I],{id:n}):s,o]}(e,t,r);case i.NodeTypes.HtmlDoctype:return g.legacyDoctypeString?g.source.slice(g.position.start,g.position.end):"<!doctype html>";case i.NodeTypes.HtmlComment:{const e=(0,i.getConditionalComment)(g.source.slice(g.position.start,g.position.end));if(e){const{startTag:t,body:r,endTag:i}=e;return[t,y([b([x,T(S,(0,m.reindent)((0,m.bodyLines)(r),!0))]),x]),i]}return g.body.includes("prettier-ignore")||g.body.startsWith("display:")||g.body.startsWith("white-space:")?g.source.slice(g.position.start,g.position.end):["\x3c!--",y([b([x,T(S,(0,m.reindent)((0,m.bodyLines)(g.body),!0))]),x]),"--\x3e"]}case i.NodeTypes.AssignMarkup:return[g.name," = ",e.call((e=>r(e)),"value")];case i.NodeTypes.CycleMarkup:{const t=[];g.groupName&&t.push(e.call((e=>r(e)),"groupName"),":");const i=g.args.length>1?x:" ";return t.push(i,T([",",i],e.map((e=>r(e)),"args"))),t}case i.NodeTypes.ForMarkup:{const t=[g.variableName," in ",e.call((e=>r(e)),"collection")];return g.reversed&&t.push(x,"reversed"),g.args.length>0&&t.push([x,T(x,e.map((e=>r(e)),"args"))]),t}case i.NodeTypes.PaginateMarkup:{const t=[e.call((e=>r(e)),"collection"),x,"by ",e.call((e=>r(e)),"pageSize")];return g.args.length>0&&t.push([",",x,T([",",x],e.map((e=>r(e)),"args"))]),t}case i.NodeTypes.ContentForMarkup:{const t=[e.call((e=>r(e)),"contentForType")];return g.args.length>0&&t.push(",",x,T([",",x],e.map((e=>r(e)),"args"))),t}case i.NodeTypes.RenderMarkup:{const t=[e.call((e=>r(e)),"snippet")];if(g.variable){const i=(null===(l=g.alias)||void 0===l?void 0:l.value)?x:" ";t.push(i,e.call((e=>r(e)),"variable"))}return(null===(h=g.alias)||void 0===h?void 0:h.value)&&t.push(" ","as"," ",g.alias.value),g.args.length>0&&t.push(",",x,T([",",x],e.map((e=>r(e)),"args"))),t}case i.NodeTypes.RenderVariableExpression:return[g.kind," ",e.call((e=>r(e)),"name")];case i.NodeTypes.RenderAliasExpression:return g.value;case i.NodeTypes.LogicalExpression:return[e.call((e=>r(e)),"left"),x,g.relation," ",e.call((e=>r(e)),"right")];case i.NodeTypes.Comparison:return y([e.call((e=>r(e)),"left"),b([x,g.comparator," ",e.call((e=>r(e)),"right")])]);case i.NodeTypes.LiquidVariable:{const t=e.call((e=>r(e)),"expression");let i="";return g.filters.length>0&&(i=[x,T(x,e.map((e=>r(e)),"filters"))]),[t,i]}case i.NodeTypes.LiquidFilter:{let t=[];if(g.args.length>0){const n=e.map((e=>r(e)),"args");if(g.args[0].type!==i.NodeTypes.NamedArgument){const[e,...r]=n;t=[": ",e,(0,m.isEmpty)(r)?"":b([",",x,T([",",x],r)])]}else t=[":",b([x,T([",",x],n)])]}return y(["| ",g.name,...t])}case i.NodeTypes.NamedArgument:return[g.name,": ",e.call((e=>r(e)),"value")];case i.NodeTypes.TextNode:return function(e,t){const r=e.getValue();if(function(e){return e.parentNode&&e.parentNode.type===i.NodeTypes.Document&&!e.prev&&/^---\r?\n/.test(e.value)}(r))return r.value;if(r.value.match(/^\s*$/))return"";const n=r.value.split(/(\r?\n){2,}/).filter(Boolean).map((e=>{let t=[];const r=e.trim().split(/\s+/g);let i=!0;for(let e=0;e<r.length;e++){const n=r[e];i?i=!1:t.push(x),t.push(n)}return f(t)}));return[(0,d.printOpeningTagPrefix)(r,t),T(S,n),(0,d.printClosingTagSuffix)(r,t)]}(e,t);case i.NodeTypes.YAMLFrontmatter:return["---",S,g.body,"---"];case i.NodeTypes.BooleanExpression:return e.call((e=>r(e)),"condition");case i.NodeTypes.String:{const e=t.liquidSingleQuote?"'":'"',r=g.value.includes(e)?N[e]:e;return[r,g.value,r]}case i.NodeTypes.Number:return n.truncate?g.value.replace(/\.\d+$/,""):g.value;case i.NodeTypes.Range:return["(",e.call((e=>r(e,{truncate:!0})),"start"),"..",e.call((e=>r(e,{truncate:!0})),"end"),")"];case i.NodeTypes.LiquidLiteral:return"nil"===g.keyword?"null":g.keyword;case i.NodeTypes.VariableLookup:{const t=[];g.name&&t.push(g.name);const n=e.map(((e,t)=>{const n=e.getValue();if(n.type===i.NodeTypes.String){const i=n.value;return(0!==t||g.name)&&/^\D/.test(i)&&/^[a-z0-9_]+\??$/i.test(i)?[".",i]:["[",r(e),"]"]}return["[",r(e),"]"]}),"lookups");return[...t,...n]}case i.NodeTypes.LiquidDocParamNode:return(0,p.printLiquidDocParam)(e,t,r,n);case i.NodeTypes.LiquidDocExampleNode:return(0,p.printLiquidDocExample)(e,t,r,n);case i.NodeTypes.LiquidDocDescriptionNode:return(0,p.printLiquidDocDescription)(e,t,r,n);case i.NodeTypes.LiquidDocPromptNode:return(0,p.printLiquidDocPrompt)(e,t,r,n);default:return(0,a.assertNever)(g)}}function C(e,t){const r=e[t];return Array.isArray(r)||null!==(i=r)&&"object"==typeof i&&"type"in i&&"string"==typeof i.type;var i}t.printerLiquidHtml2={print:w,embed:o.embed2,preprocess:l.preprocess,getVisitorKeys:(e,t)=>Object.keys(e).filter((r=>!t.has(r)&&!s.nonTraversableProperties.has(r)&&C(e,r)))},t.printerLiquidHtml3={print:w,embed:o.embed3,preprocess:l.preprocess,getVisitorKeys:(e,t)=>Object.keys(e).filter((r=>!t.has(r)&&!s.nonTraversableProperties.has(r)&&C(e,r)))}},886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=t.intersperse=t.first=t.last=void 0,t.last=function(e){return e[e.length-1]},t.first=function(e){return e[0]},t.intersperse=function(e,t){return e.flatMap((e=>[t,e])).slice(1)},t.isEmpty=function(e){return 0===e.length}},699:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.isNonEmptyArray=t.ifBreakChain=t.FORCE_BREAK_GROUP_ID=t.FORCE_FLAT_GROUP_ID=t.getWhitespaceTrim=t.isDeeplyNested=t.getSource=void 0;const s=r(210),a=r(849),o=r(886);n(r(886),t),n(r(50),t),n(r(187),t);const{builders:l}=s.doc,{ifBreak:u}=l;function c(e,r,i){return i.includes(t.FORCE_BREAK_GROUP_ID)?e:i.includes(t.FORCE_FLAT_GROUP_ID)?r:i.reduce(((t,r)=>u(e,t,{groupId:r})),r)}t.getSource=function(e){return e.getValue().source},t.isDeeplyNested=function e(t){return!!t.children&&((0,a.isBranchedTag)(t)?!!t.children.find((t=>e(t))):!!t.children.find((e=>!(0,o.isEmpty)(e.children||[]))))},t.getWhitespaceTrim=function(e,t,r){return c(t?"-":e,e,Array.isArray(r)?r:[r])},t.FORCE_FLAT_GROUP_ID=Symbol("force-no-break"),t.FORCE_BREAK_GROUP_ID=Symbol("force-break"),t.ifBreakChain=c,t.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0}},187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastDescendant=t.hasMeaningfulLackOfDanglingWhitespace=t.hasMeaningfulLackOfTrailingWhitespace=t.hasMeaningfulLackOfLeadingWhitespace=t.preferHardlineAsTrailingSpaces=t.preferHardlineAsLeadingSpaces=t.preferHardlineAsSurroundingSpaces=t.forceBreakChildren=t.forceBreakContent=t.forceNextEmptyLine=t.isPrettierIgnoreAttributeNode=t.hasPrettierIgnore=t.isPrettierIgnoreNode=t.isPrettierIgnoreLiquidNode=t.isPrettierIgnoreHtmlNode=t.shouldPreserveContent=t.hasNonTextChild=t.isAttributeNode=t.isHtmlNode=t.isMultilineLiquidTag=t.isLiquidNode=t.isTextLikeNode=t.isHtmlElement=t.isVoidElement=t.isSelfClosing=t.isHtmlComment=t.isHtmlDanglingMarkerClose=t.isHtmlDanglingMarkerOpen=t.hasNoChildren=t.hasNoCloseMarker=t.isPreLikeNode=t.isScriptLikeTag=void 0;const i=r(849),n=r(886);function s(e){return e.cssWhitespace.startsWith("pre")}function a(e){return c(e)||p(e)||u(e)||l(e)}function o(e){return e.type===i.NodeTypes.HtmlElement&&e.blockEndPosition.start===e.blockEndPosition.end}function l(e){return e.type===i.NodeTypes.HtmlDanglingMarkerClose}function u(e){return e.type===i.NodeTypes.HtmlComment}function c(e){return e.type===i.NodeTypes.HtmlSelfClosingElement}function p(e){return e.type===i.NodeTypes.HtmlVoidElement}function d(e){return!!e&&e.type===i.NodeTypes.TextNode}function m(e){return!!e&&i.LiquidNodeTypes.includes(e.type)}function h(e){return!!e&&i.HtmlNodeTypes.includes(e.type)}function g(e){return e.children&&e.children.some((e=>e.type!==i.NodeTypes.TextNode))}function f(e){return!!e&&e.type===i.NodeTypes.HtmlComment&&/^\s*prettier-ignore(?=\s|$)/m.test(e.body)}function y(e){return!!e&&e.type===i.NodeTypes.LiquidTag&&"#"===e.name&&/^\s*prettier-ignore(?=\s|$)/m.test(e.markup)}function S(e){return y(e)||f(e)}function v(e){const t=e.trim().match(/prettier-ignore-attribute(?:s?)(?:\s+(.+))?$/s);return!!t&&(t[1],!0)}function b(e){return e.type===i.NodeTypes.HtmlElement&&e.children.length>0&&(C(["html","head","ul","ol","select"],e.name)||e.cssDisplay.startsWith("table")&&"table-cell"!==e.cssDisplay)}function T(e){switch(e.type){case i.NodeTypes.HtmlComment:return!0;case i.NodeTypes.HtmlElement:return C(["script","select"],e.name);case i.NodeTypes.LiquidTag:return!(e.prev&&d(e.prev)||e.next&&d(e.next))&&e.children&&e.children.length>0}return!1}function x(e){return T(e)||m(e)&&e.next&&(m(e.next)||h(e.next))||e.type===i.NodeTypes.HtmlElement&&C(["br"],e.name)||I(e)}function I(e){return N(e)&&L(e)}function N(e){return e.type!==i.NodeTypes.Document&&e.hasLeadingWhitespace&&w(e.source,e.prev?e.prev.position.end:e.parentNode.blockStartPosition?e.parentNode.blockStartPosition.end:e.parentNode.position.start,e.position.start)}function L(e){return e.type!==i.NodeTypes.Document&&e.hasTrailingWhitespace&&w(e.source,e.position.end,e.next?e.next.position.start:e.parentNode.blockEndPosition?e.parentNode.blockEndPosition.start:e.parentNode.position.end)}function w(e,t,r){const i=e.indexOf("\n",t);return-1!==i&&i<r}function C(e,t){return 1===t.length&&t[0].type===i.NodeTypes.TextNode&&e.includes(t[0].value)}t.isScriptLikeTag=function(e){return e.type===i.NodeTypes.HtmlRawNode},t.isPreLikeNode=s,t.hasNoCloseMarker=function(e){return a(e)||o(e)},t.hasNoChildren=a,t.isHtmlDanglingMarkerOpen=o,t.isHtmlDanglingMarkerClose=l,t.isHtmlComment=u,t.isSelfClosing=c,t.isVoidElement=p,t.isHtmlElement=function(e){return e.type===i.NodeTypes.HtmlElement},t.isTextLikeNode=d,t.isLiquidNode=m,t.isMultilineLiquidTag=function(e){return!!e&&e.type===i.NodeTypes.LiquidTag&&!!e.children&&!(0,n.isEmpty)(e.children)},t.isHtmlNode=h,t.isAttributeNode=function(e){return h(e.parentNode)&&"attributes"in e.parentNode&&-1!==e.parentNode.attributes.indexOf(e)},t.hasNonTextChild=g,t.shouldPreserveContent=function(e){return!!s(e)},t.isPrettierIgnoreHtmlNode=f,t.isPrettierIgnoreLiquidNode=y,t.isPrettierIgnoreNode=S,t.hasPrettierIgnore=function(e){return S(e)||S(e.prev)},t.isPrettierIgnoreAttributeNode=function(e){return!!e&&(e.type===i.NodeTypes.HtmlComment?v(e.body):e.type===i.NodeTypes.LiquidTag&&"#"===e.name&&v(e.markup))},t.forceNextEmptyLine=function(e){if(!e)return!1;if(!e.next)return!1;const t=e.source;let r;return r=t.indexOf("\n",e.position.end),-1!==r&&(r=t.indexOf("\n",r+1),-1!==r&&r<e.next.position.start)},t.forceBreakContent=function(e){return b(e)||e.type===i.NodeTypes.HtmlElement&&e.children.length>0&&(C(["body","script","style"],e.name)||e.children.some((e=>g(e))))||e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.type!==i.NodeTypes.TextNode&&N(e.firstChild)&&(!e.lastChild.isTrailingWhitespaceSensitive||L(e.lastChild))},t.forceBreakChildren=b,t.preferHardlineAsSurroundingSpaces=T,t.preferHardlineAsLeadingSpaces=function(e){return T(e)||m(e)&&e.prev&&m(e.prev)||e.prev&&x(e.prev)||I(e)},t.preferHardlineAsTrailingSpaces=x,t.hasMeaningfulLackOfLeadingWhitespace=function(e){return e.isLeadingWhitespaceSensitive&&!e.hasLeadingWhitespace},t.hasMeaningfulLackOfTrailingWhitespace=function(e){return e.isTrailingWhitespaceSensitive&&!e.hasTrailingWhitespace},t.hasMeaningfulLackOfDanglingWhitespace=function(e){return e.isDanglingWhitespaceSensitive&&!e.hasDanglingWhitespace},t.getLastDescendant=function e(t){return t.lastChild?e(t.lastChild):t}},50:(e,t)=>{"use strict";function r(e,t,r){const i=e.indexOf("\n",t);return 0<=i&&i<r}Object.defineProperty(t,"__esModule",{value:!0}),t.hasMoreThanOneNewLineBetweenNodes=t.hasLineBreakInRange=t.originallyHadLineBreaks=t.reindent=t.markupLines=t.bodyLines=t.trimEnd=t.trim=t.isWhitespace=void 0,t.isWhitespace=function(e,t){return!(t<0||t>=e.length||!e[t].match(/\s/))},t.trim=e=>e.trim(),t.trimEnd=e=>e.trimEnd(),t.bodyLines=function(e){return e.replace(/^(?: |\t)*(\r?\n)*|\s*$/g,"").split(/\r?\n/)},t.markupLines=function(e){return e.trim().split("\n")},t.reindent=function(e,r=!1){const i=e.filter(((e,t)=>!r||t>0)).filter((e=>e.trim().length>0)).map((e=>e.match(/^\s*/)[0].length)).reduce(((e,t)=>Math.min(e,t)),1/0);if(i===1/0)return e;const n=new RegExp("^"+"\\s".repeat(i));return e.map((e=>e.replace(n,""))).map(t.trimEnd)},t.originallyHadLineBreaks=function(e,{locStart:t,locEnd:i}){const n=e.getValue();return r(n.source,t(n),i(n))},t.hasLineBreakInRange=r,t.hasMoreThanOneNewLineBetweenNodes=function(e,t,r){var i;return!(!t||!r)&&((null===(i=e.slice(t.position.end,r.position.start).match(/\n/g))||void 0===i?void 0:i.length)||0)>1}},523:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.nonTraversableProperties=t.isLiquidHtmlNode=void 0;const a=s(r(849));t.isLiquidHtmlNode=function(e){return null!==e&&"object"==typeof e&&"type"in e&&a.NodeTypes.hasOwnProperty(e.type)},t.nonTraversableProperties=new Set(["parentNode","prev","next","firstChild","lastChild"])},703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropLast=t.deepGet=t.locEnd=t.locStart=t.assertNever=void 0,t.assertNever=function(e){throw new Error(`Unexpected object: ${e.type}`)},t.locStart=function(e){return"string"==typeof e?-1:e.position.start},t.locEnd=function(e){return"string"==typeof e?-1:e.position.end},t.deepGet=function(e,t){return e.reduce(((e,t)=>{if(e&&void 0!==e[t])return e[t]}),t)},t.dropLast=function(e,t){const r=[...t];for(let t=0;t<e;t++)r.pop();return r}},210:t=>{"use strict";t.exports=e},609:(e,t)=>{"use strict";function r(e){const t=e||"";return function(){throw new Error("this method "+t+" is abstract! (it has no implementation in class "+this.constructor.name+")")}}function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t,r){let i;Object.defineProperty(e,t,{get(){return i||(i=r.call(this)),i}})}function s(e,t){const r=[];for(;t-- >0;)r.push(e());return r}function a(e,t){return new Array(t+1).join(e)}function o(e,t){return s((()=>e),t)}function l(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r];e.lastIndexOf(i)!==r&&t.indexOf(i)<0&&t.push(i)}return t}function u(e){const t=[];return e.forEach((e=>{t.indexOf(e)<0&&t.push(e)})),t}function c(e){const t=e[0];return t===t.toUpperCase()}function p(e){return!c(e)}function d(e,t,r){const i=r||" ";return e.length<t?a(i,t-e.length)+e:e}function m(){this.strings=[]}Object.defineProperty(t,"__esModule",{value:!0}),m.prototype.append=function(e){this.strings.push(e)},m.prototype.contents=function(){return this.strings.join("")};const h=e=>String.fromCodePoint(parseInt(e,16));function g(e){if("\\"!==e.charAt(0))return e;switch(e.charAt(1)){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"x":return h(e.slice(2,4));case"u":return"{"===e.charAt(2)?h(e.slice(3,-1)):h(e.slice(2,6));default:return e.charAt(1)}}function f(e){if(null==e)return String(e);const t=Object.prototype.toString.call(e);try{let r;return r=e.constructor&&e.constructor.name?e.constructor.name:0===t.indexOf("[object ")?t.slice(8,-1):typeof e,r+": "+JSON.stringify(String(e))}catch(e){return t}}function y(e,t="unexpected null value"){if(null==e)throw new Error(t);return e}var S=Object.freeze({__proto__:null,abstract:r,assert:i,defineLazyProperty:n,clone:function(e){return e?Object.assign({},e):e},repeatFn:s,repeatStr:a,repeat:o,getDuplicates:l,copyWithoutDuplicates:u,isSyntactic:c,isLexical:p,padLeft:d,StringBuffer:m,unescapeCodePoint:g,unexpectedObjToString:f,checkNotNull:y});function v(e,t,r){const i=e.length;return(e.slice(0,r)+t+e.slice(r+t.length)).substr(0,i)}function b(...e){const t=this,{offset:r}=t,{repeatStr:n}=S,s=new m;s.append("Line "+t.lineNum+", col "+t.colNum+":\n");const a=function(e){let t=0;return e.map((e=>{const r=e.toString();return t=Math.max(t,r.length),r})).map((e=>d(e,t)))}([null==t.prevLine?0:t.lineNum-1,t.lineNum,null==t.nextLine?0:t.lineNum+1]),o=(e,t,r)=>{s.append(r+a[e]+" | "+t+"\n")};null!=t.prevLine&&o(0,t.prevLine,"  "),o(1,t.line,"> ");const l=t.line.length;let u=n(" ",l+1);for(let s=0;s<e.length;++s){let a=e[s][0],o=e[s][1];i(a>=0&&a<=o,"range start must be >= 0 and <= end");const c=r-t.colNum+1;a=Math.max(0,a-c),o=Math.min(o-c,l),u=v(u,n("~",o-a),a)}const c=2+a[1].length+3;return s.append(n(" ",c)),u=v(u,"^",t.colNum-1),s.append(u.replace(/ +$/,"")+"\n"),null!=t.nextLine&&o(2,t.nextLine,"  "),s.contents()}let T=[];function x(e){T.push(e)}function I(e,t){let r=1,i=1,n=0,s=0,a=null,o=null,l=-1;for(;n<t;){const t=e.charAt(n++);"\n"===t?(r++,i=1,l=s,s=n):"\r"!==t&&i++}let u=e.indexOf("\n",s);if(-1===u)u=e.length;else{const t=e.indexOf("\n",u+1);a=-1===t?e.slice(u):e.slice(u,t),a=a.replace(/^\r?\n/,"").replace(/\r$/,"")}return l>=0&&(o=e.slice(l,s).replace(/\r?\n$/,"")),{offset:t,lineNum:r,colNum:i,line:e.slice(s,u).replace(/\r$/,""),prevLine:o,nextLine:a,toString:b}}function N(e,t,...r){return I(e,t).toString(...r)}const L=(()=>{let e=0;return t=>""+t+e++})();function w(e,t,r){return r(t[e])}function C(e,t,r){return t[e].map(r)}function E(e){const t=e.split(/ ?\[\]/);return 2===t.length?C.bind(null,t[0]):w.bind(null,e)}function k(e,t,r){return e.map((e=>e(t,r)))}function A(e){return/^[a-zA-Z_][0-9a-zA-Z_]*$/.test(e)}function _(e){return e.trim()}function q(e){return e.toAST(this.args.mapping)}function O(){return[]}function R(e,t,r){return[e.toAST(this.args.mapping)].concat(r.toAST(this.args.mapping))}const P={listOf:q,ListOf:q,emptyListOf:O,EmptyListOf:O,nonemptyListOf:R,NonemptyListOf:R},D={_terminal(){return this.sourceString},_nonterminal(...e){const{ctorName:t}=this._node,{mapping:r}=this.args;if(!Object.prototype.hasOwnProperty.call(r,t)){if(this.isLexical())return this.sourceString;const t=e.filter((e=>!e.isTerminal()));if(1===t.length)return t[0].toAST(r)}if("number"==typeof r[t])return e[r[t]].toAST(r);const i=r[t]||e,n={type:t};for(const s in i){const i=r[t]&&r[t][s];"number"==typeof i?n[s]=e[i].toAST(r):"string"==typeof i||"boolean"==typeof i||null===i?n[s]=i:"object"==typeof i&&i instanceof Number?n[s]=Number(i):"function"==typeof i?n[s]=i.call(this,e):void 0===i&&(e[s]&&!e[s].isTerminal()?n[s]=e[s].toAST(r):delete n[s])}return n},_iter(...e){return this._node.isOptional()?0===this.numChildren?null:e[0].toAST(this.args.mapping):e.map((e=>e.toAST(this.args.mapping)))}},M={Lu:/\p{Lu}/u,Ll:/\p{Ll}/u,Lt:/\p{Lt}/u,Lm:/\p{Lm}/u,Lo:/\p{Lo}/u,Nl:/\p{Nl}/u,Nd:/\p{Nd}/u,Mn:/\p{Mn}/u,Mc:/\p{Mc}/u,Pc:/\p{Pc}/u,Zs:/\p{Zs}/u,L:/\p{Letter}/u,Ltmo:/\p{Lt}|\p{Lm}|\p{Lo}/u};class F{constructor(){if(this.constructor===F)throw new Error("PExpr cannot be instantiated -- it's abstract")}withSource(e){return e&&(this.source=e.trimmed()),this}}const H=Object.create(F.prototype),j=Object.create(F.prototype);class B extends F{constructor(e){super(),this.obj=e}}class G extends F{constructor(e,t){super(),this.from=e,this.to=t,this.matchCodePoint=e.length>1||t.length>1}}class W extends F{constructor(e){super(),this.index=e}}class V extends F{constructor(e){super(),this.terms=e}}class U extends V{constructor(e,t,r){super([r,e.rules[t].body]),this.superGrammar=e,this.name=t,this.body=r}}class $ extends V{constructor(e,t,r,i){const n=e.rules[t].body;super([...r,n,...i]),this.superGrammar=e,this.ruleName=t,this.expansionPos=r.length}}class z extends F{constructor(e){super(),this.factors=e}}class K extends F{constructor(e){super(),this.expr=e}}class Q extends K{}class Y extends K{}class J extends K{}Q.prototype.operator="*",Y.prototype.operator="+",J.prototype.operator="?",Q.prototype.minNumMatches=0,Y.prototype.minNumMatches=1,J.prototype.minNumMatches=0,Q.prototype.maxNumMatches=Number.POSITIVE_INFINITY,Y.prototype.maxNumMatches=Number.POSITIVE_INFINITY,J.prototype.maxNumMatches=1;class Z extends F{constructor(e){super(),this.expr=e}}class X extends F{constructor(e){super(),this.expr=e}}class ee extends F{constructor(e){super(),this.expr=e}}class te extends F{constructor(e,t=[]){super(),this.ruleName=e,this.args=t}isSyntactic(){return c(this.ruleName)}toMemoKey(){return this._memoKey||Object.defineProperty(this,"_memoKey",{value:this.toString()}),this._memoKey}}class re extends F{constructor(e){super(),this.category=e,this.pattern=M[e]}}function ie(e,t){let r;return t?(r=new Error(t.getLineAndColumnMessage()+e),r.shortMessage=e,r.interval=t):r=new Error(e),r}function ne(){return ie("Interval sources don't match")}function se(e,t,r){return ie("Rule "+e+" is not declared in grammar "+t,r)}function ae(e,t,r,i){let n="Duplicate declaration for rule '"+e+"' in grammar '"+t+"'";return t!==r&&(n+=" (originally declared in '"+r+"')"),ie(n,i)}function oe(e,t,r,i){return ie("Wrong number of parameters for rule "+e+" (expected "+t+", got "+r+")",i)}function le(e,t,r){return ie("Duplicate parameter names in rule "+e+": "+t.join(", "),r)}function ue(e,t){return ie("Incorrect argument type: expected "+e,t.source)}function ce(e,t){const r=t.length>0?t[t.length-1].args:[];let i="Nullable expression "+e.expr.substituteParams(r)+" is not allowed inside '"+e.operator+"' (possible infinite loop)";return t.length>0&&(i+="\nApplication stack (most recent application last):\n"+t.map((e=>new te(e.ruleName,e.args))).join("\n")),ie(i,e.expr.source)}function pe(e,t,r,i){return ie("Rule "+e+" involves an alternation which has inconsistent arity (expected "+t+", got "+r+")",i.source)}class de{constructor(e,t,r){this.sourceString=e,this.startIdx=t,this.endIdx=r}get contents(){return void 0===this._contents&&(this._contents=this.sourceString.slice(this.startIdx,this.endIdx)),this._contents}get length(){return this.endIdx-this.startIdx}coverageWith(...e){return de.coverage(...e,this)}collapsedLeft(){return new de(this.sourceString,this.startIdx,this.startIdx)}collapsedRight(){return new de(this.sourceString,this.endIdx,this.endIdx)}getLineAndColumn(){return I(this.sourceString,this.startIdx)}getLineAndColumnMessage(){const e=[this.startIdx,this.endIdx];return N(this.sourceString,this.startIdx,e)}minus(e){if(this.sourceString!==e.sourceString)throw ne();return this.startIdx===e.startIdx&&this.endIdx===e.endIdx?[]:this.startIdx<e.startIdx&&e.endIdx<this.endIdx?[new de(this.sourceString,this.startIdx,e.startIdx),new de(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.endIdx&&e.endIdx<this.endIdx?[new de(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.startIdx&&e.startIdx<this.endIdx?[new de(this.sourceString,this.startIdx,e.startIdx)]:[this]}relativeTo(e){if(this.sourceString!==e.sourceString)throw ne();return i(this.startIdx>=e.startIdx&&this.endIdx<=e.endIdx,"other interval does not cover this one"),new de(this.sourceString,this.startIdx-e.startIdx,this.endIdx-e.startIdx)}trimmed(){const{contents:e}=this,t=this.startIdx+e.match(/^\s*/)[0].length,r=this.endIdx-e.match(/\s*$/)[0].length;return new de(this.sourceString,t,r)}subInterval(e,t){const r=this.startIdx+e;return new de(this.sourceString,r,r+t)}}de.coverage=function(e,...t){let{startIdx:r,endIdx:i}=e;for(const n of t){if(n.sourceString!==e.sourceString)throw ne();r=Math.min(r,n.startIdx),i=Math.max(i,n.endIdx)}return new de(e.sourceString,r,i)};class me{constructor(e){this.source=e,this.pos=0,this.examinedLength=0}atEnd(){const e=this.pos>=this.source.length;return this.examinedLength=Math.max(this.examinedLength,this.pos+1),e}next(){const e=this.source[this.pos++];return this.examinedLength=Math.max(this.examinedLength,this.pos),e}nextCharCode(){const e=this.next();return e&&e.charCodeAt(0)}nextCodePoint(){const e=this.source.slice(this.pos++).codePointAt(0);return e>65535&&(this.pos+=1),this.examinedLength=Math.max(this.examinedLength,this.pos),e}matchString(e,t){let r;if(t){for(r=0;r<e.length;r++){const t=this.next(),i=e[r];if(null==t||t.toUpperCase()!==i.toUpperCase())return!1}return!0}for(r=0;r<e.length;r++)if(this.next()!==e[r])return!1;return!0}sourceSlice(e,t){return this.source.slice(e,t)}interval(e,t){return new de(this.source,e,t||this.pos)}}class he{constructor(e,t,r,i,s,a,o){this.matcher=e,this.input=t,this.startExpr=r,this._cst=i,this._cstOffset=s,this._rightmostFailurePosition=a,this._rightmostFailures=o,this.failed()&&(n(this,"message",(function(){const e="Expected "+this.getExpectedText();return N(this.input,this.getRightmostFailurePosition())+e})),n(this,"shortMessage",(function(){const e="expected "+this.getExpectedText(),t=I(this.input,this.getRightmostFailurePosition());return"Line "+t.lineNum+", col "+t.colNum+": "+e})))}succeeded(){return!!this._cst}failed(){return!this.succeeded()}getRightmostFailurePosition(){return this._rightmostFailurePosition}getRightmostFailures(){if(!this._rightmostFailures){this.matcher.setInput(this.input);const e=this.matcher._match(this.startExpr,{tracing:!1,positionToRecordFailures:this.getRightmostFailurePosition()});this._rightmostFailures=e.getRightmostFailures()}return this._rightmostFailures}toString(){return this.succeeded()?"[match succeeded]":"[match failed at position "+this.getRightmostFailurePosition()+"]"}getExpectedText(){if(this.succeeded())throw new Error("cannot get expected text of a successful MatchResult");const e=new m;let t=this.getRightmostFailures();t=t.filter((e=>!e.isFluffy()));for(let r=0;r<t.length;r++)r>0&&(r===t.length-1?e.append(t.length>2?", or ":" or "):e.append(", ")),e.append(t[r].toString());return e.contents()}getInterval(){const e=this.getRightmostFailurePosition();return new de(this.input,e,e)}}class ge{constructor(){this.applicationMemoKeyStack=[],this.memo={},this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,this.currentLeftRecursion=void 0}isActive(e){return this.applicationMemoKeyStack.indexOf(e.toMemoKey())>=0}enter(e){this.applicationMemoKeyStack.push(e.toMemoKey())}exit(){this.applicationMemoKeyStack.pop()}startLeftRecursion(e,t){t.isLeftRecursion=!0,t.headApplication=e,t.nextLeftRecursion=this.currentLeftRecursion,this.currentLeftRecursion=t;const{applicationMemoKeyStack:r}=this,i=r.indexOf(e.toMemoKey())+1,n=r.slice(i);t.isInvolved=function(e){return n.indexOf(e)>=0},t.updateInvolvedApplicationMemoKeys=function(){for(let e=i;e<r.length;e++){const t=r[e];this.isInvolved(t)||n.push(t)}}}endLeftRecursion(){this.currentLeftRecursion=this.currentLeftRecursion.nextLeftRecursion}shouldUseMemoizedResult(e){if(!e.isLeftRecursion)return!0;const{applicationMemoKeyStack:t}=this;for(let r=0;r<t.length;r++){const i=t[r];if(e.isInvolved(i))return!1}return!0}memoize(e,t){return this.memo[e]=t,this.maxExaminedLength=Math.max(this.maxExaminedLength,t.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,t.rightmostFailureOffset),t}clearObsoleteEntries(e,t){if(e+this.maxExaminedLength<=t)return;const{memo:r}=this;this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,Object.keys(r).forEach((i=>{const n=r[i];e+n.examinedLength>t?delete r[i]:(this.maxExaminedLength=Math.max(this.maxExaminedLength,n.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,n.rightmostFailureOffset))}))}}const fe={succeeded:1,isRootNode:2,isImplicitSpaces:4,isMemoized:8,isHeadOfLeftRecursion:16,terminatesLR:32};function ye(e){return"string"==typeof e?e.replace(/ /g,"⋅").replace(/\t/g,"␉").replace(/\n/g,"␊").replace(/\r/g,"␍"):String(e)}class Se{constructor(e,t,r,i,n,s,a){this.input=e,this.pos=this.pos1=t,this.pos2=r,this.source=new de(e,t,r),this.expr=i,this.bindings=s,this.children=a||[],this.terminatingLREntry=null,this._flags=n?fe.succeeded:0}get displayString(){return this.expr.toDisplayString()}clone(){return this.cloneWithExpr(this.expr)}cloneWithExpr(e){const t=new Se(this.input,this.pos,this.pos2,e,this.succeeded,this.bindings,this.children);return t.isHeadOfLeftRecursion=this.isHeadOfLeftRecursion,t.isImplicitSpaces=this.isImplicitSpaces,t.isMemoized=this.isMemoized,t.isRootNode=this.isRootNode,t.terminatesLR=this.terminatesLR,t.terminatingLREntry=this.terminatingLREntry,t}recordLRTermination(e,t){this.terminatingLREntry=new Se(this.input,this.pos,this.pos2,this.expr,!1,[t],[e]),this.terminatingLREntry.terminatesLR=!0}walk(e,t){let r=e;function i(e,n,s){let a=!0;r.enter&&r.enter.call(t,e,n,s)===Se.prototype.SKIP&&(a=!1),a&&(e.children.forEach((t=>{i(t,e,s+1)})),r.exit&&r.exit.call(t,e,n,s))}"function"==typeof r&&(r={enter:r}),this.isRootNode?this.children.forEach((e=>{i(e,null,0)})):i(this,null,0)}toString(){const e=new m;return this.walk(((t,r,i)=>{if(!t)return this.SKIP;if("Alt"!==t.expr.constructor.name){if(e.append(function(e,t){const r=ye(e.slice(t,t+10));return r.length<10?r+o(" ",10-r.length).join(""):r}(t.input,t.pos)+o(" ",2*i+1).join("")),e.append((t.succeeded?"✓":"✗")+" "+t.displayString),t.isHeadOfLeftRecursion&&e.append(" (LR)"),t.succeeded){const r=ye(t.source.contents);e.append(" ⇒  "),e.append("string"==typeof r?'"'+r+'"':r)}e.append("\n")}})),e.contents()}}let ve,be,Te;Se.prototype.SKIP={},Object.keys(fe).forEach((e=>{const t=fe[e];Object.defineProperty(Se.prototype,e,{get(){return!!(this._flags&t)},set(e){e?this._flags|=t:this._flags&=~t}})})),F.prototype.allowsSkippingPrecedingSpace=r("allowsSkippingPrecedingSpace"),H.allowsSkippingPrecedingSpace=j.allowsSkippingPrecedingSpace=te.prototype.allowsSkippingPrecedingSpace=B.prototype.allowsSkippingPrecedingSpace=G.prototype.allowsSkippingPrecedingSpace=re.prototype.allowsSkippingPrecedingSpace=function(){return!0},V.prototype.allowsSkippingPrecedingSpace=K.prototype.allowsSkippingPrecedingSpace=ee.prototype.allowsSkippingPrecedingSpace=X.prototype.allowsSkippingPrecedingSpace=Z.prototype.allowsSkippingPrecedingSpace=W.prototype.allowsSkippingPrecedingSpace=z.prototype.allowsSkippingPrecedingSpace=function(){return!1},x((e=>{ve=e})),F.prototype.assertAllApplicationsAreValid=function(e,t){be=0,this._assertAllApplicationsAreValid(e,t)},F.prototype._assertAllApplicationsAreValid=r("_assertAllApplicationsAreValid"),H._assertAllApplicationsAreValid=j._assertAllApplicationsAreValid=B.prototype._assertAllApplicationsAreValid=G.prototype._assertAllApplicationsAreValid=W.prototype._assertAllApplicationsAreValid=re.prototype._assertAllApplicationsAreValid=function(e,t){},ee.prototype._assertAllApplicationsAreValid=function(e,t){be++,this.expr._assertAllApplicationsAreValid(e,t),be--},V.prototype._assertAllApplicationsAreValid=function(e,t){for(let r=0;r<this.terms.length;r++)this.terms[r]._assertAllApplicationsAreValid(e,t)},z.prototype._assertAllApplicationsAreValid=function(e,t){for(let r=0;r<this.factors.length;r++)this.factors[r]._assertAllApplicationsAreValid(e,t)},K.prototype._assertAllApplicationsAreValid=Z.prototype._assertAllApplicationsAreValid=X.prototype._assertAllApplicationsAreValid=function(e,t){this.expr._assertAllApplicationsAreValid(e,t)},te.prototype._assertAllApplicationsAreValid=function(e,t,r=!1){const i=t.rules[this.ruleName],n=c(e)&&0===be;if(!i)throw se(this.ruleName,t.name,this.source);if(!r&&c(this.ruleName)&&!n)throw function(e,t){return ie("Cannot apply syntactic rule "+e+" from here (inside a lexical context)",t.source)}(this.ruleName,this);const s=this.args.length,a=i.formals.length;if(s!==a)throw function(e,t,r,i){return ie("Wrong number of arguments for rule "+e+" (expected "+t+", got "+r+")",i)}(this.ruleName,a,s,this.source);const o=ve&&i===ve.rules.applySyntactic;if(ve&&i===ve.rules.caseInsensitive&&!(this.args[0]instanceof B))throw ue('a Terminal (e.g. "abc")',this.args[0]);if(o){const e=this.args[0];if(!(e instanceof te))throw ue("a syntactic rule application",e);if(!c(e.ruleName))throw function(e){const{ruleName:t}=e;return ie(`applySyntactic is for syntactic rules, but '${t}' is a lexical rule. NOTE: A _syntactic rule_ is a rule whose name begins with a capital letter. See https://ohmjs.org/d/svl for more details.`,e.source)}(e);if(n)throw ie("applySyntactic is not required here (in a syntactic context)",this.source)}this.args.forEach((r=>{if(r._assertAllApplicationsAreValid(e,t,o),1!==r.getArity())throw function(e,t){return ie("Invalid parameter to rule "+e+": "+t+" has arity "+t.getArity()+", but parameter expressions must have arity 1",t.source)}(this.ruleName,r)}))},F.prototype.assertChoicesHaveUniformArity=r("assertChoicesHaveUniformArity"),H.assertChoicesHaveUniformArity=j.assertChoicesHaveUniformArity=B.prototype.assertChoicesHaveUniformArity=G.prototype.assertChoicesHaveUniformArity=W.prototype.assertChoicesHaveUniformArity=ee.prototype.assertChoicesHaveUniformArity=re.prototype.assertChoicesHaveUniformArity=function(e){},V.prototype.assertChoicesHaveUniformArity=function(e){if(0===this.terms.length)return;const t=this.terms[0].getArity();for(let r=0;r<this.terms.length;r++){const i=this.terms[r];i.assertChoicesHaveUniformArity();const n=i.getArity();if(t!==n)throw pe(e,t,n,i)}},U.prototype.assertChoicesHaveUniformArity=function(e){const t=this.terms[0].getArity(),r=this.terms[1].getArity();if(t!==r)throw pe(e,r,t,this.terms[0])},z.prototype.assertChoicesHaveUniformArity=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertChoicesHaveUniformArity(e)},K.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},Z.prototype.assertChoicesHaveUniformArity=function(e){},X.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},te.prototype.assertChoicesHaveUniformArity=function(e){},F.prototype.assertIteratedExprsAreNotNullable=r("assertIteratedExprsAreNotNullable"),H.assertIteratedExprsAreNotNullable=j.assertIteratedExprsAreNotNullable=B.prototype.assertIteratedExprsAreNotNullable=G.prototype.assertIteratedExprsAreNotNullable=W.prototype.assertIteratedExprsAreNotNullable=re.prototype.assertIteratedExprsAreNotNullable=function(e){},V.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.terms.length;t++)this.terms[t].assertIteratedExprsAreNotNullable(e)},z.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertIteratedExprsAreNotNullable(e)},K.prototype.assertIteratedExprsAreNotNullable=function(e){if(this.expr.assertIteratedExprsAreNotNullable(e),this.expr.isNullable(e))throw ce(this,[])},J.prototype.assertIteratedExprsAreNotNullable=Z.prototype.assertIteratedExprsAreNotNullable=X.prototype.assertIteratedExprsAreNotNullable=ee.prototype.assertIteratedExprsAreNotNullable=function(e){this.expr.assertIteratedExprsAreNotNullable(e)},te.prototype.assertIteratedExprsAreNotNullable=function(e){this.args.forEach((t=>{t.assertIteratedExprsAreNotNullable(e)}))};class xe{constructor(e){this.matchLength=e}get ctorName(){throw new Error("subclass responsibility")}numChildren(){return this.children?this.children.length:0}childAt(e){if(this.children)return this.children[e]}indexOfChild(e){return this.children.indexOf(e)}hasChildren(){return this.numChildren()>0}hasNoChildren(){return!this.hasChildren()}onlyChild(){if(1!==this.numChildren())throw new Error("cannot get only child of a node of type "+this.ctorName+" (it has "+this.numChildren()+" children)");return this.firstChild()}firstChild(){if(this.hasNoChildren())throw new Error("cannot get first child of a "+this.ctorName+" node, which has no children");return this.childAt(0)}lastChild(){if(this.hasNoChildren())throw new Error("cannot get last child of a "+this.ctorName+" node, which has no children");return this.childAt(this.numChildren()-1)}childBefore(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childBefore() called w/ an argument that is not a child");if(0===t)throw new Error("cannot get child before first child");return this.childAt(t-1)}childAfter(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childAfter() called w/ an argument that is not a child");if(t===this.numChildren()-1)throw new Error("cannot get child after last child");return this.childAt(t+1)}isTerminal(){return!1}isNonterminal(){return!1}isIteration(){return!1}isOptional(){return!1}}class Ie extends xe{get ctorName(){return"_terminal"}isTerminal(){return!0}get primitiveValue(){throw new Error("The `primitiveValue` property was removed in Ohm v17.")}}class Ne extends xe{constructor(e,t,r,i){super(i),this.ruleName=e,this.children=t,this.childOffsets=r}get ctorName(){return this.ruleName}isNonterminal(){return!0}isLexical(){return p(this.ctorName)}isSyntactic(){return c(this.ctorName)}}class Le extends xe{constructor(e,t,r,i){super(r),this.children=e,this.childOffsets=t,this.optional=i}get ctorName(){return"_iter"}isIteration(){return!0}isOptional(){return this.optional}}function we(e,t){const r={};if(e.source&&t){const i=e.source.relativeTo(t);r.sourceInterval=[i.startIdx,i.endIdx]}return r}function Ce(e){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)}function Ee(e){const t=Object.create(null);e.forEach((e=>{t[e]=(t[e]||0)+1})),Object.keys(t).forEach((r=>{if(t[r]<=1)return;let i=1;e.forEach(((t,n)=>{t===r&&(e[n]=t+"_"+i++)}))}))}F.prototype.eval=r("eval"),H.eval=function(e){const{inputStream:t}=e,r=t.pos,i=t.nextCodePoint();return void 0!==i?(e.pushBinding(new Ie(String.fromCodePoint(i).length),r),!0):(e.processFailure(r,this),!1)},j.eval=function(e){const{inputStream:t}=e,r=t.pos;return t.atEnd()?(e.pushBinding(new Ie(0),r),!0):(e.processFailure(r,this),!1)},B.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;return t.matchString(this.obj)?(e.pushBinding(new Ie(this.obj.length),r),!0):(e.processFailure(r,this),!1)},G.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,i=this.matchCodePoint?t.nextCodePoint():t.nextCharCode();return void 0!==i&&this.from.codePointAt(0)<=i&&i<=this.to.codePointAt(0)?(e.pushBinding(new Ie(String.fromCodePoint(i).length),r),!0):(e.processFailure(r,this),!1)},W.prototype.eval=function(e){return e.eval(e.currentApplication().args[this.index])},ee.prototype.eval=function(e){e.enterLexifiedContext();const t=e.eval(this.expr);return e.exitLexifiedContext(),t},V.prototype.eval=function(e){for(let t=0;t<this.terms.length;t++)if(e.eval(this.terms[t]))return!0;return!1},z.prototype.eval=function(e){for(let t=0;t<this.factors.length;t++){const r=this.factors[t];if(!e.eval(r))return!1}return!0},K.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,i=this.getArity(),n=[],s=[];for(;n.length<i;)n.push([]),s.push([]);let a,o=0,l=r;for(;o<this.maxNumMatches&&e.eval(this.expr);){if(t.pos===l)throw ce(this,e._applicationStack);l=t.pos,o++;const r=e._bindings.splice(e._bindings.length-i,i),u=e._bindingOffsets.splice(e._bindingOffsets.length-i,i);for(a=0;a<r.length;a++)n[a].push(r[a]),s[a].push(u[a])}if(o<this.minNumMatches)return!1;let u=e.posToOffset(r),c=0;if(o>0){const e=n[i-1],t=s[i-1],r=t[t.length-1]+e[e.length-1].matchLength;u=s[0][0],c=r-u}const p=this instanceof J;for(a=0;a<n.length;a++)e._bindings.push(new Le(n[a],s[a],c,p)),e._bindingOffsets.push(u);return!0},Z.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;e.pushFailuresInfo();const i=e.eval(this.expr);return e.popFailuresInfo(),i?(e.processFailure(r,this),!1):(t.pos=r,!0)},X.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;return!!e.eval(this.expr)&&(t.pos=r,!0)},te.prototype.eval=function(e){const t=e.currentApplication(),r=t?t.args:[],i=this.substituteParams(r),n=e.getCurrentPosInfo();if(n.isActive(i))return i.handleCycle(e);const s=i.toMemoKey(),a=n.memo[s];if(a&&n.shouldUseMemoizedResult(a)){if(e.hasNecessaryInfo(a))return e.useMemoizedResult(e.inputStream.pos,a);delete n.memo[s]}return i.reallyEval(e)},te.prototype.handleCycle=function(e){const t=e.getCurrentPosInfo(),{currentLeftRecursion:r}=t,i=this.toMemoKey();let n=t.memo[i];return r&&r.headApplication.toMemoKey()===i?n.updateInvolvedApplicationMemoKeys():n||(n=t.memoize(i,{matchLength:0,examinedLength:0,value:!1,rightmostFailureOffset:-1}),t.startLeftRecursion(this,n)),e.useMemoizedResult(e.inputStream.pos,n)},te.prototype.reallyEval=function(e){const{inputStream:t}=e,r=t.pos,n=e.getCurrentPosInfo(),s=e.grammar.rules[this.ruleName],{body:a}=s,{description:o}=s;e.enterApplication(n,this),o&&e.pushFailuresInfo();const l=t.examinedLength;t.examinedLength=0;let u=this.evalOnce(a,e);const c=n.currentLeftRecursion,p=this.toMemoKey(),d=c&&c.headApplication.toMemoKey()===p;let m;e.doNotMemoize?e.doNotMemoize=!1:d?(u=this.growSeedResult(a,e,r,c,u),n.endLeftRecursion(),m=c,m.examinedLength=t.examinedLength-r,m.rightmostFailureOffset=e._getRightmostFailureOffset(),n.memoize(p,m)):c&&c.isInvolved(p)||(m=n.memoize(p,{matchLength:t.pos-r,examinedLength:t.examinedLength-r,value:u,failuresAtRightmostPosition:e.cloneRecordedFailures(),rightmostFailureOffset:e._getRightmostFailureOffset()}));const h=!!u;if(o&&(e.popFailuresInfo(),h||e.processFailure(r,this),m&&(m.failuresAtRightmostPosition=e.cloneRecordedFailures())),e.isTracing()&&m){const t=e.getTraceEntry(r,this,h,h?[u]:[]);d&&(i(null!=t.terminatingLREntry||!h),t.isHeadOfLeftRecursion=!0),m.traceEntry=t}return t.examinedLength=Math.max(t.examinedLength,l),e.exitApplication(n,u),h},te.prototype.evalOnce=function(e,t){const{inputStream:r}=t,i=r.pos;if(t.eval(e)){const n=e.getArity(),s=t._bindings.splice(t._bindings.length-n,n),a=t._bindingOffsets.splice(t._bindingOffsets.length-n,n),o=r.pos-i;return new Ne(this.ruleName,s,a,o)}return!1},te.prototype.growSeedResult=function(e,t,r,i,n){if(!n)return!1;const{inputStream:s}=t;for(;;){if(i.matchLength=s.pos-r,i.value=n,i.failuresAtRightmostPosition=t.cloneRecordedFailures(),t.isTracing()){const e=t.trace[t.trace.length-1];i.traceEntry=new Se(t.input,r,s.pos,this,!0,[n],[e.clone()])}if(s.pos=r,n=this.evalOnce(e,t),s.pos-r<=i.matchLength)break;t.isTracing()&&t.trace.splice(-2,1)}return t.isTracing()&&i.traceEntry.recordLRTermination(t.trace.pop(),n),s.pos=r+i.matchLength,i.value},re.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,i=t.next();return i&&this.pattern.test(i)?(e.pushBinding(new Ie(i.length),r),!0):(e.processFailure(r,this),!1)},F.prototype.getArity=r("getArity"),H.getArity=j.getArity=B.prototype.getArity=G.prototype.getArity=W.prototype.getArity=te.prototype.getArity=re.prototype.getArity=function(){return 1},V.prototype.getArity=function(){return 0===this.terms.length?0:this.terms[0].getArity()},z.prototype.getArity=function(){let e=0;for(let t=0;t<this.factors.length;t++)e+=this.factors[t].getArity();return e},K.prototype.getArity=function(){return this.expr.getArity()},Z.prototype.getArity=function(){return 0},X.prototype.getArity=ee.prototype.getArity=function(){return this.expr.getArity()},F.prototype.outputRecipe=r("outputRecipe"),H.outputRecipe=function(e,t){return["any",we(this,t)]},j.outputRecipe=function(e,t){return["end",we(this,t)]},B.prototype.outputRecipe=function(e,t){return["terminal",we(this,t),this.obj]},G.prototype.outputRecipe=function(e,t){return["range",we(this,t),this.from,this.to]},W.prototype.outputRecipe=function(e,t){return["param",we(this,t),this.index]},V.prototype.outputRecipe=function(e,t){return["alt",we(this,t)].concat(this.terms.map((r=>r.outputRecipe(e,t))))},U.prototype.outputRecipe=function(e,t){return this.terms[0].outputRecipe(e,t)},$.prototype.outputRecipe=function(e,t){const r=this.terms.slice(0,this.expansionPos),i=this.terms.slice(this.expansionPos+1);return["splice",we(this,t),r.map((r=>r.outputRecipe(e,t))),i.map((r=>r.outputRecipe(e,t)))]},z.prototype.outputRecipe=function(e,t){return["seq",we(this,t)].concat(this.factors.map((r=>r.outputRecipe(e,t))))},Q.prototype.outputRecipe=Y.prototype.outputRecipe=J.prototype.outputRecipe=Z.prototype.outputRecipe=X.prototype.outputRecipe=ee.prototype.outputRecipe=function(e,t){return[this.constructor.name.toLowerCase(),we(this,t),this.expr.outputRecipe(e,t)]},te.prototype.outputRecipe=function(e,t){return["app",we(this,t),this.ruleName,this.args.map((r=>r.outputRecipe(e,t)))]},re.prototype.outputRecipe=function(e,t){return["unicodeChar",we(this,t),this.category]},F.prototype.introduceParams=r("introduceParams"),H.introduceParams=j.introduceParams=B.prototype.introduceParams=G.prototype.introduceParams=W.prototype.introduceParams=re.prototype.introduceParams=function(e){return this},V.prototype.introduceParams=function(e){return this.terms.forEach(((t,r,i)=>{i[r]=t.introduceParams(e)})),this},z.prototype.introduceParams=function(e){return this.factors.forEach(((t,r,i)=>{i[r]=t.introduceParams(e)})),this},K.prototype.introduceParams=Z.prototype.introduceParams=X.prototype.introduceParams=ee.prototype.introduceParams=function(e){return this.expr=this.expr.introduceParams(e),this},te.prototype.introduceParams=function(e){const t=e.indexOf(this.ruleName);if(t>=0){if(this.args.length>0)throw new Error("Parameterized rules cannot be passed as arguments to another rule.");return new W(t).withSource(this.source)}return this.args.forEach(((t,r,i)=>{i[r]=t.introduceParams(e)})),this},F.prototype.isNullable=function(e){return this._isNullable(e,Object.create(null))},F.prototype._isNullable=r("_isNullable"),H._isNullable=G.prototype._isNullable=W.prototype._isNullable=Y.prototype._isNullable=re.prototype._isNullable=function(e,t){return!1},j._isNullable=function(e,t){return!0},B.prototype._isNullable=function(e,t){return"string"==typeof this.obj&&""===this.obj},V.prototype._isNullable=function(e,t){return 0===this.terms.length||this.terms.some((r=>r._isNullable(e,t)))},z.prototype._isNullable=function(e,t){return this.factors.every((r=>r._isNullable(e,t)))},Q.prototype._isNullable=J.prototype._isNullable=Z.prototype._isNullable=X.prototype._isNullable=function(e,t){return!0},ee.prototype._isNullable=function(e,t){return this.expr._isNullable(e,t)},te.prototype._isNullable=function(e,t){const r=this.toMemoKey();if(!Object.prototype.hasOwnProperty.call(t,r)){const{body:i}=e.rules[this.ruleName],n=i.substituteParams(this.args);t[r]=!1,t[r]=n._isNullable(e,t)}return t[r]},F.prototype.substituteParams=r("substituteParams"),H.substituteParams=j.substituteParams=B.prototype.substituteParams=G.prototype.substituteParams=re.prototype.substituteParams=function(e){return this},W.prototype.substituteParams=function(e){return y(e[this.index])},V.prototype.substituteParams=function(e){return new V(this.terms.map((t=>t.substituteParams(e))))},z.prototype.substituteParams=function(e){return new z(this.factors.map((t=>t.substituteParams(e))))},K.prototype.substituteParams=Z.prototype.substituteParams=X.prototype.substituteParams=ee.prototype.substituteParams=function(e){return new this.constructor(this.expr.substituteParams(e))},te.prototype.substituteParams=function(e){if(0===this.args.length)return this;{const t=this.args.map((t=>t.substituteParams(e)));return new te(this.ruleName,t)}},F.prototype.toArgumentNameList=r("toArgumentNameList"),H.toArgumentNameList=function(e,t){return["any"]},j.toArgumentNameList=function(e,t){return["end"]},B.prototype.toArgumentNameList=function(e,t){return"string"==typeof this.obj&&/^[_a-zA-Z0-9]+$/.test(this.obj)?["_"+this.obj]:["$"+e]},G.prototype.toArgumentNameList=function(e,t){let r=this.from+"_to_"+this.to;return Ce(r)||(r="_"+r),Ce(r)||(r="$"+e),[r]},V.prototype.toArgumentNameList=function(e,t){const r=this.terms.map((t=>t.toArgumentNameList(e,!0))),i=[],n=r[0].length;for(let e=0;e<n;e++){const t=[];for(let i=0;i<this.terms.length;i++)t.push(r[i][e]);const n=u(t);i.push(n.join("_or_"))}return t||Ee(i),i},z.prototype.toArgumentNameList=function(e,t){let r=[];return this.factors.forEach((t=>{const i=t.toArgumentNameList(e,!0);r=r.concat(i),e+=i.length})),t||Ee(r),r},K.prototype.toArgumentNameList=function(e,t){const r=this.expr.toArgumentNameList(e,t).map((e=>"s"===e[e.length-1]?e+"es":e+"s"));return t||Ee(r),r},J.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t).map((e=>"opt"+e[0].toUpperCase()+e.slice(1)))},Z.prototype.toArgumentNameList=function(e,t){return[]},X.prototype.toArgumentNameList=ee.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t)},te.prototype.toArgumentNameList=function(e,t){return[this.ruleName]},re.prototype.toArgumentNameList=function(e,t){return["$"+e]},W.prototype.toArgumentNameList=function(e,t){return["param"+this.index]},F.prototype.toDisplayString=r("toDisplayString"),V.prototype.toDisplayString=z.prototype.toDisplayString=function(){return this.source?this.source.trimmed().contents:"["+this.constructor.name+"]"},H.toDisplayString=j.toDisplayString=K.prototype.toDisplayString=Z.prototype.toDisplayString=X.prototype.toDisplayString=ee.prototype.toDisplayString=B.prototype.toDisplayString=G.prototype.toDisplayString=W.prototype.toDisplayString=function(){return this.toString()},te.prototype.toDisplayString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toDisplayString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},re.prototype.toDisplayString=function(){return"Unicode ["+this.category+"] character"};class ke{constructor(e,t,r){if(!function(e){return"description"===e||"string"===e||"code"===e}(r))throw new Error("invalid Failure type: "+r);this.pexpr=e,this.text=t,this.type=r,this.fluffy=!1}getPExpr(){return this.pexpr}getText(){return this.text}getType(){return this.type}isDescription(){return"description"===this.type}isStringTerminal(){return"string"===this.type}isCode(){return"code"===this.type}isFluffy(){return this.fluffy}makeFluffy(){this.fluffy=!0}clearFluffy(){this.fluffy=!1}subsumes(e){return this.getText()===e.getText()&&this.type===e.type&&(!this.isFluffy()||this.isFluffy()&&e.isFluffy())}toString(){return"string"===this.type?JSON.stringify(this.getText()):this.getText()}clone(){const e=new ke(this.pexpr,this.text,this.type);return this.isFluffy()&&e.makeFluffy(),e}toKey(){return this.toString()+"#"+this.type}}F.prototype.toFailure=r("toFailure"),H.toFailure=function(e){return new ke(this,"any object","description")},j.toFailure=function(e){return new ke(this,"end of input","description")},B.prototype.toFailure=function(e){return new ke(this,this.obj,"string")},G.prototype.toFailure=function(e){return new ke(this,JSON.stringify(this.from)+".."+JSON.stringify(this.to),"code")},Z.prototype.toFailure=function(e){const t=this.expr===H?"nothing":"not "+this.expr.toFailure(e);return new ke(this,t,"description")},X.prototype.toFailure=function(e){return this.expr.toFailure(e)},te.prototype.toFailure=function(e){let{description:t}=e.rules[this.ruleName];return t||(t=(/^[aeiouAEIOU]/.test(this.ruleName)?"an":"a")+" "+this.ruleName),new ke(this,t,"description")},re.prototype.toFailure=function(e){return new ke(this,"a Unicode ["+this.category+"] character","description")},V.prototype.toFailure=function(e){const t="("+this.terms.map((t=>t.toFailure(e))).join(" or ")+")";return new ke(this,t,"description")},z.prototype.toFailure=function(e){const t="("+this.factors.map((t=>t.toFailure(e))).join(" ")+")";return new ke(this,t,"description")},K.prototype.toFailure=function(e){const t="("+this.expr.toFailure(e)+this.operator+")";return new ke(this,t,"description")},F.prototype.toString=r("toString"),H.toString=function(){return"any"},j.toString=function(){return"end"},B.prototype.toString=function(){return JSON.stringify(this.obj)},G.prototype.toString=function(){return JSON.stringify(this.from)+".."+JSON.stringify(this.to)},W.prototype.toString=function(){return"$"+this.index},ee.prototype.toString=function(){return"#("+this.expr.toString()+")"},V.prototype.toString=function(){return 1===this.terms.length?this.terms[0].toString():"("+this.terms.map((e=>e.toString())).join(" | ")+")"},z.prototype.toString=function(){return 1===this.factors.length?this.factors[0].toString():"("+this.factors.map((e=>e.toString())).join(" ")+")"},K.prototype.toString=function(){return this.expr+this.operator},Z.prototype.toString=function(){return"~"+this.expr},X.prototype.toString=function(){return"&"+this.expr},te.prototype.toString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},re.prototype.toString=function(){return"\\p{"+this.category+"}"};class Ae extends F{constructor(e){super(),this.obj=e}_getString(e){const t=e.currentApplication().args[this.obj.index];return i(t instanceof B,"expected a Terminal expression"),t.obj}allowsSkippingPrecedingSpace(){return!0}eval(e){const{inputStream:t}=e,r=t.pos,i=this._getString(e);return t.matchString(i,!0)?(e.pushBinding(new Ie(i.length),r),!0):(e.processFailure(r,this),!1)}getArity(){return 1}substituteParams(e){return new Ae(this.obj.substituteParams(e))}toDisplayString(){return this.obj.toDisplayString()+" (case-insensitive)"}toFailure(e){return new ke(this,this.obj.toFailure(e)+" (case-insensitive)","description")}_isNullable(e,t){return this.obj._isNullable(e,t)}}x((e=>{Te=e.rules.applySyntactic.body}));const _e=new te("spaces");class qe{constructor(e,t,r){this.matcher=e,this.startExpr=t,this.grammar=e.grammar,this.input=e.getInput(),this.inputStream=new me(this.input),this.memoTable=e._memoTable,this.userData=void 0,this.doNotMemoize=!1,this._bindings=[],this._bindingOffsets=[],this._applicationStack=[],this._posStack=[0],this.inLexifiedContextStack=[!1],this.rightmostFailurePosition=-1,this._rightmostFailurePositionStack=[],this._recordedFailuresStack=[],void 0!==r&&(this.positionToRecordFailures=r,this.recordedFailures=Object.create(null))}posToOffset(e){return e-this._posStack[this._posStack.length-1]}enterApplication(e,t){this._posStack.push(this.inputStream.pos),this._applicationStack.push(t),this.inLexifiedContextStack.push(!1),e.enter(t),this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this.rightmostFailurePosition=-1}exitApplication(e,t){const r=this._posStack.pop();this._applicationStack.pop(),this.inLexifiedContextStack.pop(),e.exit(),this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,this._rightmostFailurePositionStack.pop()),t&&this.pushBinding(t,r)}enterLexifiedContext(){this.inLexifiedContextStack.push(!0)}exitLexifiedContext(){this.inLexifiedContextStack.pop()}currentApplication(){return this._applicationStack[this._applicationStack.length-1]}inSyntacticContext(){const e=this.currentApplication();return e?e.isSyntactic()&&!this.inLexifiedContext():this.startExpr.factors[0].isSyntactic()}inLexifiedContext(){return this.inLexifiedContextStack[this.inLexifiedContextStack.length-1]}skipSpaces(){return this.pushFailuresInfo(),this.eval(_e),this.popBinding(),this.popFailuresInfo(),this.inputStream.pos}skipSpacesIfInSyntacticContext(){return this.inSyntacticContext()?this.skipSpaces():this.inputStream.pos}maybeSkipSpacesBefore(e){return e.allowsSkippingPrecedingSpace()&&e!==_e?this.skipSpacesIfInSyntacticContext():this.inputStream.pos}pushBinding(e,t){this._bindings.push(e),this._bindingOffsets.push(this.posToOffset(t))}popBinding(){this._bindings.pop(),this._bindingOffsets.pop()}numBindings(){return this._bindings.length}truncateBindings(e){for(;this._bindings.length>e;)this.popBinding()}getCurrentPosInfo(){return this.getPosInfo(this.inputStream.pos)}getPosInfo(e){let t=this.memoTable[e];return t||(t=this.memoTable[e]=new ge),t}processFailure(e,t){if(this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,e),this.recordedFailures&&e===this.positionToRecordFailures){const e=this.currentApplication();e&&(t=t.substituteParams(e.args)),this.recordFailure(t.toFailure(this.grammar),!1)}}recordFailure(e,t){const r=e.toKey();this.recordedFailures[r]?this.recordedFailures[r].isFluffy()&&!e.isFluffy()&&this.recordedFailures[r].clearFluffy():this.recordedFailures[r]=t?e.clone():e}recordFailures(e,t){Object.keys(e).forEach((r=>{this.recordFailure(e[r],t)}))}cloneRecordedFailures(){if(!this.recordedFailures)return;const e=Object.create(null);return Object.keys(this.recordedFailures).forEach((t=>{e[t]=this.recordedFailures[t].clone()})),e}getRightmostFailurePosition(){return this.rightmostFailurePosition}_getRightmostFailureOffset(){return this.rightmostFailurePosition>=0?this.posToOffset(this.rightmostFailurePosition):-1}getMemoizedTraceEntry(e,t){const r=this.memoTable[e];if(r&&t instanceof te){const e=r.memo[t.toMemoKey()];if(e&&e.traceEntry){const r=e.traceEntry.cloneWithExpr(t);return r.isMemoized=!0,r}}return null}getTraceEntry(e,t,r,i){if(t instanceof te){const e=this.currentApplication(),r=e?e.args:[];t=t.substituteParams(r)}return this.getMemoizedTraceEntry(e,t)||new Se(this.input,e,this.inputStream.pos,t,r,i,this.trace)}isTracing(){return!!this.trace}hasNecessaryInfo(e){return!(this.trace&&!e.traceEntry||this.recordedFailures&&this.inputStream.pos+e.rightmostFailureOffset===this.positionToRecordFailures&&!e.failuresAtRightmostPosition)}useMemoizedResult(e,t){this.trace&&this.trace.push(t.traceEntry);const r=this.inputStream.pos+t.rightmostFailureOffset;return this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,r),this.recordedFailures&&this.positionToRecordFailures===r&&t.failuresAtRightmostPosition&&this.recordFailures(t.failuresAtRightmostPosition,!0),this.inputStream.examinedLength=Math.max(this.inputStream.examinedLength,t.examinedLength+e),!!t.value&&(this.inputStream.pos+=t.matchLength,this.pushBinding(t.value,e),!0)}eval(e){const{inputStream:t}=this,r=this._bindings.length,i=this.userData;let n;this.recordedFailures&&(n=this.recordedFailures,this.recordedFailures=Object.create(null));const s=t.pos,a=this.maybeSkipSpacesBefore(e);let o;this.trace&&(o=this.trace,this.trace=[]);const l=e.eval(this);if(this.trace){const t=this._bindings.slice(r),i=this.getTraceEntry(a,e,l,t);i.isImplicitSpaces=e===_e,i.isRootNode=e===this.startExpr,o.push(i),this.trace=o}return l?this.recordedFailures&&t.pos===this.positionToRecordFailures&&Object.keys(this.recordedFailures).forEach((e=>{this.recordedFailures[e].makeFluffy()})):(t.pos=s,this.truncateBindings(r),this.userData=i),this.recordedFailures&&this.recordFailures(n,!1),e===Te&&this.skipSpaces(),l}getMatchResult(){let e;this.grammar._setUpMatchState(this),this.eval(this.startExpr),this.recordedFailures&&(e=Object.keys(this.recordedFailures).map((e=>this.recordedFailures[e])));const t=this._bindings[0];return t&&(t.grammar=this.grammar),new he(this.matcher,this.input,this.startExpr,t,this._bindingOffsets[0],this.rightmostFailurePosition,e)}getTrace(){this.trace=[];const e=this.getMatchResult(),t=this.trace[this.trace.length-1];return t.result=e,t}pushFailuresInfo(){this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this._recordedFailuresStack.push(this.recordedFailures)}popFailuresInfo(){this.rightmostFailurePosition=this._rightmostFailurePositionStack.pop(),this.recordedFailures=this._recordedFailuresStack.pop()}}class Oe{constructor(e){this.grammar=e,this._memoTable=[],this._input="",this._isMemoTableStale=!1}_resetMemoTable(){this._memoTable=[],this._isMemoTableStale=!1}getInput(){return this._input}setInput(e){return this._input!==e&&this.replaceInputRange(0,this._input.length,e),this}replaceInputRange(e,t,r){const i=this._input,n=this._memoTable;if(e<0||e>i.length||t<0||t>i.length||e>t)throw new Error("Invalid indices: "+e+" and "+t);this._input=i.slice(0,e)+r+i.slice(t),this._input!==i&&n.length>0&&(this._isMemoTableStale=!0);const s=n.slice(t);n.length=e;for(let e=0;e<r.length;e++)n.push(void 0);for(const e of s)n.push(e);for(let t=0;t<e;t++){const r=n[t];r&&r.clearObsoleteEntries(t,e)}return this}match(e,t={incremental:!0}){return this._match(this._getStartExpr(e),{incremental:t.incremental,tracing:!1})}trace(e,t={incremental:!0}){return this._match(this._getStartExpr(e),{incremental:t.incremental,tracing:!0})}_match(e,t={}){const r={tracing:!1,incremental:!0,positionToRecordFailures:void 0,...t};if(r.incremental){if(this._isMemoTableStale&&!this.grammar.supportsIncrementalParsing)throw ie(`Grammar '${this.grammar.name}' does not support incremental parsing`)}else this._resetMemoTable();const i=new qe(this,e,r.positionToRecordFailures);return r.tracing?i.getTrace():i.getMatchResult()}_getStartExpr(e){const t=e||this.grammar.defaultStartRule;if(!t)throw new Error("Missing start rule argument -- the grammar has no default start rule.");const r=this.grammar.parseApplication(t);return new z([r,j])}}const Re=[],Pe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class De{constructor(e,t,r){this._node=e,this.source=t,this._baseInterval=r,e.isNonterminal()&&i(t===r),this._childWrappers=[]}_forgetMemoizedResultFor(e){delete this._node[this._semantics.attributeKeys[e]],this.children.forEach((t=>{t._forgetMemoizedResultFor(e)}))}child(e){if(!(0<=e&&e<this._node.numChildren()))return;let t=this._childWrappers[e];if(!t){const r=this._node.childAt(e),i=this._node.childOffsets[e],n=this._baseInterval.subInterval(i,r.matchLength),s=r.isNonterminal()?n:this._baseInterval;t=this._childWrappers[e]=this._semantics.wrap(r,n,s)}return t}_children(){for(let e=0;e<this._node.numChildren();e++)this.child(e);return this._childWrappers}isIteration(){return this._node.isIteration()}isTerminal(){return this._node.isTerminal()}isNonterminal(){return this._node.isNonterminal()}isSyntactic(){return this.isNonterminal()&&this._node.isSyntactic()}isLexical(){return this.isNonterminal()&&this._node.isLexical()}isOptional(){return this._node.isOptional()}iteration(e){const t=e||[],r=t.map((e=>e._node)),i=new Le(r,[],-1,!1),n=this._semantics.wrap(i,null,null);return n._childWrappers=t,n}get children(){return this._children()}get ctorName(){return this._node.ctorName}get numChildren(){return this._node.numChildren()}get sourceString(){return this.source.contents}}class Me{constructor(e,t){const r=this;if(this.grammar=e,this.checkedActionDicts=!1,this.Wrapper=class extends(t?t.Wrapper:De){constructor(e,t,i){super(e,t,i),r.checkActionDictsIfHaventAlready(),this._semantics=r}toString(){return"[semantics wrapper for "+r.grammar.name+"]"}},this.super=t,t){if(!e.equals(this.super.grammar)&&!e._inheritsFrom(this.super.grammar))throw new Error("Cannot extend a semantics for grammar '"+this.super.grammar.name+"' for use with grammar '"+e.name+"' (not a sub-grammar)");this.operations=Object.create(this.super.operations),this.attributes=Object.create(this.super.attributes),this.attributeKeys=Object.create(null);for(const e in this.attributes)Object.defineProperty(this.attributeKeys,e,{value:L(e)})}else this.operations=Object.create(null),this.attributes=Object.create(null),this.attributeKeys=Object.create(null)}toString(){return"[semantics for "+this.grammar.name+"]"}checkActionDictsIfHaventAlready(){this.checkedActionDicts||(this.checkActionDicts(),this.checkedActionDicts=!0)}checkActionDicts(){let e;for(e in this.operations)this.operations[e].checkActionDict(this.grammar);for(e in this.attributes)this.attributes[e].checkActionDict(this.grammar)}toRecipe(e){function t(e){return e.super!==Me.BuiltInSemantics._getSemantics()}let r="(function(g) {\n";if(t(this)){r+="  var semantics = "+this.super.toRecipe(!0)+"(g";const e=this.super.grammar;let t=this.grammar;for(;t!==e;)r+=".superGrammar",t=t.superGrammar;r+=");\n",r+="  return g.extendSemantics(semantics)"}else r+="  return g.createSemantics()";return["Operation","Attribute"].forEach((e=>{const i=this[e.toLowerCase()+"s"];Object.keys(i).forEach((n=>{const{actionDict:s,formals:a,builtInDefault:o}=i[n];let l,u=n;a.length>0&&(u+="("+a.join(", ")+")"),l=t(this)&&this.super[e.toLowerCase()+"s"][n]?"extend"+e:"add"+e,r+="\n    ."+l+"("+JSON.stringify(u)+", {";const c=[];Object.keys(s).forEach((e=>{if(s[e]!==o){let t=s[e].toString().trim();t=t.replace(/^.*\(/,"function("),c.push("\n      "+JSON.stringify(e)+": "+t)}})),r+=c.join(",")+"\n    })"}))})),r+=";\n  })",e||(r="(function() {\n  var grammar = this.fromRecipe("+this.grammar.toRecipe()+");\n  var semantics = "+r+"(grammar);\n  return semantics;\n});\n"),r}addOperationOrAttribute(e,t,r){const i=e+"s",n=Fe(t,e),{name:s}=n,{formals:a}=n;this.assertNewName(s,e);const o=function(e,t,r){return function(...i){const n=(this._semantics.operations[t]||this._semantics.attributes[t]).formals.map((e=>this.args[e]));if(this.isIteration()||1!==i.length)throw function(e,t,r,i){let n=i.slice(0,-1).map((e=>{const t="  "+e[0].name+" > "+e[1];return 3===e.length?t+" for '"+e[2]+"'":t})).join("\n");n+="\n  "+t+" > "+e;let s="";"_iter"===e&&(s=["\nNOTE: as of Ohm v16, there is no default action for iteration nodes — see ","  https://ohmjs.org/d/dsa for details."].join("\n"));const a=ie([`Missing semantic action for '${e}' in ${r} '${t}'.${s}`,"Action stack (most recent call last):",n].join("\n"));return a.name="missingSemanticAction",a}(this.ctorName,t,e,Re);return r.apply(i[0],n)}}(e,s,c),l={_default:o};Object.keys(r).forEach((e=>{l[e]=r[e]}));const u="operation"===e?new He(s,a,l,o):new je(s,l,o);function c(...t){const r=this._semantics[i][s];if(arguments.length!==r.formals.length)throw new Error("Invalid number of arguments passed to "+s+" "+e+" (expected "+r.formals.length+", got "+arguments.length+")");const n=Object.create(null);for(const[e,i]of Object.entries(t))n[r.formals[e]]=i;const a=this.args;this.args=n;const o=r.execute(this._semantics,this);return this.args=a,o}u.checkActionDict(this.grammar),this[i][s]=u,"operation"===e?(this.Wrapper.prototype[s]=c,this.Wrapper.prototype[s].toString=function(){return"["+s+" operation]"}):(Object.defineProperty(this.Wrapper.prototype,s,{get:c,configurable:!0}),Object.defineProperty(this.attributeKeys,s,{value:L(s)}))}extendOperationOrAttribute(e,t,r){const i=e+"s";if(Fe(t,"attribute"),!this.super||!(t in this.super[i]))throw new Error("Cannot extend "+e+" '"+t+"': did not inherit an "+e+" with that name");if(Pe(this[i],t))throw new Error("Cannot extend "+e+" '"+t+"' again");const n=this[i][t].formals,s=this[i][t].actionDict,a=Object.create(s);Object.keys(r).forEach((e=>{a[e]=r[e]})),this[i][t]="operation"===e?new He(t,n,a):new je(t,a),this[i][t].checkActionDict(this.grammar)}assertNewName(e,t){if(Pe(De.prototype,e))throw new Error("Cannot add "+t+" '"+e+"': that's a reserved name");if(e in this.operations)throw new Error("Cannot add "+t+" '"+e+"': an operation with that name already exists");if(e in this.attributes)throw new Error("Cannot add "+t+" '"+e+"': an attribute with that name already exists")}wrap(e,t,r){const i=r||t;return e instanceof this.Wrapper?e:new this.Wrapper(e,t,i)}}function Fe(e,t){if(!Me.prototypeGrammar)return i(-1===e.indexOf("(")),{name:e,formals:[]};const r=Me.prototypeGrammar.match(e,"operation"===t?"OperationSignature":"AttributeSignature");if(r.failed())throw new Error(r.message);return Me.prototypeGrammarSemantics(r).parse()}Me.createSemantics=function(e,t){const r=new Me(e,void 0!==t?t:Me.BuiltInSemantics._getSemantics()),i=function(t){if(!(t instanceof he))throw new TypeError("Semantics expected a MatchResult, but got "+f(t));if(t.failed())throw new TypeError("cannot apply Semantics to "+t.toString());const i=t._cst;if(i.grammar!==e)throw new Error("Cannot use a MatchResult from grammar '"+i.grammar.name+"' with a semantics for '"+e.name+"'");const n=new me(t.input);return r.wrap(i,n.interval(t._cstOffset,t.input.length))};return i.addOperation=function(e,t){return r.addOperationOrAttribute("operation",e,t),i},i.extendOperation=function(e,t){return r.extendOperationOrAttribute("operation",e,t),i},i.addAttribute=function(e,t){return r.addOperationOrAttribute("attribute",e,t),i},i.extendAttribute=function(e,t){return r.extendOperationOrAttribute("attribute",e,t),i},i._getActionDict=function(t){const i=r.operations[t]||r.attributes[t];if(!i)throw new Error('"'+t+'" is not a valid operation or attribute name in this semantics for "'+e.name+'"');return i.actionDict},i._remove=function(e){let t;return e in r.operations?(t=r.operations[e],delete r.operations[e]):e in r.attributes&&(t=r.attributes[e],delete r.attributes[e]),delete r.Wrapper.prototype[e],t},i.getOperationNames=function(){return Object.keys(r.operations)},i.getAttributeNames=function(){return Object.keys(r.attributes)},i.getGrammar=function(){return r.grammar},i.toRecipe=function(e){return r.toRecipe(e)},i.toString=r.toString.bind(r),i._getSemantics=function(){return r},i};class He{constructor(e,t,r,i){this.name=e,this.formals=t,this.actionDict=r,this.builtInDefault=i}checkActionDict(e){e._checkTopDownActionDict(this.typeName,this.name,this.actionDict)}execute(e,t){try{const{ctorName:e}=t._node;let r=this.actionDict[e];return r?(Re.push([this,e]),r.apply(t,t._children())):t.isNonterminal()&&(r=this.actionDict._nonterminal,r)?(Re.push([this,"_nonterminal",e]),r.apply(t,t._children())):(Re.push([this,"default action",e]),this.actionDict._default.apply(t,t._children()))}finally{Re.pop()}}}He.prototype.typeName="operation";class je extends He{constructor(e,t,r){super(e,[],t,r)}execute(e,t){const r=t._node,i=e.attributeKeys[this.name];return Pe(r,i)||(r[i]=He.prototype.execute.call(this,e,t)),r[i]}}je.prototype.typeName="attribute";const Be=["_iter","_terminal","_nonterminal","_default"];function Ge(e){return Object.keys(e.rules).sort().map((t=>e.rules[t]))}let We,Ve;class Ue{constructor(e,t,r,i){if(this.name=e,this.superGrammar=t,this.rules=r,i){if(!(i in r))throw new Error("Invalid start rule: '"+i+"' is not a rule in grammar '"+e+"'");this.defaultStartRule=i}this._matchStateInitializer=void 0,this.supportsIncrementalParsing=!0}matcher(){return new Oe(this)}isBuiltIn(){return this===Ue.ProtoBuiltInRules||this===Ue.BuiltInRules}equals(e){if(this===e)return!0;if(null==e||this.name!==e.name||this.defaultStartRule!==e.defaultStartRule||this.superGrammar!==e.superGrammar&&!this.superGrammar.equals(e.superGrammar))return!1;const t=Ge(this),r=Ge(e);return t.length===r.length&&t.every(((e,t)=>e.description===r[t].description&&e.formals.join(",")===r[t].formals.join(",")&&e.body.toString()===r[t].body.toString()))}match(e,t){const r=this.matcher();return r.replaceInputRange(0,0,e),r.match(t)}trace(e,t){const r=this.matcher();return r.replaceInputRange(0,0,e),r.trace(t)}createSemantics(){return Me.createSemantics(this)}extendSemantics(e){return Me.createSemantics(this,e._getSemantics())}_checkTopDownActionDict(e,t,r){const i=[];for(const e in r){const t=r[e];if(!Be.includes(e)&&!(e in this.rules)){i.push(`'${e}' is not a valid semantic action for '${this.name}'`);continue}if("function"!=typeof t){i.push(`'${e}' must be a function in an action dictionary for '${this.name}'`);continue}const n=t.length,s=this._topDownActionArity(e);if(n!==s){let t;t="_iter"===e||"_nonterminal"===e?`it should use a rest parameter, e.g. \`${e}(...children) {}\`. NOTE: this is new in Ohm v16 — see https://ohmjs.org/d/ati for details.`:`expected ${s}, got ${n}`,i.push(`Semantic action '${e}' has the wrong arity: ${t}`)}}if(i.length>0){const r=i.map((e=>"- "+e)),n=new Error([`Found errors in the action dictionary of the '${t}' ${e}:`,...r].join("\n"));throw n.problems=i,n}}_topDownActionArity(e){return Be.includes(e)?0:this.rules[e].body.getArity()}_inheritsFrom(e){let t=this.superGrammar;for(;t;){if(t.equals(e,!0))return!0;t=t.superGrammar}return!1}toRecipe(e=void 0){const t={};this.source&&(t.source=this.source.contents);let r=null;this.defaultStartRule&&(r=this.defaultStartRule);const i={};Object.keys(this.rules).forEach((e=>{const t=this.rules[e],{body:r}=t,n=!this.superGrammar||!this.superGrammar.rules[e];let s;s=n?"define":r instanceof U?"extend":"override";const a={};if(t.source&&this.source){const e=t.source.relativeTo(this.source);a.sourceInterval=[e.startIdx,e.endIdx]}const o=n?t.description:null,l=r.outputRecipe(t.formals,this.source);i[e]=[s,a,o,t.formals,l]}));let n="null";e?n=e:this.superGrammar&&!this.superGrammar.isBuiltIn()&&(n=this.superGrammar.toRecipe());return`[${[...["grammar",t,this.name].map(JSON.stringify),n,...[r,i].map(JSON.stringify)].join(",")}]`.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}toOperationActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()}toAttributeActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()}_toOperationOrAttributeActionDictionaryTemplate(){const e=new m;e.append("{");let t=!0;for(const r in this.rules){const{body:i}=this.rules[r];t?t=!1:e.append(","),e.append("\n"),e.append("  "),this.addSemanticActionTemplate(r,i,e)}return e.append("\n}"),e.contents()}addSemanticActionTemplate(e,t,r){r.append(e),r.append(": function(");const i=this._topDownActionArity(e);r.append(o("_",i).join(", ")),r.append(") {\n"),r.append("  }")}parseApplication(e){let t;if(-1===e.indexOf("<"))t=new te(e);else{const r=We.match(e,"Base_application");t=Ve(r,{})}if(!(t.ruleName in this.rules))throw se(t.ruleName,this.name);const{formals:r}=this.rules[t.ruleName];if(r.length!==t.args.length){const{source:e}=this.rules[t.ruleName];throw oe(t.ruleName,r.length,t.args.length,e)}return t}_setUpMatchState(e){this._matchStateInitializer&&this._matchStateInitializer(e)}}Ue.ProtoBuiltInRules=new Ue("ProtoBuiltInRules",void 0,{any:{body:H,formals:[],description:"any character",primitive:!0},end:{body:j,formals:[],description:"end of input",primitive:!0},caseInsensitive:{body:new Ae(new W(0)),formals:["str"],primitive:!0},lower:{body:new re("Ll"),formals:[],description:"a lowercase letter",primitive:!0},upper:{body:new re("Lu"),formals:[],description:"an uppercase letter",primitive:!0},unicodeLtmo:{body:new re("Ltmo"),formals:[],description:"a Unicode character in Lt, Lm, or Lo",primitive:!0},spaces:{body:new Q(new te("space")),formals:[]},space:{body:new G("\0"," "),formals:[],description:"a space"}}),Ue.initApplicationParser=function(e,t){We=e,Ve=t};class $e{constructor(e){this.name=e}sourceInterval(e,t){return this.source.subInterval(e,t-e)}ensureSuperGrammar(){return this.superGrammar||this.withSuperGrammar("BuiltInRules"===this.name?Ue.ProtoBuiltInRules:Ue.BuiltInRules),this.superGrammar}ensureSuperGrammarRuleForOverriding(e,t){const r=this.ensureSuperGrammar().rules[e];if(!r)throw ie("Cannot override rule "+e+" because it is not declared in "+this.superGrammar.name,t);return r}installOverriddenOrExtendedRule(e,t,r,i){const n=l(t);if(n.length>0)throw le(e,n,i);const s=this.ensureSuperGrammar().rules[e],a=s.formals,o=a?a.length:0;if(t.length!==o)throw oe(e,o,t.length,i);return this.install(e,t,r,s.description,i)}install(e,t,r,i,n,s=!1){return this.rules[e]={body:r.introduceParams(t),formals:t,description:i,source:n,primitive:s},this}withSuperGrammar(e){if(this.superGrammar)throw new Error("the super grammar of a GrammarDecl cannot be set more than once");return this.superGrammar=e,this.rules=Object.create(e.rules),e.isBuiltIn()||(this.defaultStartRule=e.defaultStartRule),this}withDefaultStartRule(e){return this.defaultStartRule=e,this}withSource(e){return this.source=new me(e).interval(0,e.length),this}build(){const e=new Ue(this.name,this.ensureSuperGrammar(),this.rules,this.defaultStartRule);e._matchStateInitializer=e.superGrammar._matchStateInitializer,e.supportsIncrementalParsing=e.superGrammar.supportsIncrementalParsing;const t=[];let r=!1;return Object.keys(e.rules).forEach((i=>{const{body:n}=e.rules[i];try{n.assertChoicesHaveUniformArity(i)}catch(e){t.push(e)}try{n.assertAllApplicationsAreValid(i,e)}catch(e){t.push(e),r=!0}})),r||Object.keys(e.rules).forEach((r=>{const{body:i}=e.rules[r];try{i.assertIteratedExprsAreNotNullable(e,[])}catch(e){t.push(e)}})),t.length>0&&function(e){if(1===e.length)throw e[0];if(e.length>1)throw function(e){const t=e.map((e=>e.message));return ie(["Errors:"].concat(t).join("\n- "),e[0].interval)}(e)}(t),this.source&&(e.source=this.source),e}define(e,t,r,i,n,s){if(this.ensureSuperGrammar(),this.superGrammar.rules[e])throw ae(e,this.name,this.superGrammar.name,n);if(this.rules[e])throw ae(e,this.name,this.name,n);const a=l(t);if(a.length>0)throw le(e,a,n);return this.install(e,t,r,i,n,s)}override(e,t,r,i,n){return this.ensureSuperGrammarRuleForOverriding(e,n),this.installOverriddenOrExtendedRule(e,t,r,n),this}extend(e,t,r,i,n){if(!this.ensureSuperGrammar().rules[e])throw ie("Cannot extend rule "+e+" because it is not declared in "+this.superGrammar.name,n);const s=new U(this.superGrammar,e,r);return s.source=r.source,this.installOverriddenOrExtendedRule(e,t,s,n),this}}class ze{constructor(){this.currentDecl=null,this.currentRuleName=null}newGrammar(e){return new $e(e)}grammar(e,t,r,i,n){const s=new $e(t);return r&&s.withSuperGrammar(r instanceof Ue?r:this.fromRecipe(r)),i&&s.withDefaultStartRule(i),e&&e.source&&s.withSource(e.source),this.currentDecl=s,Object.keys(n).forEach((e=>{this.currentRuleName=e;const t=n[e],r=t[0],i=t[1],a=t[2],o=t[3],l=this.fromRecipe(t[4]);let u;s.source&&i&&i.sourceInterval&&(u=s.source.subInterval(i.sourceInterval[0],i.sourceInterval[1]-i.sourceInterval[0])),s[r](e,o,l,a,u)})),this.currentRuleName=this.currentDecl=null,s.build()}terminal(e){return new B(e)}range(e,t){return new G(e,t)}param(e){return new W(e)}alt(...e){let t=[];for(let r of e)r instanceof F||(r=this.fromRecipe(r)),r instanceof V?t=t.concat(r.terms):t.push(r);return 1===t.length?t[0]:new V(t)}seq(...e){let t=[];for(let r of e)r instanceof F||(r=this.fromRecipe(r)),r instanceof z?t=t.concat(r.factors):t.push(r);return 1===t.length?t[0]:new z(t)}star(e){return e instanceof F||(e=this.fromRecipe(e)),new Q(e)}plus(e){return e instanceof F||(e=this.fromRecipe(e)),new Y(e)}opt(e){return e instanceof F||(e=this.fromRecipe(e)),new J(e)}not(e){return e instanceof F||(e=this.fromRecipe(e)),new Z(e)}lookahead(e){return e instanceof F||(e=this.fromRecipe(e)),new X(e)}lex(e){return e instanceof F||(e=this.fromRecipe(e)),new ee(e)}app(e,t){return t&&t.length>0&&(t=t.map((function(e){return e instanceof F?e:this.fromRecipe(e)}),this)),new te(e,t)}splice(e,t){return new $(this.currentDecl.superGrammar,this.currentRuleName,e.map((e=>this.fromRecipe(e))),t.map((e=>this.fromRecipe(e))))}fromRecipe(e){const t="grammar"===e[0]?e.slice(1):e.slice(2),r=this[e[0]](...t),i=e[1];return i&&i.sourceInterval&&this.currentDecl&&r.withSource(this.currentDecl.sourceInterval(...i.sourceInterval)),r}}function Ke(e){return"function"==typeof e?e.call(new ze):("string"==typeof e&&(e=JSON.parse(e)),(new ze).fromRecipe(e))}var Qe,Ye=Ke(["grammar",{source:'BuiltInRules {\n\n  alnum  (an alpha-numeric character)\n    = letter\n    | digit\n\n  letter  (a letter)\n    = lower\n    | upper\n    | unicodeLtmo\n\n  digit  (a digit)\n    = "0".."9"\n\n  hexDigit  (a hexadecimal digit)\n    = digit\n    | "a".."f"\n    | "A".."F"\n\n  ListOf<elem, sep>\n    = NonemptyListOf<elem, sep>\n    | EmptyListOf<elem, sep>\n\n  NonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  EmptyListOf<elem, sep>\n    = /* nothing */\n\n  listOf<elem, sep>\n    = nonemptyListOf<elem, sep>\n    | emptyListOf<elem, sep>\n\n  nonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  emptyListOf<elem, sep>\n    = /* nothing */\n\n  // Allows a syntactic rule application within a lexical context.\n  applySyntactic<app> = app\n}'},"BuiltInRules",null,null,{alnum:["define",{sourceInterval:[18,78]},"an alpha-numeric character",[],["alt",{sourceInterval:[60,78]},["app",{sourceInterval:[60,66]},"letter",[]],["app",{sourceInterval:[73,78]},"digit",[]]]],letter:["define",{sourceInterval:[82,142]},"a letter",[],["alt",{sourceInterval:[107,142]},["app",{sourceInterval:[107,112]},"lower",[]],["app",{sourceInterval:[119,124]},"upper",[]],["app",{sourceInterval:[131,142]},"unicodeLtmo",[]]]],digit:["define",{sourceInterval:[146,177]},"a digit",[],["range",{sourceInterval:[169,177]},"0","9"]],hexDigit:["define",{sourceInterval:[181,254]},"a hexadecimal digit",[],["alt",{sourceInterval:[219,254]},["app",{sourceInterval:[219,224]},"digit",[]],["range",{sourceInterval:[231,239]},"a","f"],["range",{sourceInterval:[246,254]},"A","F"]]],ListOf:["define",{sourceInterval:[258,336]},null,["elem","sep"],["alt",{sourceInterval:[282,336]},["app",{sourceInterval:[282,307]},"NonemptyListOf",[["param",{sourceInterval:[297,301]},0],["param",{sourceInterval:[303,306]},1]]],["app",{sourceInterval:[314,336]},"EmptyListOf",[["param",{sourceInterval:[326,330]},0],["param",{sourceInterval:[332,335]},1]]]]],NonemptyListOf:["define",{sourceInterval:[340,388]},null,["elem","sep"],["seq",{sourceInterval:[372,388]},["param",{sourceInterval:[372,376]},0],["star",{sourceInterval:[377,388]},["seq",{sourceInterval:[378,386]},["param",{sourceInterval:[378,381]},1],["param",{sourceInterval:[382,386]},0]]]]],EmptyListOf:["define",{sourceInterval:[392,434]},null,["elem","sep"],["seq",{sourceInterval:[438,438]}]],listOf:["define",{sourceInterval:[438,516]},null,["elem","sep"],["alt",{sourceInterval:[462,516]},["app",{sourceInterval:[462,487]},"nonemptyListOf",[["param",{sourceInterval:[477,481]},0],["param",{sourceInterval:[483,486]},1]]],["app",{sourceInterval:[494,516]},"emptyListOf",[["param",{sourceInterval:[506,510]},0],["param",{sourceInterval:[512,515]},1]]]]],nonemptyListOf:["define",{sourceInterval:[520,568]},null,["elem","sep"],["seq",{sourceInterval:[552,568]},["param",{sourceInterval:[552,556]},0],["star",{sourceInterval:[557,568]},["seq",{sourceInterval:[558,566]},["param",{sourceInterval:[558,561]},1],["param",{sourceInterval:[562,566]},0]]]]],emptyListOf:["define",{sourceInterval:[572,682]},null,["elem","sep"],["seq",{sourceInterval:[685,685]}]],applySyntactic:["define",{sourceInterval:[685,710]},null,["app"],["param",{sourceInterval:[707,710]},0]]}]);Ue.BuiltInRules=Ye,Qe=Ue.BuiltInRules,T.forEach((e=>{e(Qe)})),T=null;var Je=Ke(["grammar",{source:'Ohm {\n\n  Grammars\n    = Grammar*\n\n  Grammar\n    = ident SuperGrammar? "{" Rule* "}"\n\n  SuperGrammar\n    = "<:" ident\n\n  Rule\n    = ident Formals? ruleDescr? "="  RuleBody  -- define\n    | ident Formals?            ":=" OverrideRuleBody  -- override\n    | ident Formals?            "+=" RuleBody  -- extend\n\n  RuleBody\n    = "|"? NonemptyListOf<TopLevelTerm, "|">\n\n  TopLevelTerm\n    = Seq caseName  -- inline\n    | Seq\n\n  OverrideRuleBody\n    = "|"? NonemptyListOf<OverrideTopLevelTerm, "|">\n\n  OverrideTopLevelTerm\n    = "..."  -- superSplice\n    | TopLevelTerm\n\n  Formals\n    = "<" ListOf<ident, ","> ">"\n\n  Params\n    = "<" ListOf<Seq, ","> ">"\n\n  Alt\n    = NonemptyListOf<Seq, "|">\n\n  Seq\n    = Iter*\n\n  Iter\n    = Pred "*"  -- star\n    | Pred "+"  -- plus\n    | Pred "?"  -- opt\n    | Pred\n\n  Pred\n    = "~" Lex  -- not\n    | "&" Lex  -- lookahead\n    | Lex\n\n  Lex\n    = "#" Base  -- lex\n    | Base\n\n  Base\n    = ident Params? ~(ruleDescr? "=" | ":=" | "+=")  -- application\n    | oneCharTerminal ".." oneCharTerminal           -- range\n    | terminal                                       -- terminal\n    | "(" Alt ")"                                    -- paren\n\n  ruleDescr  (a rule description)\n    = "(" ruleDescrText ")"\n\n  ruleDescrText\n    = (~")" any)*\n\n  caseName\n    = "--" (~"\\n" space)* name (~"\\n" space)* ("\\n" | &"}")\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n  ident  (an identifier)\n    = name\n\n  terminal\n    = "\\"" terminalChar* "\\""\n\n  oneCharTerminal\n    = "\\"" terminalChar "\\""\n\n  terminalChar\n    = escapeChar\n      | ~"\\\\" ~"\\"" ~"\\n" "\\u{0}".."\\u{10FFFF}"\n\n  escapeChar  (an escape sequence)\n    = "\\\\\\\\"                                     -- backslash\n    | "\\\\\\""                                     -- doubleQuote\n    | "\\\\\\\'"                                     -- singleQuote\n    | "\\\\b"                                      -- backspace\n    | "\\\\n"                                      -- lineFeed\n    | "\\\\r"                                      -- carriageReturn\n    | "\\\\t"                                      -- tab\n    | "\\\\u{" hexDigit hexDigit? hexDigit?\n             hexDigit? hexDigit? hexDigit? "}"   -- unicodeCodePoint\n    | "\\\\u" hexDigit hexDigit hexDigit hexDigit  -- unicodeEscape\n    | "\\\\x" hexDigit hexDigit                    -- hexEscape\n\n  space\n   += comment\n\n  comment\n    = "//" (~"\\n" any)* &("\\n" | end)  -- singleLine\n    | "/*" (~"*/" any)* "*/"  -- multiLine\n\n  tokens = token*\n\n  token = caseName | comment | ident | operator | punctuation | terminal | any\n\n  operator = "<:" | "=" | ":=" | "+=" | "*" | "+" | "?" | "~" | "&"\n\n  punctuation = "<" | ">" | "," | "--"\n}'},"Ohm",null,"Grammars",{Grammars:["define",{sourceInterval:[9,32]},null,[],["star",{sourceInterval:[24,32]},["app",{sourceInterval:[24,31]},"Grammar",[]]]],Grammar:["define",{sourceInterval:[36,83]},null,[],["seq",{sourceInterval:[50,83]},["app",{sourceInterval:[50,55]},"ident",[]],["opt",{sourceInterval:[56,69]},["app",{sourceInterval:[56,68]},"SuperGrammar",[]]],["terminal",{sourceInterval:[70,73]},"{"],["star",{sourceInterval:[74,79]},["app",{sourceInterval:[74,78]},"Rule",[]]],["terminal",{sourceInterval:[80,83]},"}"]]],SuperGrammar:["define",{sourceInterval:[87,116]},null,[],["seq",{sourceInterval:[106,116]},["terminal",{sourceInterval:[106,110]},"<:"],["app",{sourceInterval:[111,116]},"ident",[]]]],Rule_define:["define",{sourceInterval:[131,181]},null,[],["seq",{sourceInterval:[131,170]},["app",{sourceInterval:[131,136]},"ident",[]],["opt",{sourceInterval:[137,145]},["app",{sourceInterval:[137,144]},"Formals",[]]],["opt",{sourceInterval:[146,156]},["app",{sourceInterval:[146,155]},"ruleDescr",[]]],["terminal",{sourceInterval:[157,160]},"="],["app",{sourceInterval:[162,170]},"RuleBody",[]]]],Rule_override:["define",{sourceInterval:[188,248]},null,[],["seq",{sourceInterval:[188,235]},["app",{sourceInterval:[188,193]},"ident",[]],["opt",{sourceInterval:[194,202]},["app",{sourceInterval:[194,201]},"Formals",[]]],["terminal",{sourceInterval:[214,218]},":="],["app",{sourceInterval:[219,235]},"OverrideRuleBody",[]]]],Rule_extend:["define",{sourceInterval:[255,305]},null,[],["seq",{sourceInterval:[255,294]},["app",{sourceInterval:[255,260]},"ident",[]],["opt",{sourceInterval:[261,269]},["app",{sourceInterval:[261,268]},"Formals",[]]],["terminal",{sourceInterval:[281,285]},"+="],["app",{sourceInterval:[286,294]},"RuleBody",[]]]],Rule:["define",{sourceInterval:[120,305]},null,[],["alt",{sourceInterval:[131,305]},["app",{sourceInterval:[131,170]},"Rule_define",[]],["app",{sourceInterval:[188,235]},"Rule_override",[]],["app",{sourceInterval:[255,294]},"Rule_extend",[]]]],RuleBody:["define",{sourceInterval:[309,362]},null,[],["seq",{sourceInterval:[324,362]},["opt",{sourceInterval:[324,328]},["terminal",{sourceInterval:[324,327]},"|"]],["app",{sourceInterval:[329,362]},"NonemptyListOf",[["app",{sourceInterval:[344,356]},"TopLevelTerm",[]],["terminal",{sourceInterval:[358,361]},"|"]]]]],TopLevelTerm_inline:["define",{sourceInterval:[385,408]},null,[],["seq",{sourceInterval:[385,397]},["app",{sourceInterval:[385,388]},"Seq",[]],["app",{sourceInterval:[389,397]},"caseName",[]]]],TopLevelTerm:["define",{sourceInterval:[366,418]},null,[],["alt",{sourceInterval:[385,418]},["app",{sourceInterval:[385,397]},"TopLevelTerm_inline",[]],["app",{sourceInterval:[415,418]},"Seq",[]]]],OverrideRuleBody:["define",{sourceInterval:[422,491]},null,[],["seq",{sourceInterval:[445,491]},["opt",{sourceInterval:[445,449]},["terminal",{sourceInterval:[445,448]},"|"]],["app",{sourceInterval:[450,491]},"NonemptyListOf",[["app",{sourceInterval:[465,485]},"OverrideTopLevelTerm",[]],["terminal",{sourceInterval:[487,490]},"|"]]]]],OverrideTopLevelTerm_superSplice:["define",{sourceInterval:[522,543]},null,[],["terminal",{sourceInterval:[522,527]},"..."]],OverrideTopLevelTerm:["define",{sourceInterval:[495,562]},null,[],["alt",{sourceInterval:[522,562]},["app",{sourceInterval:[522,527]},"OverrideTopLevelTerm_superSplice",[]],["app",{sourceInterval:[550,562]},"TopLevelTerm",[]]]],Formals:["define",{sourceInterval:[566,606]},null,[],["seq",{sourceInterval:[580,606]},["terminal",{sourceInterval:[580,583]},"<"],["app",{sourceInterval:[584,602]},"ListOf",[["app",{sourceInterval:[591,596]},"ident",[]],["terminal",{sourceInterval:[598,601]},","]]],["terminal",{sourceInterval:[603,606]},">"]]],Params:["define",{sourceInterval:[610,647]},null,[],["seq",{sourceInterval:[623,647]},["terminal",{sourceInterval:[623,626]},"<"],["app",{sourceInterval:[627,643]},"ListOf",[["app",{sourceInterval:[634,637]},"Seq",[]],["terminal",{sourceInterval:[639,642]},","]]],["terminal",{sourceInterval:[644,647]},">"]]],Alt:["define",{sourceInterval:[651,685]},null,[],["app",{sourceInterval:[661,685]},"NonemptyListOf",[["app",{sourceInterval:[676,679]},"Seq",[]],["terminal",{sourceInterval:[681,684]},"|"]]]],Seq:["define",{sourceInterval:[689,704]},null,[],["star",{sourceInterval:[699,704]},["app",{sourceInterval:[699,703]},"Iter",[]]]],Iter_star:["define",{sourceInterval:[719,736]},null,[],["seq",{sourceInterval:[719,727]},["app",{sourceInterval:[719,723]},"Pred",[]],["terminal",{sourceInterval:[724,727]},"*"]]],Iter_plus:["define",{sourceInterval:[743,760]},null,[],["seq",{sourceInterval:[743,751]},["app",{sourceInterval:[743,747]},"Pred",[]],["terminal",{sourceInterval:[748,751]},"+"]]],Iter_opt:["define",{sourceInterval:[767,783]},null,[],["seq",{sourceInterval:[767,775]},["app",{sourceInterval:[767,771]},"Pred",[]],["terminal",{sourceInterval:[772,775]},"?"]]],Iter:["define",{sourceInterval:[708,794]},null,[],["alt",{sourceInterval:[719,794]},["app",{sourceInterval:[719,727]},"Iter_star",[]],["app",{sourceInterval:[743,751]},"Iter_plus",[]],["app",{sourceInterval:[767,775]},"Iter_opt",[]],["app",{sourceInterval:[790,794]},"Pred",[]]]],Pred_not:["define",{sourceInterval:[809,824]},null,[],["seq",{sourceInterval:[809,816]},["terminal",{sourceInterval:[809,812]},"~"],["app",{sourceInterval:[813,816]},"Lex",[]]]],Pred_lookahead:["define",{sourceInterval:[831,852]},null,[],["seq",{sourceInterval:[831,838]},["terminal",{sourceInterval:[831,834]},"&"],["app",{sourceInterval:[835,838]},"Lex",[]]]],Pred:["define",{sourceInterval:[798,862]},null,[],["alt",{sourceInterval:[809,862]},["app",{sourceInterval:[809,816]},"Pred_not",[]],["app",{sourceInterval:[831,838]},"Pred_lookahead",[]],["app",{sourceInterval:[859,862]},"Lex",[]]]],Lex_lex:["define",{sourceInterval:[876,892]},null,[],["seq",{sourceInterval:[876,884]},["terminal",{sourceInterval:[876,879]},"#"],["app",{sourceInterval:[880,884]},"Base",[]]]],Lex:["define",{sourceInterval:[866,903]},null,[],["alt",{sourceInterval:[876,903]},["app",{sourceInterval:[876,884]},"Lex_lex",[]],["app",{sourceInterval:[899,903]},"Base",[]]]],Base_application:["define",{sourceInterval:[918,979]},null,[],["seq",{sourceInterval:[918,963]},["app",{sourceInterval:[918,923]},"ident",[]],["opt",{sourceInterval:[924,931]},["app",{sourceInterval:[924,930]},"Params",[]]],["not",{sourceInterval:[932,963]},["alt",{sourceInterval:[934,962]},["seq",{sourceInterval:[934,948]},["opt",{sourceInterval:[934,944]},["app",{sourceInterval:[934,943]},"ruleDescr",[]]],["terminal",{sourceInterval:[945,948]},"="]],["terminal",{sourceInterval:[951,955]},":="],["terminal",{sourceInterval:[958,962]},"+="]]]]],Base_range:["define",{sourceInterval:[986,1041]},null,[],["seq",{sourceInterval:[986,1022]},["app",{sourceInterval:[986,1001]},"oneCharTerminal",[]],["terminal",{sourceInterval:[1002,1006]},".."],["app",{sourceInterval:[1007,1022]},"oneCharTerminal",[]]]],Base_terminal:["define",{sourceInterval:[1048,1106]},null,[],["app",{sourceInterval:[1048,1056]},"terminal",[]]],Base_paren:["define",{sourceInterval:[1113,1168]},null,[],["seq",{sourceInterval:[1113,1124]},["terminal",{sourceInterval:[1113,1116]},"("],["app",{sourceInterval:[1117,1120]},"Alt",[]],["terminal",{sourceInterval:[1121,1124]},")"]]],Base:["define",{sourceInterval:[907,1168]},null,[],["alt",{sourceInterval:[918,1168]},["app",{sourceInterval:[918,963]},"Base_application",[]],["app",{sourceInterval:[986,1022]},"Base_range",[]],["app",{sourceInterval:[1048,1056]},"Base_terminal",[]],["app",{sourceInterval:[1113,1124]},"Base_paren",[]]]],ruleDescr:["define",{sourceInterval:[1172,1231]},"a rule description",[],["seq",{sourceInterval:[1210,1231]},["terminal",{sourceInterval:[1210,1213]},"("],["app",{sourceInterval:[1214,1227]},"ruleDescrText",[]],["terminal",{sourceInterval:[1228,1231]},")"]]],ruleDescrText:["define",{sourceInterval:[1235,1266]},null,[],["star",{sourceInterval:[1255,1266]},["seq",{sourceInterval:[1256,1264]},["not",{sourceInterval:[1256,1260]},["terminal",{sourceInterval:[1257,1260]},")"]],["app",{sourceInterval:[1261,1264]},"any",[]]]]],caseName:["define",{sourceInterval:[1270,1338]},null,[],["seq",{sourceInterval:[1285,1338]},["terminal",{sourceInterval:[1285,1289]},"--"],["star",{sourceInterval:[1290,1304]},["seq",{sourceInterval:[1291,1302]},["not",{sourceInterval:[1291,1296]},["terminal",{sourceInterval:[1292,1296]},"\n"]],["app",{sourceInterval:[1297,1302]},"space",[]]]],["app",{sourceInterval:[1305,1309]},"name",[]],["star",{sourceInterval:[1310,1324]},["seq",{sourceInterval:[1311,1322]},["not",{sourceInterval:[1311,1316]},["terminal",{sourceInterval:[1312,1316]},"\n"]],["app",{sourceInterval:[1317,1322]},"space",[]]]],["alt",{sourceInterval:[1326,1337]},["terminal",{sourceInterval:[1326,1330]},"\n"],["lookahead",{sourceInterval:[1333,1337]},["terminal",{sourceInterval:[1334,1337]},"}"]]]]],name:["define",{sourceInterval:[1342,1382]},"a name",[],["seq",{sourceInterval:[1363,1382]},["app",{sourceInterval:[1363,1372]},"nameFirst",[]],["star",{sourceInterval:[1373,1382]},["app",{sourceInterval:[1373,1381]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[1386,1418]},null,[],["alt",{sourceInterval:[1402,1418]},["terminal",{sourceInterval:[1402,1405]},"_"],["app",{sourceInterval:[1412,1418]},"letter",[]]]],nameRest:["define",{sourceInterval:[1422,1452]},null,[],["alt",{sourceInterval:[1437,1452]},["terminal",{sourceInterval:[1437,1440]},"_"],["app",{sourceInterval:[1447,1452]},"alnum",[]]]],ident:["define",{sourceInterval:[1456,1489]},"an identifier",[],["app",{sourceInterval:[1485,1489]},"name",[]]],terminal:["define",{sourceInterval:[1493,1531]},null,[],["seq",{sourceInterval:[1508,1531]},["terminal",{sourceInterval:[1508,1512]},'"'],["star",{sourceInterval:[1513,1526]},["app",{sourceInterval:[1513,1525]},"terminalChar",[]]],["terminal",{sourceInterval:[1527,1531]},'"']]],oneCharTerminal:["define",{sourceInterval:[1535,1579]},null,[],["seq",{sourceInterval:[1557,1579]},["terminal",{sourceInterval:[1557,1561]},'"'],["app",{sourceInterval:[1562,1574]},"terminalChar",[]],["terminal",{sourceInterval:[1575,1579]},'"']]],terminalChar:["define",{sourceInterval:[1583,1660]},null,[],["alt",{sourceInterval:[1602,1660]},["app",{sourceInterval:[1602,1612]},"escapeChar",[]],["seq",{sourceInterval:[1621,1660]},["not",{sourceInterval:[1621,1626]},["terminal",{sourceInterval:[1622,1626]},"\\"]],["not",{sourceInterval:[1627,1632]},["terminal",{sourceInterval:[1628,1632]},'"']],["not",{sourceInterval:[1633,1638]},["terminal",{sourceInterval:[1634,1638]},"\n"]],["range",{sourceInterval:[1639,1660]},"\0","􏿿"]]]],escapeChar_backslash:["define",{sourceInterval:[1703,1758]},null,[],["terminal",{sourceInterval:[1703,1709]},"\\\\"]],escapeChar_doubleQuote:["define",{sourceInterval:[1765,1822]},null,[],["terminal",{sourceInterval:[1765,1771]},'\\"']],escapeChar_singleQuote:["define",{sourceInterval:[1829,1886]},null,[],["terminal",{sourceInterval:[1829,1835]},"\\'"]],escapeChar_backspace:["define",{sourceInterval:[1893,1948]},null,[],["terminal",{sourceInterval:[1893,1898]},"\\b"]],escapeChar_lineFeed:["define",{sourceInterval:[1955,2009]},null,[],["terminal",{sourceInterval:[1955,1960]},"\\n"]],escapeChar_carriageReturn:["define",{sourceInterval:[2016,2076]},null,[],["terminal",{sourceInterval:[2016,2021]},"\\r"]],escapeChar_tab:["define",{sourceInterval:[2083,2132]},null,[],["terminal",{sourceInterval:[2083,2088]},"\\t"]],escapeChar_unicodeCodePoint:["define",{sourceInterval:[2139,2243]},null,[],["seq",{sourceInterval:[2139,2221]},["terminal",{sourceInterval:[2139,2145]},"\\u{"],["app",{sourceInterval:[2146,2154]},"hexDigit",[]],["opt",{sourceInterval:[2155,2164]},["app",{sourceInterval:[2155,2163]},"hexDigit",[]]],["opt",{sourceInterval:[2165,2174]},["app",{sourceInterval:[2165,2173]},"hexDigit",[]]],["opt",{sourceInterval:[2188,2197]},["app",{sourceInterval:[2188,2196]},"hexDigit",[]]],["opt",{sourceInterval:[2198,2207]},["app",{sourceInterval:[2198,2206]},"hexDigit",[]]],["opt",{sourceInterval:[2208,2217]},["app",{sourceInterval:[2208,2216]},"hexDigit",[]]],["terminal",{sourceInterval:[2218,2221]},"}"]]],escapeChar_unicodeEscape:["define",{sourceInterval:[2250,2309]},null,[],["seq",{sourceInterval:[2250,2291]},["terminal",{sourceInterval:[2250,2255]},"\\u"],["app",{sourceInterval:[2256,2264]},"hexDigit",[]],["app",{sourceInterval:[2265,2273]},"hexDigit",[]],["app",{sourceInterval:[2274,2282]},"hexDigit",[]],["app",{sourceInterval:[2283,2291]},"hexDigit",[]]]],escapeChar_hexEscape:["define",{sourceInterval:[2316,2371]},null,[],["seq",{sourceInterval:[2316,2339]},["terminal",{sourceInterval:[2316,2321]},"\\x"],["app",{sourceInterval:[2322,2330]},"hexDigit",[]],["app",{sourceInterval:[2331,2339]},"hexDigit",[]]]],escapeChar:["define",{sourceInterval:[1664,2371]},"an escape sequence",[],["alt",{sourceInterval:[1703,2371]},["app",{sourceInterval:[1703,1709]},"escapeChar_backslash",[]],["app",{sourceInterval:[1765,1771]},"escapeChar_doubleQuote",[]],["app",{sourceInterval:[1829,1835]},"escapeChar_singleQuote",[]],["app",{sourceInterval:[1893,1898]},"escapeChar_backspace",[]],["app",{sourceInterval:[1955,1960]},"escapeChar_lineFeed",[]],["app",{sourceInterval:[2016,2021]},"escapeChar_carriageReturn",[]],["app",{sourceInterval:[2083,2088]},"escapeChar_tab",[]],["app",{sourceInterval:[2139,2221]},"escapeChar_unicodeCodePoint",[]],["app",{sourceInterval:[2250,2291]},"escapeChar_unicodeEscape",[]],["app",{sourceInterval:[2316,2339]},"escapeChar_hexEscape",[]]]],space:["extend",{sourceInterval:[2375,2394]},null,[],["app",{sourceInterval:[2387,2394]},"comment",[]]],comment_singleLine:["define",{sourceInterval:[2412,2458]},null,[],["seq",{sourceInterval:[2412,2443]},["terminal",{sourceInterval:[2412,2416]},"//"],["star",{sourceInterval:[2417,2429]},["seq",{sourceInterval:[2418,2427]},["not",{sourceInterval:[2418,2423]},["terminal",{sourceInterval:[2419,2423]},"\n"]],["app",{sourceInterval:[2424,2427]},"any",[]]]],["lookahead",{sourceInterval:[2430,2443]},["alt",{sourceInterval:[2432,2442]},["terminal",{sourceInterval:[2432,2436]},"\n"],["app",{sourceInterval:[2439,2442]},"end",[]]]]]],comment_multiLine:["define",{sourceInterval:[2465,2501]},null,[],["seq",{sourceInterval:[2465,2487]},["terminal",{sourceInterval:[2465,2469]},"/*"],["star",{sourceInterval:[2470,2482]},["seq",{sourceInterval:[2471,2480]},["not",{sourceInterval:[2471,2476]},["terminal",{sourceInterval:[2472,2476]},"*/"]],["app",{sourceInterval:[2477,2480]},"any",[]]]],["terminal",{sourceInterval:[2483,2487]},"*/"]]],comment:["define",{sourceInterval:[2398,2501]},null,[],["alt",{sourceInterval:[2412,2501]},["app",{sourceInterval:[2412,2443]},"comment_singleLine",[]],["app",{sourceInterval:[2465,2487]},"comment_multiLine",[]]]],tokens:["define",{sourceInterval:[2505,2520]},null,[],["star",{sourceInterval:[2514,2520]},["app",{sourceInterval:[2514,2519]},"token",[]]]],token:["define",{sourceInterval:[2524,2600]},null,[],["alt",{sourceInterval:[2532,2600]},["app",{sourceInterval:[2532,2540]},"caseName",[]],["app",{sourceInterval:[2543,2550]},"comment",[]],["app",{sourceInterval:[2553,2558]},"ident",[]],["app",{sourceInterval:[2561,2569]},"operator",[]],["app",{sourceInterval:[2572,2583]},"punctuation",[]],["app",{sourceInterval:[2586,2594]},"terminal",[]],["app",{sourceInterval:[2597,2600]},"any",[]]]],operator:["define",{sourceInterval:[2604,2669]},null,[],["alt",{sourceInterval:[2615,2669]},["terminal",{sourceInterval:[2615,2619]},"<:"],["terminal",{sourceInterval:[2622,2625]},"="],["terminal",{sourceInterval:[2628,2632]},":="],["terminal",{sourceInterval:[2635,2639]},"+="],["terminal",{sourceInterval:[2642,2645]},"*"],["terminal",{sourceInterval:[2648,2651]},"+"],["terminal",{sourceInterval:[2654,2657]},"?"],["terminal",{sourceInterval:[2660,2663]},"~"],["terminal",{sourceInterval:[2666,2669]},"&"]]],punctuation:["define",{sourceInterval:[2673,2709]},null,[],["alt",{sourceInterval:[2687,2709]},["terminal",{sourceInterval:[2687,2690]},"<"],["terminal",{sourceInterval:[2693,2696]},">"],["terminal",{sourceInterval:[2699,2702]},","],["terminal",{sourceInterval:[2705,2709]},"--"]]]}]);const Ze=Object.create(F.prototype);function Xe(e,t){for(const r in e)if(r===t)return!0;return!1}function et(e,t,r){const n=new ze;let s,a,o,l=!1;const u=(r||Je).createSemantics().addOperation("visit",{Grammars:e=>e.children.map((e=>e.visit())),Grammar(e,r,i,a,o){const l=e.visit();s=n.newGrammar(l),r.child(0)&&r.child(0).visit(),a.children.map((e=>e.visit()));const u=s.build();if(u.source=this.source.trimmed(),Xe(t,l))throw function(e){return ie("Grammar "+e.name+" is already declared in this namespace")}(u);return t[l]=u,u},SuperGrammar(e,r){const i=r.visit();if("null"===i)s.withSuperGrammar(null);else{if(!t||!Xe(t,i))throw function(e,t,r){return ie(t?`Grammar ${e} is not declared in namespace '${t}'`:"Undeclared grammar "+e,r)}(i,t,r.source);s.withSuperGrammar(t[i])}},Rule_define(e,t,r,i,n){a=e.visit(),o=t.children.map((e=>e.visit()))[0]||[],s.defaultStartRule||s.ensureSuperGrammar()===Ue.ProtoBuiltInRules||s.withDefaultStartRule(a);const l=n.visit(),u=r.children.map((e=>e.visit()))[0],c=this.source.trimmed();return s.define(a,o,l,u,c)},Rule_override(e,t,r,i){a=e.visit(),o=t.children.map((e=>e.visit()))[0]||[];const n=this.source.trimmed();s.ensureSuperGrammarRuleForOverriding(a,n),l=!0;const u=i.visit();return l=!1,s.override(a,o,u,null,n)},Rule_extend(e,t,r,i){a=e.visit(),o=t.children.map((e=>e.visit()))[0]||[];const n=i.visit(),l=this.source.trimmed();return s.extend(a,o,n,null,l)},RuleBody(e,t){return n.alt(...t.visit()).withSource(this.source)},OverrideRuleBody(e,t){const r=t.visit(),i=r.indexOf(Ze);if(i>=0){const e=r.slice(0,i),t=r.slice(i+1);return t.forEach((e=>{if(e===Ze)throw ie("'...' can appear at most once in a rule body",e.source)})),new $(s.superGrammar,a,e,t).withSource(this.source)}return n.alt(...r).withSource(this.source)},Formals:(e,t,r)=>t.visit(),Params:(e,t,r)=>t.visit(),Alt(e){return n.alt(...e.visit()).withSource(this.source)},TopLevelTerm_inline(e,t){const r=a+"_"+t.visit(),i=e.visit(),u=this.source.trimmed(),c=!(s.superGrammar&&s.superGrammar.rules[r]);l&&!c?s.override(r,o,i,null,u):s.define(r,o,i,null,u);const p=o.map((e=>n.app(e)));return n.app(r,p).withSource(i.source)},OverrideTopLevelTerm_superSplice:e=>Ze,Seq(e){return n.seq(...e.children.map((e=>e.visit()))).withSource(this.source)},Iter_star(e,t){return n.star(e.visit()).withSource(this.source)},Iter_plus(e,t){return n.plus(e.visit()).withSource(this.source)},Iter_opt(e,t){return n.opt(e.visit()).withSource(this.source)},Pred_not(e,t){return n.not(t.visit()).withSource(this.source)},Pred_lookahead(e,t){return n.lookahead(t.visit()).withSource(this.source)},Lex_lex(e,t){return n.lex(t.visit()).withSource(this.source)},Base_application(e,t){const r=t.children.map((e=>e.visit()))[0]||[];return n.app(e.visit(),r).withSource(this.source)},Base_range(e,t,r){return n.range(e.visit(),r.visit()).withSource(this.source)},Base_terminal(e){return n.terminal(e.visit()).withSource(this.source)},Base_paren:(e,t,r)=>t.visit(),ruleDescr:(e,t,r)=>t.visit(),ruleDescrText(e){return this.sourceString.trim()},caseName:(e,t,r,i,n)=>r.visit(),name(e,t){return this.sourceString},nameFirst(e){},nameRest(e){},terminal:(e,t,r)=>t.children.map((e=>e.visit())).join(""),oneCharTerminal:(e,t,r)=>t.visit(),escapeChar(e){try{return g(this.sourceString)}catch(t){if(t instanceof RangeError&&t.message.startsWith("Invalid code point "))throw function(e){const t=e._node;i(t&&t.isNonterminal()&&"escapeChar_unicodeCodePoint"===t.ctorName);const r=e.children.slice(1,-1).map((e=>e.source)),n=r[0].coverageWith(...r.slice(1));return ie(`U+${n.contents} is not a valid Unicode code point`,n)}(e);throw t}},NonemptyListOf:(e,t,r)=>[e.visit()].concat(r.children.map((e=>e.visit()))),EmptyListOf:()=>[],_terminal(){return this.sourceString}});return u(e).visit()}var tt=Ke(["grammar",{source:'OperationsAndAttributes {\n\n  AttributeSignature =\n    name\n\n  OperationSignature =\n    name Formals?\n\n  Formals\n    = "(" ListOf<name, ","> ")"\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n}'},"OperationsAndAttributes",null,"AttributeSignature",{AttributeSignature:["define",{sourceInterval:[29,58]},null,[],["app",{sourceInterval:[54,58]},"name",[]]],OperationSignature:["define",{sourceInterval:[62,100]},null,[],["seq",{sourceInterval:[87,100]},["app",{sourceInterval:[87,91]},"name",[]],["opt",{sourceInterval:[92,100]},["app",{sourceInterval:[92,99]},"Formals",[]]]]],Formals:["define",{sourceInterval:[104,143]},null,[],["seq",{sourceInterval:[118,143]},["terminal",{sourceInterval:[118,121]},"("],["app",{sourceInterval:[122,139]},"ListOf",[["app",{sourceInterval:[129,133]},"name",[]],["terminal",{sourceInterval:[135,138]},","]]],["terminal",{sourceInterval:[140,143]},")"]]],name:["define",{sourceInterval:[147,187]},"a name",[],["seq",{sourceInterval:[168,187]},["app",{sourceInterval:[168,177]},"nameFirst",[]],["star",{sourceInterval:[178,187]},["app",{sourceInterval:[178,186]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[191,223]},null,[],["alt",{sourceInterval:[207,223]},["terminal",{sourceInterval:[207,210]},"_"],["app",{sourceInterval:[217,223]},"letter",[]]]],nameRest:["define",{sourceInterval:[227,257]},null,[],["alt",{sourceInterval:[242,257]},["terminal",{sourceInterval:[242,245]},"_"],["app",{sourceInterval:[252,257]},"alnum",[]]]]}]);!function(e){const t={empty(){return this.iteration()},nonEmpty(e,t,r){return this.iteration([e].concat(r.children))},self(...e){return this}};Me.BuiltInSemantics=Me.createSemantics(e,null).addOperation("asIteration",{emptyListOf:t.empty,nonemptyListOf:t.nonEmpty,EmptyListOf:t.empty,NonemptyListOf:t.nonEmpty,_iter:t.self})}(Ue.BuiltInRules),function(e){Me.prototypeGrammarSemantics=e.createSemantics().addOperation("parse",{AttributeSignature:e=>({name:e.parse(),formals:[]}),OperationSignature:(e,t)=>({name:e.parse(),formals:t.children.map((e=>e.parse()))[0]||[]}),Formals:(e,t,r)=>t.asIteration().children.map((e=>e.parse())),name(e,t){return this.sourceString}}),Me.prototypeGrammar=e}(tt);const rt="an indented block",it="a dedent",nt=1114112;class st extends me{constructor(e){super(e.input),this.state=e}_indentationAt(e){return this.state.userData[e]||0}atEnd(){return super.atEnd()&&0===this._indentationAt(this.pos)}next(){if(0===this._indentationAt(this.pos))return super.next();this.examinedLength=Math.max(this.examinedLength,this.pos)}nextCharCode(){return 0!==this._indentationAt(this.pos)?(this.examinedLength=Math.max(this.examinedLength,this.pos),nt):super.nextCharCode()}nextCodePoint(){return 0!==this._indentationAt(this.pos)?(this.examinedLength=Math.max(this.examinedLength,this.pos),nt):super.nextCodePoint()}}class at extends F{constructor(e=!0){super(),this.isIndent=e}allowsSkippingPrecedingSpace(){return!0}eval(e){const{inputStream:t}=e,r=e.userData;e.doNotMemoize=!0;const i=t.pos,n=this.isIndent?1:-1;return(r[i]||0)*n>0?(e.userData=Object.create(r),e.userData[i]-=n,e.pushBinding(new Ie(0),i),!0):(e.processFailure(i,this),!1)}getArity(){return 1}_assertAllApplicationsAreValid(e,t){}_isNullable(e,t){return!1}assertChoicesHaveUniformArity(e){}assertIteratedExprsAreNotNullable(e){}introduceParams(e){return this}substituteParams(e){return this}toString(){return this.isIndent?"indent":"dedent"}toDisplayString(){return this.toString()}toFailure(e){const t=this.isIndent?rt:it;return new ke(this,t,"description")}}const ot=new te("indent"),lt=new te("dedent"),ut=new $(Ye,"any",[ot,lt],[]),ct=(new ze).newGrammar("IndentationSensitive").withSuperGrammar(Ye).define("indent",[],new at(!0),rt,void 0,!0).define("dedent",[],new at(!1),it,void 0,!0).extend("any",[],ut,"any character",void 0).build();Object.assign(ct,{_matchStateInitializer(e){e.userData=function(e){let t=0;const r=[0],i=()=>r[r.length-1],n={},s=/( *).*(?:$|\r?\n|\r)/g;let a;for(;null!=(a=s.exec(e));){const[e,s]=a;if(0===e.length)break;const o=s.length,l=i(),u=t+o;if(o>l)r.push(o),n[u]=1;else if(o<l){const e=r.length;for(;i()!==o;)r.pop();n[u]=-1*(e-r.length)}t+=e.length}return r.length>1&&(n[t]=1-r.length),n}(e.input),e.inputStream=new st(e)},supportsIncrementalParsing:!1}),Ue.initApplicationParser(Je,et);const pt=function(e,t){const r=Object.create(t||{});if("string"!=typeof e){if(!(i=e).constructor||"function"!=typeof i.constructor.isBuffer||!i.constructor.isBuffer(i))throw new TypeError("Expected string as first argument, got "+f(e));e=e.toString()}var i;return function(e,t){const r=Je.match(e,"Grammars");if(r.failed())throw function(e){const t=new Error;return Object.defineProperty(t,"message",{enumerable:!0,get:()=>e.message}),Object.defineProperty(t,"shortMessage",{enumerable:!0,get:()=>"Expected "+e.getExpectedText()}),t.interval=e.getInterval(),t}(r);et(r,t)}(e,r),r}(String.raw`
  /*
    Superset of the Ohm grammar that allows examples to be embedded in comments.
    Any valid Ohm grammar will also be matched by this grammar.
  */

  // Example:
  //+ "//+ \"x\"\nG {\n//- \"\"\nstart = \"x\"}"
  OhmWithExamples <: Ohm {
    Grammar := ident SuperGrammar? "{" (#exampleComments Rule)* #exampleComments "}"

    exampleComments = (spacesNoExampleComment exampleComment)*

    // Examples:
    //+ "//+ \"blah\""
    //+ "//- \"one\", \"two\""
    //- "// - \"x\", "//-\"x\"
    exampleComment
      = "//+" examples  -- positive
      | "//-" examples  -- negative

    examples = spaceNoNl+ nonemptyListOf<jsonString, exampleSep> spaceNoNl*
    exampleSep = "," spaces

    exampleCommentPrefix = "//+" | "//-"  

    spaceNoNl = ~"\n" space
    spacesNoExampleComment = (~exampleCommentPrefix space)*

    jsonString = "\"" jsonChar* "\""

    jsonChar
      = jsonEscape
      | ~"\\" ~"\"" "\u{0020}".."\u{10FFFF}"

    //+ "\\n", "\\u1234"
    jsonEscape  (a JSON escape sequence)
      = "\\\""
      | "\\\\"
      | "\\/"
      | "\\b"
      | "\\f"
      | "\\n"
      | "\\r"
      | "\\t"
      | "\\u" hexDigit hexDigit hexDigit hexDigit  -- unicodeEscape
  }

  /*
    A stricter version of the grammar that prevents many malformed example
    comments from being parsed as regular comments.
  */
  OhmWithExamplesStrict <: OhmWithExamples {
    // Redefine 'comment' to avoid malformed example comments from silently
    // being parsed as regular comments.
    comment :=
      | ~exampleCommentPrefix comment_singleLine
      | comment_multiLine
  }
`,{Ohm:Je}),dt=pt.OhmWithExamples.createSemantics().addOperation("hasExamples",{_iter:(...e)=>e.some((e=>e.hasExamples())),exampleComments:(e,t)=>t.numChildren>0});dt.addOperation("examples",{Grammars:e=>e.children.flatMap((e=>e.examples())),Grammar(e,t,r,i,n,s,a){const o=[],l=this.grammarName();for(let e=0;e<n.numChildren;e++){const t=n.child(e).ruleName(),r=i.child(e).examples().map((e=>({...e,grammar:l,rule:t})));o.push(...r)}if(s.hasExamples()){const e=s.examples();o.push(...e.map((e=>({...e,grammar:l,rule:""}))))}return o},exampleComments:(e,t)=>t.children.flatMap((e=>e.examples())),exampleComment_positive:(e,t)=>t.examples().map((e=>({...e,shouldMatch:!0}))),exampleComment_negative:(e,t)=>t.examples().map((e=>({...e,shouldMatch:!1}))),examples:(e,t,r)=>t.asIteration().children.map((e=>({example:JSON.parse(e.sourceString)}))),comment_singleLine:(e,t,r)=>[],comment_multiLine:(e,t,r)=>[]}),dt.addOperation("grammarName",{Grammar:(e,t,r,i,n,s,a)=>e.sourceString}),dt.addOperation("ruleName",{Rule_define:(e,t,r,i,n)=>e.sourceString,Rule_override:(e,t,r,i)=>e.sourceString,Rule_extend:(e,t,r,i)=>e.sourceString}),t.VisitorFamily=class{constructor(e){this._shapes=e.shapes,this._getTag=e.getTag,this.Adapter=function(e,t){this._adaptee=e,this._family=t},this.Adapter.prototype.valueOf=function(){throw new Error("heeey!")},this.operations={},this._arities=Object.create(null),this._getChildren=Object.create(null),Object.keys(this._shapes).forEach((e=>{const t=this._shapes[e];this._getChildren[e]=function(e){return"string"==typeof e?k.bind(null,[E(e)]):Array.isArray(e)?k.bind(null,e.map(E)):(i("function"==typeof e,"Expected a string, Array, or function"),i(2===e.length,"Expected a function of arity 2, got "+e.length),e)}(t),"function"!=typeof t&&(this._arities[e]=Array.isArray(t)?t.length:1)})),this._wrap=e=>new this.Adapter(e,this)}wrap(e){return this._wrap(e)}_checkActionDict(e){Object.keys(e).forEach((t=>{i(t in this._getChildren,"Unrecognized action name '"+t+"'");const r=e[t];if(i("function"==typeof r,"Key '"+t+"': expected function, got "+r),t in this._arities){const r=this._arities[t],n=e[t].length;i(n===r,"Action '"+t+"' has the wrong arity: expected "+r+", got "+n)}}))}addOperation(e,t){const r=function(e){const t=e.split(/[()]/).map(_);if(3===t.length&&""===t[2]){const e=t[0];let r=[];if(t[1].length>0&&(r=t[1].split(",").map(_)),A(e)&&r.every(A))return{name:e,formals:r}}throw new Error("Invalid operation signature: "+e)}(e),{name:n}=r;this._checkActionDict(t),this.operations[n]={name:n,formals:r.formals,actions:t};const s=this;return this.Adapter.prototype[n]=function(...e){const a=s._getTag(this._adaptee);i(a in s._getChildren,"getTag returned unrecognized tag '"+a+"'"),i(a in t,"No action for '"+a+"' in operation '"+n+"'");const o=Object.create(null);for(const[t,i]of Object.entries(e))o[r.formals[t]]=i;const l=this.args;this.args=o;const u=t[a].apply(this,s._getChildren[a](this._adaptee,s._wrap));return this.args=l,u},this}},t.extractExamples=function(e){const t=pt.OhmWithExamples.match(e);if(t.failed())throw new Error(t.message);return dt(t).examples()},t.getLineAndColumn=I,t.getLineAndColumnMessage=N,t.semanticsForToAST=function(e){if("function"!=typeof e.createSemantics)throw new Error("semanticsToAST() expects a Grammar as parameter");return e.createSemantics().addOperation("toAST(mapping)",D)},t.toAST=function(e,t){if("function"!=typeof e.failed||e.failed())throw new Error("toAST() expects a succesful MatchResult as first parameter");t=Object.assign({},P,t);const r=Object.assign({},D);for(const e in t)"function"==typeof t[e]&&(r[e]=t[e],delete t[e]);return e._cst.grammar.createSemantics().addOperation("toAST(mapping)",r)(e).toAST(t)}},939:(e,t)=>{"use strict";function r(e){const t=e||"";return function(){throw new Error("this method "+t+" is abstract! (it has no implementation in class "+this.constructor.name+")")}}function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t,r){let i;Object.defineProperty(e,t,{get(){return i||(i=r.call(this)),i}})}function s(e,t){const r=[];for(;t-- >0;)r.push(e());return r}function a(e,t){return new Array(t+1).join(e)}function o(e,t){return s((()=>e),t)}function l(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r];e.lastIndexOf(i)!==r&&t.indexOf(i)<0&&t.push(i)}return t}function u(e){const t=[];return e.forEach((e=>{t.indexOf(e)<0&&t.push(e)})),t}function c(e){const t=e[0];return t===t.toUpperCase()}function p(e){return!c(e)}function d(e,t,r){const i=r||" ";return e.length<t?a(i,t-e.length)+e:e}function m(){this.strings=[]}Object.defineProperty(t,"__esModule",{value:!0}),m.prototype.append=function(e){this.strings.push(e)},m.prototype.contents=function(){return this.strings.join("")};const h=e=>String.fromCodePoint(parseInt(e,16));function g(e){if("\\"!==e.charAt(0))return e;switch(e.charAt(1)){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"x":return h(e.slice(2,4));case"u":return"{"===e.charAt(2)?h(e.slice(3,-1)):h(e.slice(2,6));default:return e.charAt(1)}}function f(e){if(null==e)return String(e);const t=Object.prototype.toString.call(e);try{let r;return r=e.constructor&&e.constructor.name?e.constructor.name:0===t.indexOf("[object ")?t.slice(8,-1):typeof e,r+": "+JSON.stringify(String(e))}catch(e){return t}}function y(e,t="unexpected null value"){if(null==e)throw new Error(t);return e}var S=Object.freeze({__proto__:null,abstract:r,assert:i,defineLazyProperty:n,clone:function(e){return e?Object.assign({},e):e},repeatFn:s,repeatStr:a,repeat:o,getDuplicates:l,copyWithoutDuplicates:u,isSyntactic:c,isLexical:p,padLeft:d,StringBuffer:m,unescapeCodePoint:g,unexpectedObjToString:f,checkNotNull:y});const v={Lu:/\p{Lu}/u,Ll:/\p{Ll}/u,Lt:/\p{Lt}/u,Lm:/\p{Lm}/u,Lo:/\p{Lo}/u,Nl:/\p{Nl}/u,Nd:/\p{Nd}/u,Mn:/\p{Mn}/u,Mc:/\p{Mc}/u,Pc:/\p{Pc}/u,Zs:/\p{Zs}/u,L:/\p{Letter}/u,Ltmo:/\p{Lt}|\p{Lm}|\p{Lo}/u};class b{constructor(){if(this.constructor===b)throw new Error("PExpr cannot be instantiated -- it's abstract")}withSource(e){return e&&(this.source=e.trimmed()),this}}const T=Object.create(b.prototype),x=Object.create(b.prototype);class I extends b{constructor(e){super(),this.obj=e}}class N extends b{constructor(e,t){super(),this.from=e,this.to=t,this.matchCodePoint=e.length>1||t.length>1}}class L extends b{constructor(e){super(),this.index=e}}class w extends b{constructor(e){super(),this.terms=e}}class C extends w{constructor(e,t,r){super([r,e.rules[t].body]),this.superGrammar=e,this.name=t,this.body=r}}class E extends w{constructor(e,t,r,i){const n=e.rules[t].body;super([...r,n,...i]),this.superGrammar=e,this.ruleName=t,this.expansionPos=r.length}}class k extends b{constructor(e){super(),this.factors=e}}class A extends b{constructor(e){super(),this.expr=e}}class _ extends A{}class q extends A{}class O extends A{}_.prototype.operator="*",q.prototype.operator="+",O.prototype.operator="?",_.prototype.minNumMatches=0,q.prototype.minNumMatches=1,O.prototype.minNumMatches=0,_.prototype.maxNumMatches=Number.POSITIVE_INFINITY,q.prototype.maxNumMatches=Number.POSITIVE_INFINITY,O.prototype.maxNumMatches=1;class R extends b{constructor(e){super(),this.expr=e}}class P extends b{constructor(e){super(),this.expr=e}}class D extends b{constructor(e){super(),this.expr=e}}class M extends b{constructor(e,t=[]){super(),this.ruleName=e,this.args=t}isSyntactic(){return c(this.ruleName)}toMemoKey(){return this._memoKey||Object.defineProperty(this,"_memoKey",{value:this.toString()}),this._memoKey}}class F extends b{constructor(e){super(),this.category=e,this.pattern=v[e]}}function H(e,t){let r;return t?(r=new Error(t.getLineAndColumnMessage()+e),r.shortMessage=e,r.interval=t):r=new Error(e),r}function j(){return H("Interval sources don't match")}function B(e,t,r){return H("Rule "+e+" is not declared in grammar "+t,r)}function G(e,t,r,i){let n="Duplicate declaration for rule '"+e+"' in grammar '"+t+"'";return t!==r&&(n+=" (originally declared in '"+r+"')"),H(n,i)}function W(e,t,r,i){return H("Wrong number of parameters for rule "+e+" (expected "+t+", got "+r+")",i)}function V(e,t,r){return H("Duplicate parameter names in rule "+e+": "+t.join(", "),r)}function U(e,t){return H("Incorrect argument type: expected "+e,t.source)}function $(e,t){const r=t.length>0?t[t.length-1].args:[];let i="Nullable expression "+e.expr.substituteParams(r)+" is not allowed inside '"+e.operator+"' (possible infinite loop)";return t.length>0&&(i+="\nApplication stack (most recent application last):\n"+t.map((e=>new M(e.ruleName,e.args))).join("\n")),H(i,e.expr.source)}function z(e,t,r,i){return H("Rule "+e+" involves an alternation which has inconsistent arity (expected "+t+", got "+r+")",i.source)}function K(e,t,r){const i=e.length;return(e.slice(0,r)+t+e.slice(r+t.length)).substr(0,i)}function Q(...e){const t=this,{offset:r}=t,{repeatStr:n}=S,s=new m;s.append("Line "+t.lineNum+", col "+t.colNum+":\n");const a=function(e){let t=0;return e.map((e=>{const r=e.toString();return t=Math.max(t,r.length),r})).map((e=>d(e,t)))}([null==t.prevLine?0:t.lineNum-1,t.lineNum,null==t.nextLine?0:t.lineNum+1]),o=(e,t,r)=>{s.append(r+a[e]+" | "+t+"\n")};null!=t.prevLine&&o(0,t.prevLine,"  "),o(1,t.line,"> ");const l=t.line.length;let u=n(" ",l+1);for(let s=0;s<e.length;++s){let a=e[s][0],o=e[s][1];i(a>=0&&a<=o,"range start must be >= 0 and <= end");const c=r-t.colNum+1;a=Math.max(0,a-c),o=Math.min(o-c,l),u=K(u,n("~",o-a),a)}const c=2+a[1].length+3;return s.append(n(" ",c)),u=K(u,"^",t.colNum-1),s.append(u.replace(/ +$/,"")+"\n"),null!=t.nextLine&&o(2,t.nextLine,"  "),s.contents()}let Y=[];function J(e){Y.push(e)}function Z(e,t){let r=1,i=1,n=0,s=0,a=null,o=null,l=-1;for(;n<t;){const t=e.charAt(n++);"\n"===t?(r++,i=1,l=s,s=n):"\r"!==t&&i++}let u=e.indexOf("\n",s);if(-1===u)u=e.length;else{const t=e.indexOf("\n",u+1);a=-1===t?e.slice(u):e.slice(u,t),a=a.replace(/^\r?\n/,"").replace(/\r$/,"")}return l>=0&&(o=e.slice(l,s).replace(/\r?\n$/,"")),{offset:t,lineNum:r,colNum:i,line:e.slice(s,u).replace(/\r$/,""),prevLine:o,nextLine:a,toString:Q}}function X(e,t,...r){return Z(e,t).toString(...r)}const ee=(()=>{let e=0;return t=>""+t+e++})();class te{constructor(e,t,r){this.sourceString=e,this.startIdx=t,this.endIdx=r}get contents(){return void 0===this._contents&&(this._contents=this.sourceString.slice(this.startIdx,this.endIdx)),this._contents}get length(){return this.endIdx-this.startIdx}coverageWith(...e){return te.coverage(...e,this)}collapsedLeft(){return new te(this.sourceString,this.startIdx,this.startIdx)}collapsedRight(){return new te(this.sourceString,this.endIdx,this.endIdx)}getLineAndColumn(){return Z(this.sourceString,this.startIdx)}getLineAndColumnMessage(){const e=[this.startIdx,this.endIdx];return X(this.sourceString,this.startIdx,e)}minus(e){if(this.sourceString!==e.sourceString)throw j();return this.startIdx===e.startIdx&&this.endIdx===e.endIdx?[]:this.startIdx<e.startIdx&&e.endIdx<this.endIdx?[new te(this.sourceString,this.startIdx,e.startIdx),new te(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.endIdx&&e.endIdx<this.endIdx?[new te(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.startIdx&&e.startIdx<this.endIdx?[new te(this.sourceString,this.startIdx,e.startIdx)]:[this]}relativeTo(e){if(this.sourceString!==e.sourceString)throw j();return i(this.startIdx>=e.startIdx&&this.endIdx<=e.endIdx,"other interval does not cover this one"),new te(this.sourceString,this.startIdx-e.startIdx,this.endIdx-e.startIdx)}trimmed(){const{contents:e}=this,t=this.startIdx+e.match(/^\s*/)[0].length,r=this.endIdx-e.match(/\s*$/)[0].length;return new te(this.sourceString,t,r)}subInterval(e,t){const r=this.startIdx+e;return new te(this.sourceString,r,r+t)}}te.coverage=function(e,...t){let{startIdx:r,endIdx:i}=e;for(const n of t){if(n.sourceString!==e.sourceString)throw j();r=Math.min(r,n.startIdx),i=Math.max(i,n.endIdx)}return new te(e.sourceString,r,i)};class re{constructor(e){this.source=e,this.pos=0,this.examinedLength=0}atEnd(){const e=this.pos>=this.source.length;return this.examinedLength=Math.max(this.examinedLength,this.pos+1),e}next(){const e=this.source[this.pos++];return this.examinedLength=Math.max(this.examinedLength,this.pos),e}nextCharCode(){const e=this.next();return e&&e.charCodeAt(0)}nextCodePoint(){const e=this.source.slice(this.pos++).codePointAt(0);return e>65535&&(this.pos+=1),this.examinedLength=Math.max(this.examinedLength,this.pos),e}matchString(e,t){let r;if(t){for(r=0;r<e.length;r++){const t=this.next(),i=e[r];if(null==t||t.toUpperCase()!==i.toUpperCase())return!1}return!0}for(r=0;r<e.length;r++)if(this.next()!==e[r])return!1;return!0}sourceSlice(e,t){return this.source.slice(e,t)}interval(e,t){return new te(this.source,e,t||this.pos)}}class ie{constructor(e,t,r,i,s,a,o){this.matcher=e,this.input=t,this.startExpr=r,this._cst=i,this._cstOffset=s,this._rightmostFailurePosition=a,this._rightmostFailures=o,this.failed()&&(n(this,"message",(function(){const e="Expected "+this.getExpectedText();return X(this.input,this.getRightmostFailurePosition())+e})),n(this,"shortMessage",(function(){const e="expected "+this.getExpectedText(),t=Z(this.input,this.getRightmostFailurePosition());return"Line "+t.lineNum+", col "+t.colNum+": "+e})))}succeeded(){return!!this._cst}failed(){return!this.succeeded()}getRightmostFailurePosition(){return this._rightmostFailurePosition}getRightmostFailures(){if(!this._rightmostFailures){this.matcher.setInput(this.input);const e=this.matcher._match(this.startExpr,{tracing:!1,positionToRecordFailures:this.getRightmostFailurePosition()});this._rightmostFailures=e.getRightmostFailures()}return this._rightmostFailures}toString(){return this.succeeded()?"[match succeeded]":"[match failed at position "+this.getRightmostFailurePosition()+"]"}getExpectedText(){if(this.succeeded())throw new Error("cannot get expected text of a successful MatchResult");const e=new m;let t=this.getRightmostFailures();t=t.filter((e=>!e.isFluffy()));for(let r=0;r<t.length;r++)r>0&&(r===t.length-1?e.append(t.length>2?", or ":" or "):e.append(", ")),e.append(t[r].toString());return e.contents()}getInterval(){const e=this.getRightmostFailurePosition();return new te(this.input,e,e)}}class ne{constructor(){this.applicationMemoKeyStack=[],this.memo={},this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,this.currentLeftRecursion=void 0}isActive(e){return this.applicationMemoKeyStack.indexOf(e.toMemoKey())>=0}enter(e){this.applicationMemoKeyStack.push(e.toMemoKey())}exit(){this.applicationMemoKeyStack.pop()}startLeftRecursion(e,t){t.isLeftRecursion=!0,t.headApplication=e,t.nextLeftRecursion=this.currentLeftRecursion,this.currentLeftRecursion=t;const{applicationMemoKeyStack:r}=this,i=r.indexOf(e.toMemoKey())+1,n=r.slice(i);t.isInvolved=function(e){return n.indexOf(e)>=0},t.updateInvolvedApplicationMemoKeys=function(){for(let e=i;e<r.length;e++){const t=r[e];this.isInvolved(t)||n.push(t)}}}endLeftRecursion(){this.currentLeftRecursion=this.currentLeftRecursion.nextLeftRecursion}shouldUseMemoizedResult(e){if(!e.isLeftRecursion)return!0;const{applicationMemoKeyStack:t}=this;for(let r=0;r<t.length;r++){const i=t[r];if(e.isInvolved(i))return!1}return!0}memoize(e,t){return this.memo[e]=t,this.maxExaminedLength=Math.max(this.maxExaminedLength,t.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,t.rightmostFailureOffset),t}clearObsoleteEntries(e,t){if(e+this.maxExaminedLength<=t)return;const{memo:r}=this;this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,Object.keys(r).forEach((i=>{const n=r[i];e+n.examinedLength>t?delete r[i]:(this.maxExaminedLength=Math.max(this.maxExaminedLength,n.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,n.rightmostFailureOffset))}))}}const se={succeeded:1,isRootNode:2,isImplicitSpaces:4,isMemoized:8,isHeadOfLeftRecursion:16,terminatesLR:32};function ae(e){return"string"==typeof e?e.replace(/ /g,"⋅").replace(/\t/g,"␉").replace(/\n/g,"␊").replace(/\r/g,"␍"):String(e)}class oe{constructor(e,t,r,i,n,s,a){this.input=e,this.pos=this.pos1=t,this.pos2=r,this.source=new te(e,t,r),this.expr=i,this.bindings=s,this.children=a||[],this.terminatingLREntry=null,this._flags=n?se.succeeded:0}get displayString(){return this.expr.toDisplayString()}clone(){return this.cloneWithExpr(this.expr)}cloneWithExpr(e){const t=new oe(this.input,this.pos,this.pos2,e,this.succeeded,this.bindings,this.children);return t.isHeadOfLeftRecursion=this.isHeadOfLeftRecursion,t.isImplicitSpaces=this.isImplicitSpaces,t.isMemoized=this.isMemoized,t.isRootNode=this.isRootNode,t.terminatesLR=this.terminatesLR,t.terminatingLREntry=this.terminatingLREntry,t}recordLRTermination(e,t){this.terminatingLREntry=new oe(this.input,this.pos,this.pos2,this.expr,!1,[t],[e]),this.terminatingLREntry.terminatesLR=!0}walk(e,t){let r=e;function i(e,n,s){let a=!0;r.enter&&r.enter.call(t,e,n,s)===oe.prototype.SKIP&&(a=!1),a&&(e.children.forEach((t=>{i(t,e,s+1)})),r.exit&&r.exit.call(t,e,n,s))}"function"==typeof r&&(r={enter:r}),this.isRootNode?this.children.forEach((e=>{i(e,null,0)})):i(this,null,0)}toString(){const e=new m;return this.walk(((t,r,i)=>{if(!t)return this.SKIP;if("Alt"!==t.expr.constructor.name){if(e.append(function(e,t){const r=ae(e.slice(t,t+10));return r.length<10?r+o(" ",10-r.length).join(""):r}(t.input,t.pos)+o(" ",2*i+1).join("")),e.append((t.succeeded?"✓":"✗")+" "+t.displayString),t.isHeadOfLeftRecursion&&e.append(" (LR)"),t.succeeded){const r=ae(t.source.contents);e.append(" ⇒  "),e.append("string"==typeof r?'"'+r+'"':r)}e.append("\n")}})),e.contents()}}let le,ue;oe.prototype.SKIP={},Object.keys(se).forEach((e=>{const t=se[e];Object.defineProperty(oe.prototype,e,{get(){return!!(this._flags&t)},set(e){e?this._flags|=t:this._flags&=~t}})})),b.prototype.allowsSkippingPrecedingSpace=r("allowsSkippingPrecedingSpace"),T.allowsSkippingPrecedingSpace=x.allowsSkippingPrecedingSpace=M.prototype.allowsSkippingPrecedingSpace=I.prototype.allowsSkippingPrecedingSpace=N.prototype.allowsSkippingPrecedingSpace=F.prototype.allowsSkippingPrecedingSpace=function(){return!0},w.prototype.allowsSkippingPrecedingSpace=A.prototype.allowsSkippingPrecedingSpace=D.prototype.allowsSkippingPrecedingSpace=P.prototype.allowsSkippingPrecedingSpace=R.prototype.allowsSkippingPrecedingSpace=L.prototype.allowsSkippingPrecedingSpace=k.prototype.allowsSkippingPrecedingSpace=function(){return!1},J((e=>{le=e})),b.prototype.assertAllApplicationsAreValid=function(e,t){ue=0,this._assertAllApplicationsAreValid(e,t)},b.prototype._assertAllApplicationsAreValid=r("_assertAllApplicationsAreValid"),T._assertAllApplicationsAreValid=x._assertAllApplicationsAreValid=I.prototype._assertAllApplicationsAreValid=N.prototype._assertAllApplicationsAreValid=L.prototype._assertAllApplicationsAreValid=F.prototype._assertAllApplicationsAreValid=function(e,t){},D.prototype._assertAllApplicationsAreValid=function(e,t){ue++,this.expr._assertAllApplicationsAreValid(e,t),ue--},w.prototype._assertAllApplicationsAreValid=function(e,t){for(let r=0;r<this.terms.length;r++)this.terms[r]._assertAllApplicationsAreValid(e,t)},k.prototype._assertAllApplicationsAreValid=function(e,t){for(let r=0;r<this.factors.length;r++)this.factors[r]._assertAllApplicationsAreValid(e,t)},A.prototype._assertAllApplicationsAreValid=R.prototype._assertAllApplicationsAreValid=P.prototype._assertAllApplicationsAreValid=function(e,t){this.expr._assertAllApplicationsAreValid(e,t)},M.prototype._assertAllApplicationsAreValid=function(e,t,r=!1){const i=t.rules[this.ruleName],n=c(e)&&0===ue;if(!i)throw B(this.ruleName,t.name,this.source);if(!r&&c(this.ruleName)&&!n)throw function(e,t){return H("Cannot apply syntactic rule "+e+" from here (inside a lexical context)",t.source)}(this.ruleName,this);const s=this.args.length,a=i.formals.length;if(s!==a)throw function(e,t,r,i){return H("Wrong number of arguments for rule "+e+" (expected "+t+", got "+r+")",i)}(this.ruleName,a,s,this.source);const o=le&&i===le.rules.applySyntactic;if(le&&i===le.rules.caseInsensitive&&!(this.args[0]instanceof I))throw U('a Terminal (e.g. "abc")',this.args[0]);if(o){const e=this.args[0];if(!(e instanceof M))throw U("a syntactic rule application",e);if(!c(e.ruleName))throw function(e){const{ruleName:t}=e;return H(`applySyntactic is for syntactic rules, but '${t}' is a lexical rule. NOTE: A _syntactic rule_ is a rule whose name begins with a capital letter. See https://ohmjs.org/d/svl for more details.`,e.source)}(e);if(n)throw H("applySyntactic is not required here (in a syntactic context)",this.source)}this.args.forEach((r=>{if(r._assertAllApplicationsAreValid(e,t,o),1!==r.getArity())throw function(e,t){return H("Invalid parameter to rule "+e+": "+t+" has arity "+t.getArity()+", but parameter expressions must have arity 1",t.source)}(this.ruleName,r)}))},b.prototype.assertChoicesHaveUniformArity=r("assertChoicesHaveUniformArity"),T.assertChoicesHaveUniformArity=x.assertChoicesHaveUniformArity=I.prototype.assertChoicesHaveUniformArity=N.prototype.assertChoicesHaveUniformArity=L.prototype.assertChoicesHaveUniformArity=D.prototype.assertChoicesHaveUniformArity=F.prototype.assertChoicesHaveUniformArity=function(e){},w.prototype.assertChoicesHaveUniformArity=function(e){if(0===this.terms.length)return;const t=this.terms[0].getArity();for(let r=0;r<this.terms.length;r++){const i=this.terms[r];i.assertChoicesHaveUniformArity();const n=i.getArity();if(t!==n)throw z(e,t,n,i)}},C.prototype.assertChoicesHaveUniformArity=function(e){const t=this.terms[0].getArity(),r=this.terms[1].getArity();if(t!==r)throw z(e,r,t,this.terms[0])},k.prototype.assertChoicesHaveUniformArity=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertChoicesHaveUniformArity(e)},A.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},R.prototype.assertChoicesHaveUniformArity=function(e){},P.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},M.prototype.assertChoicesHaveUniformArity=function(e){},b.prototype.assertIteratedExprsAreNotNullable=r("assertIteratedExprsAreNotNullable"),T.assertIteratedExprsAreNotNullable=x.assertIteratedExprsAreNotNullable=I.prototype.assertIteratedExprsAreNotNullable=N.prototype.assertIteratedExprsAreNotNullable=L.prototype.assertIteratedExprsAreNotNullable=F.prototype.assertIteratedExprsAreNotNullable=function(e){},w.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.terms.length;t++)this.terms[t].assertIteratedExprsAreNotNullable(e)},k.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertIteratedExprsAreNotNullable(e)},A.prototype.assertIteratedExprsAreNotNullable=function(e){if(this.expr.assertIteratedExprsAreNotNullable(e),this.expr.isNullable(e))throw $(this,[])},O.prototype.assertIteratedExprsAreNotNullable=R.prototype.assertIteratedExprsAreNotNullable=P.prototype.assertIteratedExprsAreNotNullable=D.prototype.assertIteratedExprsAreNotNullable=function(e){this.expr.assertIteratedExprsAreNotNullable(e)},M.prototype.assertIteratedExprsAreNotNullable=function(e){this.args.forEach((t=>{t.assertIteratedExprsAreNotNullable(e)}))};class ce{constructor(e){this.matchLength=e}get ctorName(){throw new Error("subclass responsibility")}numChildren(){return this.children?this.children.length:0}childAt(e){if(this.children)return this.children[e]}indexOfChild(e){return this.children.indexOf(e)}hasChildren(){return this.numChildren()>0}hasNoChildren(){return!this.hasChildren()}onlyChild(){if(1!==this.numChildren())throw new Error("cannot get only child of a node of type "+this.ctorName+" (it has "+this.numChildren()+" children)");return this.firstChild()}firstChild(){if(this.hasNoChildren())throw new Error("cannot get first child of a "+this.ctorName+" node, which has no children");return this.childAt(0)}lastChild(){if(this.hasNoChildren())throw new Error("cannot get last child of a "+this.ctorName+" node, which has no children");return this.childAt(this.numChildren()-1)}childBefore(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childBefore() called w/ an argument that is not a child");if(0===t)throw new Error("cannot get child before first child");return this.childAt(t-1)}childAfter(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childAfter() called w/ an argument that is not a child");if(t===this.numChildren()-1)throw new Error("cannot get child after last child");return this.childAt(t+1)}isTerminal(){return!1}isNonterminal(){return!1}isIteration(){return!1}isOptional(){return!1}}class pe extends ce{get ctorName(){return"_terminal"}isTerminal(){return!0}get primitiveValue(){throw new Error("The `primitiveValue` property was removed in Ohm v17.")}}class de extends ce{constructor(e,t,r,i){super(i),this.ruleName=e,this.children=t,this.childOffsets=r}get ctorName(){return this.ruleName}isNonterminal(){return!0}isLexical(){return p(this.ctorName)}isSyntactic(){return c(this.ctorName)}}class me extends ce{constructor(e,t,r,i){super(r),this.children=e,this.childOffsets=t,this.optional=i}get ctorName(){return"_iter"}isIteration(){return!0}isOptional(){return this.optional}}function he(e,t){const r={};if(e.source&&t){const i=e.source.relativeTo(t);r.sourceInterval=[i.startIdx,i.endIdx]}return r}function ge(e){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)}function fe(e){const t=Object.create(null);e.forEach((e=>{t[e]=(t[e]||0)+1})),Object.keys(t).forEach((r=>{if(t[r]<=1)return;let i=1;e.forEach(((t,n)=>{t===r&&(e[n]=t+"_"+i++)}))}))}b.prototype.eval=r("eval"),T.eval=function(e){const{inputStream:t}=e,r=t.pos,i=t.nextCodePoint();return void 0!==i?(e.pushBinding(new pe(String.fromCodePoint(i).length),r),!0):(e.processFailure(r,this),!1)},x.eval=function(e){const{inputStream:t}=e,r=t.pos;return t.atEnd()?(e.pushBinding(new pe(0),r),!0):(e.processFailure(r,this),!1)},I.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;return t.matchString(this.obj)?(e.pushBinding(new pe(this.obj.length),r),!0):(e.processFailure(r,this),!1)},N.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,i=this.matchCodePoint?t.nextCodePoint():t.nextCharCode();return void 0!==i&&this.from.codePointAt(0)<=i&&i<=this.to.codePointAt(0)?(e.pushBinding(new pe(String.fromCodePoint(i).length),r),!0):(e.processFailure(r,this),!1)},L.prototype.eval=function(e){return e.eval(e.currentApplication().args[this.index])},D.prototype.eval=function(e){e.enterLexifiedContext();const t=e.eval(this.expr);return e.exitLexifiedContext(),t},w.prototype.eval=function(e){for(let t=0;t<this.terms.length;t++)if(e.eval(this.terms[t]))return!0;return!1},k.prototype.eval=function(e){for(let t=0;t<this.factors.length;t++){const r=this.factors[t];if(!e.eval(r))return!1}return!0},A.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,i=this.getArity(),n=[],s=[];for(;n.length<i;)n.push([]),s.push([]);let a,o=0,l=r;for(;o<this.maxNumMatches&&e.eval(this.expr);){if(t.pos===l)throw $(this,e._applicationStack);l=t.pos,o++;const r=e._bindings.splice(e._bindings.length-i,i),u=e._bindingOffsets.splice(e._bindingOffsets.length-i,i);for(a=0;a<r.length;a++)n[a].push(r[a]),s[a].push(u[a])}if(o<this.minNumMatches)return!1;let u=e.posToOffset(r),c=0;if(o>0){const e=n[i-1],t=s[i-1],r=t[t.length-1]+e[e.length-1].matchLength;u=s[0][0],c=r-u}const p=this instanceof O;for(a=0;a<n.length;a++)e._bindings.push(new me(n[a],s[a],c,p)),e._bindingOffsets.push(u);return!0},R.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;e.pushFailuresInfo();const i=e.eval(this.expr);return e.popFailuresInfo(),i?(e.processFailure(r,this),!1):(t.pos=r,!0)},P.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;return!!e.eval(this.expr)&&(t.pos=r,!0)},M.prototype.eval=function(e){const t=e.currentApplication(),r=t?t.args:[],i=this.substituteParams(r),n=e.getCurrentPosInfo();if(n.isActive(i))return i.handleCycle(e);const s=i.toMemoKey(),a=n.memo[s];if(a&&n.shouldUseMemoizedResult(a)){if(e.hasNecessaryInfo(a))return e.useMemoizedResult(e.inputStream.pos,a);delete n.memo[s]}return i.reallyEval(e)},M.prototype.handleCycle=function(e){const t=e.getCurrentPosInfo(),{currentLeftRecursion:r}=t,i=this.toMemoKey();let n=t.memo[i];return r&&r.headApplication.toMemoKey()===i?n.updateInvolvedApplicationMemoKeys():n||(n=t.memoize(i,{matchLength:0,examinedLength:0,value:!1,rightmostFailureOffset:-1}),t.startLeftRecursion(this,n)),e.useMemoizedResult(e.inputStream.pos,n)},M.prototype.reallyEval=function(e){const{inputStream:t}=e,r=t.pos,n=e.getCurrentPosInfo(),s=e.grammar.rules[this.ruleName],{body:a}=s,{description:o}=s;e.enterApplication(n,this),o&&e.pushFailuresInfo();const l=t.examinedLength;t.examinedLength=0;let u=this.evalOnce(a,e);const c=n.currentLeftRecursion,p=this.toMemoKey(),d=c&&c.headApplication.toMemoKey()===p;let m;e.doNotMemoize?e.doNotMemoize=!1:d?(u=this.growSeedResult(a,e,r,c,u),n.endLeftRecursion(),m=c,m.examinedLength=t.examinedLength-r,m.rightmostFailureOffset=e._getRightmostFailureOffset(),n.memoize(p,m)):c&&c.isInvolved(p)||(m=n.memoize(p,{matchLength:t.pos-r,examinedLength:t.examinedLength-r,value:u,failuresAtRightmostPosition:e.cloneRecordedFailures(),rightmostFailureOffset:e._getRightmostFailureOffset()}));const h=!!u;if(o&&(e.popFailuresInfo(),h||e.processFailure(r,this),m&&(m.failuresAtRightmostPosition=e.cloneRecordedFailures())),e.isTracing()&&m){const t=e.getTraceEntry(r,this,h,h?[u]:[]);d&&(i(null!=t.terminatingLREntry||!h),t.isHeadOfLeftRecursion=!0),m.traceEntry=t}return t.examinedLength=Math.max(t.examinedLength,l),e.exitApplication(n,u),h},M.prototype.evalOnce=function(e,t){const{inputStream:r}=t,i=r.pos;if(t.eval(e)){const n=e.getArity(),s=t._bindings.splice(t._bindings.length-n,n),a=t._bindingOffsets.splice(t._bindingOffsets.length-n,n),o=r.pos-i;return new de(this.ruleName,s,a,o)}return!1},M.prototype.growSeedResult=function(e,t,r,i,n){if(!n)return!1;const{inputStream:s}=t;for(;;){if(i.matchLength=s.pos-r,i.value=n,i.failuresAtRightmostPosition=t.cloneRecordedFailures(),t.isTracing()){const e=t.trace[t.trace.length-1];i.traceEntry=new oe(t.input,r,s.pos,this,!0,[n],[e.clone()])}if(s.pos=r,n=this.evalOnce(e,t),s.pos-r<=i.matchLength)break;t.isTracing()&&t.trace.splice(-2,1)}return t.isTracing()&&i.traceEntry.recordLRTermination(t.trace.pop(),n),s.pos=r+i.matchLength,i.value},F.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,i=t.next();return i&&this.pattern.test(i)?(e.pushBinding(new pe(i.length),r),!0):(e.processFailure(r,this),!1)},b.prototype.getArity=r("getArity"),T.getArity=x.getArity=I.prototype.getArity=N.prototype.getArity=L.prototype.getArity=M.prototype.getArity=F.prototype.getArity=function(){return 1},w.prototype.getArity=function(){return 0===this.terms.length?0:this.terms[0].getArity()},k.prototype.getArity=function(){let e=0;for(let t=0;t<this.factors.length;t++)e+=this.factors[t].getArity();return e},A.prototype.getArity=function(){return this.expr.getArity()},R.prototype.getArity=function(){return 0},P.prototype.getArity=D.prototype.getArity=function(){return this.expr.getArity()},b.prototype.outputRecipe=r("outputRecipe"),T.outputRecipe=function(e,t){return["any",he(this,t)]},x.outputRecipe=function(e,t){return["end",he(this,t)]},I.prototype.outputRecipe=function(e,t){return["terminal",he(this,t),this.obj]},N.prototype.outputRecipe=function(e,t){return["range",he(this,t),this.from,this.to]},L.prototype.outputRecipe=function(e,t){return["param",he(this,t),this.index]},w.prototype.outputRecipe=function(e,t){return["alt",he(this,t)].concat(this.terms.map((r=>r.outputRecipe(e,t))))},C.prototype.outputRecipe=function(e,t){return this.terms[0].outputRecipe(e,t)},E.prototype.outputRecipe=function(e,t){const r=this.terms.slice(0,this.expansionPos),i=this.terms.slice(this.expansionPos+1);return["splice",he(this,t),r.map((r=>r.outputRecipe(e,t))),i.map((r=>r.outputRecipe(e,t)))]},k.prototype.outputRecipe=function(e,t){return["seq",he(this,t)].concat(this.factors.map((r=>r.outputRecipe(e,t))))},_.prototype.outputRecipe=q.prototype.outputRecipe=O.prototype.outputRecipe=R.prototype.outputRecipe=P.prototype.outputRecipe=D.prototype.outputRecipe=function(e,t){return[this.constructor.name.toLowerCase(),he(this,t),this.expr.outputRecipe(e,t)]},M.prototype.outputRecipe=function(e,t){return["app",he(this,t),this.ruleName,this.args.map((r=>r.outputRecipe(e,t)))]},F.prototype.outputRecipe=function(e,t){return["unicodeChar",he(this,t),this.category]},b.prototype.introduceParams=r("introduceParams"),T.introduceParams=x.introduceParams=I.prototype.introduceParams=N.prototype.introduceParams=L.prototype.introduceParams=F.prototype.introduceParams=function(e){return this},w.prototype.introduceParams=function(e){return this.terms.forEach(((t,r,i)=>{i[r]=t.introduceParams(e)})),this},k.prototype.introduceParams=function(e){return this.factors.forEach(((t,r,i)=>{i[r]=t.introduceParams(e)})),this},A.prototype.introduceParams=R.prototype.introduceParams=P.prototype.introduceParams=D.prototype.introduceParams=function(e){return this.expr=this.expr.introduceParams(e),this},M.prototype.introduceParams=function(e){const t=e.indexOf(this.ruleName);if(t>=0){if(this.args.length>0)throw new Error("Parameterized rules cannot be passed as arguments to another rule.");return new L(t).withSource(this.source)}return this.args.forEach(((t,r,i)=>{i[r]=t.introduceParams(e)})),this},b.prototype.isNullable=function(e){return this._isNullable(e,Object.create(null))},b.prototype._isNullable=r("_isNullable"),T._isNullable=N.prototype._isNullable=L.prototype._isNullable=q.prototype._isNullable=F.prototype._isNullable=function(e,t){return!1},x._isNullable=function(e,t){return!0},I.prototype._isNullable=function(e,t){return"string"==typeof this.obj&&""===this.obj},w.prototype._isNullable=function(e,t){return 0===this.terms.length||this.terms.some((r=>r._isNullable(e,t)))},k.prototype._isNullable=function(e,t){return this.factors.every((r=>r._isNullable(e,t)))},_.prototype._isNullable=O.prototype._isNullable=R.prototype._isNullable=P.prototype._isNullable=function(e,t){return!0},D.prototype._isNullable=function(e,t){return this.expr._isNullable(e,t)},M.prototype._isNullable=function(e,t){const r=this.toMemoKey();if(!Object.prototype.hasOwnProperty.call(t,r)){const{body:i}=e.rules[this.ruleName],n=i.substituteParams(this.args);t[r]=!1,t[r]=n._isNullable(e,t)}return t[r]},b.prototype.substituteParams=r("substituteParams"),T.substituteParams=x.substituteParams=I.prototype.substituteParams=N.prototype.substituteParams=F.prototype.substituteParams=function(e){return this},L.prototype.substituteParams=function(e){return y(e[this.index])},w.prototype.substituteParams=function(e){return new w(this.terms.map((t=>t.substituteParams(e))))},k.prototype.substituteParams=function(e){return new k(this.factors.map((t=>t.substituteParams(e))))},A.prototype.substituteParams=R.prototype.substituteParams=P.prototype.substituteParams=D.prototype.substituteParams=function(e){return new this.constructor(this.expr.substituteParams(e))},M.prototype.substituteParams=function(e){if(0===this.args.length)return this;{const t=this.args.map((t=>t.substituteParams(e)));return new M(this.ruleName,t)}},b.prototype.toArgumentNameList=r("toArgumentNameList"),T.toArgumentNameList=function(e,t){return["any"]},x.toArgumentNameList=function(e,t){return["end"]},I.prototype.toArgumentNameList=function(e,t){return"string"==typeof this.obj&&/^[_a-zA-Z0-9]+$/.test(this.obj)?["_"+this.obj]:["$"+e]},N.prototype.toArgumentNameList=function(e,t){let r=this.from+"_to_"+this.to;return ge(r)||(r="_"+r),ge(r)||(r="$"+e),[r]},w.prototype.toArgumentNameList=function(e,t){const r=this.terms.map((t=>t.toArgumentNameList(e,!0))),i=[],n=r[0].length;for(let e=0;e<n;e++){const t=[];for(let i=0;i<this.terms.length;i++)t.push(r[i][e]);const n=u(t);i.push(n.join("_or_"))}return t||fe(i),i},k.prototype.toArgumentNameList=function(e,t){let r=[];return this.factors.forEach((t=>{const i=t.toArgumentNameList(e,!0);r=r.concat(i),e+=i.length})),t||fe(r),r},A.prototype.toArgumentNameList=function(e,t){const r=this.expr.toArgumentNameList(e,t).map((e=>"s"===e[e.length-1]?e+"es":e+"s"));return t||fe(r),r},O.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t).map((e=>"opt"+e[0].toUpperCase()+e.slice(1)))},R.prototype.toArgumentNameList=function(e,t){return[]},P.prototype.toArgumentNameList=D.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t)},M.prototype.toArgumentNameList=function(e,t){return[this.ruleName]},F.prototype.toArgumentNameList=function(e,t){return["$"+e]},L.prototype.toArgumentNameList=function(e,t){return["param"+this.index]},b.prototype.toDisplayString=r("toDisplayString"),w.prototype.toDisplayString=k.prototype.toDisplayString=function(){return this.source?this.source.trimmed().contents:"["+this.constructor.name+"]"},T.toDisplayString=x.toDisplayString=A.prototype.toDisplayString=R.prototype.toDisplayString=P.prototype.toDisplayString=D.prototype.toDisplayString=I.prototype.toDisplayString=N.prototype.toDisplayString=L.prototype.toDisplayString=function(){return this.toString()},M.prototype.toDisplayString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toDisplayString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},F.prototype.toDisplayString=function(){return"Unicode ["+this.category+"] character"};class ye{constructor(e,t,r){if(!function(e){return"description"===e||"string"===e||"code"===e}(r))throw new Error("invalid Failure type: "+r);this.pexpr=e,this.text=t,this.type=r,this.fluffy=!1}getPExpr(){return this.pexpr}getText(){return this.text}getType(){return this.type}isDescription(){return"description"===this.type}isStringTerminal(){return"string"===this.type}isCode(){return"code"===this.type}isFluffy(){return this.fluffy}makeFluffy(){this.fluffy=!0}clearFluffy(){this.fluffy=!1}subsumes(e){return this.getText()===e.getText()&&this.type===e.type&&(!this.isFluffy()||this.isFluffy()&&e.isFluffy())}toString(){return"string"===this.type?JSON.stringify(this.getText()):this.getText()}clone(){const e=new ye(this.pexpr,this.text,this.type);return this.isFluffy()&&e.makeFluffy(),e}toKey(){return this.toString()+"#"+this.type}}b.prototype.toFailure=r("toFailure"),T.toFailure=function(e){return new ye(this,"any object","description")},x.toFailure=function(e){return new ye(this,"end of input","description")},I.prototype.toFailure=function(e){return new ye(this,this.obj,"string")},N.prototype.toFailure=function(e){return new ye(this,JSON.stringify(this.from)+".."+JSON.stringify(this.to),"code")},R.prototype.toFailure=function(e){const t=this.expr===T?"nothing":"not "+this.expr.toFailure(e);return new ye(this,t,"description")},P.prototype.toFailure=function(e){return this.expr.toFailure(e)},M.prototype.toFailure=function(e){let{description:t}=e.rules[this.ruleName];return t||(t=(/^[aeiouAEIOU]/.test(this.ruleName)?"an":"a")+" "+this.ruleName),new ye(this,t,"description")},F.prototype.toFailure=function(e){return new ye(this,"a Unicode ["+this.category+"] character","description")},w.prototype.toFailure=function(e){const t="("+this.terms.map((t=>t.toFailure(e))).join(" or ")+")";return new ye(this,t,"description")},k.prototype.toFailure=function(e){const t="("+this.factors.map((t=>t.toFailure(e))).join(" ")+")";return new ye(this,t,"description")},A.prototype.toFailure=function(e){const t="("+this.expr.toFailure(e)+this.operator+")";return new ye(this,t,"description")},b.prototype.toString=r("toString"),T.toString=function(){return"any"},x.toString=function(){return"end"},I.prototype.toString=function(){return JSON.stringify(this.obj)},N.prototype.toString=function(){return JSON.stringify(this.from)+".."+JSON.stringify(this.to)},L.prototype.toString=function(){return"$"+this.index},D.prototype.toString=function(){return"#("+this.expr.toString()+")"},w.prototype.toString=function(){return 1===this.terms.length?this.terms[0].toString():"("+this.terms.map((e=>e.toString())).join(" | ")+")"},k.prototype.toString=function(){return 1===this.factors.length?this.factors[0].toString():"("+this.factors.map((e=>e.toString())).join(" ")+")"},A.prototype.toString=function(){return this.expr+this.operator},R.prototype.toString=function(){return"~"+this.expr},P.prototype.toString=function(){return"&"+this.expr},M.prototype.toString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},F.prototype.toString=function(){return"\\p{"+this.category+"}"};class Se extends b{constructor(e){super(),this.obj=e}_getString(e){const t=e.currentApplication().args[this.obj.index];return i(t instanceof I,"expected a Terminal expression"),t.obj}allowsSkippingPrecedingSpace(){return!0}eval(e){const{inputStream:t}=e,r=t.pos,i=this._getString(e);return t.matchString(i,!0)?(e.pushBinding(new pe(i.length),r),!0):(e.processFailure(r,this),!1)}getArity(){return 1}substituteParams(e){return new Se(this.obj.substituteParams(e))}toDisplayString(){return this.obj.toDisplayString()+" (case-insensitive)"}toFailure(e){return new ye(this,this.obj.toFailure(e)+" (case-insensitive)","description")}_isNullable(e,t){return this.obj._isNullable(e,t)}}var ve=Object.freeze({__proto__:null,CaseInsensitiveTerminal:Se,PExpr:b,any:T,end:x,Terminal:I,Range:N,Param:L,Alt:w,Extend:C,Splice:E,Seq:k,Iter:A,Star:_,Plus:q,Opt:O,Not:R,Lookahead:P,Lex:D,Apply:M,UnicodeChar:F});let be;J((e=>{be=e.rules.applySyntactic.body}));const Te=new M("spaces");class xe{constructor(e,t,r){this.matcher=e,this.startExpr=t,this.grammar=e.grammar,this.input=e.getInput(),this.inputStream=new re(this.input),this.memoTable=e._memoTable,this.userData=void 0,this.doNotMemoize=!1,this._bindings=[],this._bindingOffsets=[],this._applicationStack=[],this._posStack=[0],this.inLexifiedContextStack=[!1],this.rightmostFailurePosition=-1,this._rightmostFailurePositionStack=[],this._recordedFailuresStack=[],void 0!==r&&(this.positionToRecordFailures=r,this.recordedFailures=Object.create(null))}posToOffset(e){return e-this._posStack[this._posStack.length-1]}enterApplication(e,t){this._posStack.push(this.inputStream.pos),this._applicationStack.push(t),this.inLexifiedContextStack.push(!1),e.enter(t),this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this.rightmostFailurePosition=-1}exitApplication(e,t){const r=this._posStack.pop();this._applicationStack.pop(),this.inLexifiedContextStack.pop(),e.exit(),this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,this._rightmostFailurePositionStack.pop()),t&&this.pushBinding(t,r)}enterLexifiedContext(){this.inLexifiedContextStack.push(!0)}exitLexifiedContext(){this.inLexifiedContextStack.pop()}currentApplication(){return this._applicationStack[this._applicationStack.length-1]}inSyntacticContext(){const e=this.currentApplication();return e?e.isSyntactic()&&!this.inLexifiedContext():this.startExpr.factors[0].isSyntactic()}inLexifiedContext(){return this.inLexifiedContextStack[this.inLexifiedContextStack.length-1]}skipSpaces(){return this.pushFailuresInfo(),this.eval(Te),this.popBinding(),this.popFailuresInfo(),this.inputStream.pos}skipSpacesIfInSyntacticContext(){return this.inSyntacticContext()?this.skipSpaces():this.inputStream.pos}maybeSkipSpacesBefore(e){return e.allowsSkippingPrecedingSpace()&&e!==Te?this.skipSpacesIfInSyntacticContext():this.inputStream.pos}pushBinding(e,t){this._bindings.push(e),this._bindingOffsets.push(this.posToOffset(t))}popBinding(){this._bindings.pop(),this._bindingOffsets.pop()}numBindings(){return this._bindings.length}truncateBindings(e){for(;this._bindings.length>e;)this.popBinding()}getCurrentPosInfo(){return this.getPosInfo(this.inputStream.pos)}getPosInfo(e){let t=this.memoTable[e];return t||(t=this.memoTable[e]=new ne),t}processFailure(e,t){if(this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,e),this.recordedFailures&&e===this.positionToRecordFailures){const e=this.currentApplication();e&&(t=t.substituteParams(e.args)),this.recordFailure(t.toFailure(this.grammar),!1)}}recordFailure(e,t){const r=e.toKey();this.recordedFailures[r]?this.recordedFailures[r].isFluffy()&&!e.isFluffy()&&this.recordedFailures[r].clearFluffy():this.recordedFailures[r]=t?e.clone():e}recordFailures(e,t){Object.keys(e).forEach((r=>{this.recordFailure(e[r],t)}))}cloneRecordedFailures(){if(!this.recordedFailures)return;const e=Object.create(null);return Object.keys(this.recordedFailures).forEach((t=>{e[t]=this.recordedFailures[t].clone()})),e}getRightmostFailurePosition(){return this.rightmostFailurePosition}_getRightmostFailureOffset(){return this.rightmostFailurePosition>=0?this.posToOffset(this.rightmostFailurePosition):-1}getMemoizedTraceEntry(e,t){const r=this.memoTable[e];if(r&&t instanceof M){const e=r.memo[t.toMemoKey()];if(e&&e.traceEntry){const r=e.traceEntry.cloneWithExpr(t);return r.isMemoized=!0,r}}return null}getTraceEntry(e,t,r,i){if(t instanceof M){const e=this.currentApplication(),r=e?e.args:[];t=t.substituteParams(r)}return this.getMemoizedTraceEntry(e,t)||new oe(this.input,e,this.inputStream.pos,t,r,i,this.trace)}isTracing(){return!!this.trace}hasNecessaryInfo(e){return!(this.trace&&!e.traceEntry||this.recordedFailures&&this.inputStream.pos+e.rightmostFailureOffset===this.positionToRecordFailures&&!e.failuresAtRightmostPosition)}useMemoizedResult(e,t){this.trace&&this.trace.push(t.traceEntry);const r=this.inputStream.pos+t.rightmostFailureOffset;return this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,r),this.recordedFailures&&this.positionToRecordFailures===r&&t.failuresAtRightmostPosition&&this.recordFailures(t.failuresAtRightmostPosition,!0),this.inputStream.examinedLength=Math.max(this.inputStream.examinedLength,t.examinedLength+e),!!t.value&&(this.inputStream.pos+=t.matchLength,this.pushBinding(t.value,e),!0)}eval(e){const{inputStream:t}=this,r=this._bindings.length,i=this.userData;let n;this.recordedFailures&&(n=this.recordedFailures,this.recordedFailures=Object.create(null));const s=t.pos,a=this.maybeSkipSpacesBefore(e);let o;this.trace&&(o=this.trace,this.trace=[]);const l=e.eval(this);if(this.trace){const t=this._bindings.slice(r),i=this.getTraceEntry(a,e,l,t);i.isImplicitSpaces=e===Te,i.isRootNode=e===this.startExpr,o.push(i),this.trace=o}return l?this.recordedFailures&&t.pos===this.positionToRecordFailures&&Object.keys(this.recordedFailures).forEach((e=>{this.recordedFailures[e].makeFluffy()})):(t.pos=s,this.truncateBindings(r),this.userData=i),this.recordedFailures&&this.recordFailures(n,!1),e===be&&this.skipSpaces(),l}getMatchResult(){let e;this.grammar._setUpMatchState(this),this.eval(this.startExpr),this.recordedFailures&&(e=Object.keys(this.recordedFailures).map((e=>this.recordedFailures[e])));const t=this._bindings[0];return t&&(t.grammar=this.grammar),new ie(this.matcher,this.input,this.startExpr,t,this._bindingOffsets[0],this.rightmostFailurePosition,e)}getTrace(){this.trace=[];const e=this.getMatchResult(),t=this.trace[this.trace.length-1];return t.result=e,t}pushFailuresInfo(){this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this._recordedFailuresStack.push(this.recordedFailures)}popFailuresInfo(){this.rightmostFailurePosition=this._rightmostFailurePositionStack.pop(),this.recordedFailures=this._recordedFailuresStack.pop()}}class Ie{constructor(e){this.grammar=e,this._memoTable=[],this._input="",this._isMemoTableStale=!1}_resetMemoTable(){this._memoTable=[],this._isMemoTableStale=!1}getInput(){return this._input}setInput(e){return this._input!==e&&this.replaceInputRange(0,this._input.length,e),this}replaceInputRange(e,t,r){const i=this._input,n=this._memoTable;if(e<0||e>i.length||t<0||t>i.length||e>t)throw new Error("Invalid indices: "+e+" and "+t);this._input=i.slice(0,e)+r+i.slice(t),this._input!==i&&n.length>0&&(this._isMemoTableStale=!0);const s=n.slice(t);n.length=e;for(let e=0;e<r.length;e++)n.push(void 0);for(const e of s)n.push(e);for(let t=0;t<e;t++){const r=n[t];r&&r.clearObsoleteEntries(t,e)}return this}match(e,t={incremental:!0}){return this._match(this._getStartExpr(e),{incremental:t.incremental,tracing:!1})}trace(e,t={incremental:!0}){return this._match(this._getStartExpr(e),{incremental:t.incremental,tracing:!0})}_match(e,t={}){const r={tracing:!1,incremental:!0,positionToRecordFailures:void 0,...t};if(r.incremental){if(this._isMemoTableStale&&!this.grammar.supportsIncrementalParsing)throw H(`Grammar '${this.grammar.name}' does not support incremental parsing`)}else this._resetMemoTable();const i=new xe(this,e,r.positionToRecordFailures);return r.tracing?i.getTrace():i.getMatchResult()}_getStartExpr(e){const t=e||this.grammar.defaultStartRule;if(!t)throw new Error("Missing start rule argument -- the grammar has no default start rule.");const r=this.grammar.parseApplication(t);return new k([r,x])}}const Ne=[],Le=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class we{constructor(e,t,r){this._node=e,this.source=t,this._baseInterval=r,e.isNonterminal()&&i(t===r),this._childWrappers=[]}_forgetMemoizedResultFor(e){delete this._node[this._semantics.attributeKeys[e]],this.children.forEach((t=>{t._forgetMemoizedResultFor(e)}))}child(e){if(!(0<=e&&e<this._node.numChildren()))return;let t=this._childWrappers[e];if(!t){const r=this._node.childAt(e),i=this._node.childOffsets[e],n=this._baseInterval.subInterval(i,r.matchLength),s=r.isNonterminal()?n:this._baseInterval;t=this._childWrappers[e]=this._semantics.wrap(r,n,s)}return t}_children(){for(let e=0;e<this._node.numChildren();e++)this.child(e);return this._childWrappers}isIteration(){return this._node.isIteration()}isTerminal(){return this._node.isTerminal()}isNonterminal(){return this._node.isNonterminal()}isSyntactic(){return this.isNonterminal()&&this._node.isSyntactic()}isLexical(){return this.isNonterminal()&&this._node.isLexical()}isOptional(){return this._node.isOptional()}iteration(e){const t=e||[],r=t.map((e=>e._node)),i=new me(r,[],-1,!1),n=this._semantics.wrap(i,null,null);return n._childWrappers=t,n}get children(){return this._children()}get ctorName(){return this._node.ctorName}get numChildren(){return this._node.numChildren()}get sourceString(){return this.source.contents}}class Ce{constructor(e,t){const r=this;if(this.grammar=e,this.checkedActionDicts=!1,this.Wrapper=class extends(t?t.Wrapper:we){constructor(e,t,i){super(e,t,i),r.checkActionDictsIfHaventAlready(),this._semantics=r}toString(){return"[semantics wrapper for "+r.grammar.name+"]"}},this.super=t,t){if(!e.equals(this.super.grammar)&&!e._inheritsFrom(this.super.grammar))throw new Error("Cannot extend a semantics for grammar '"+this.super.grammar.name+"' for use with grammar '"+e.name+"' (not a sub-grammar)");this.operations=Object.create(this.super.operations),this.attributes=Object.create(this.super.attributes),this.attributeKeys=Object.create(null);for(const e in this.attributes)Object.defineProperty(this.attributeKeys,e,{value:ee(e)})}else this.operations=Object.create(null),this.attributes=Object.create(null),this.attributeKeys=Object.create(null)}toString(){return"[semantics for "+this.grammar.name+"]"}checkActionDictsIfHaventAlready(){this.checkedActionDicts||(this.checkActionDicts(),this.checkedActionDicts=!0)}checkActionDicts(){let e;for(e in this.operations)this.operations[e].checkActionDict(this.grammar);for(e in this.attributes)this.attributes[e].checkActionDict(this.grammar)}toRecipe(e){function t(e){return e.super!==Ce.BuiltInSemantics._getSemantics()}let r="(function(g) {\n";if(t(this)){r+="  var semantics = "+this.super.toRecipe(!0)+"(g";const e=this.super.grammar;let t=this.grammar;for(;t!==e;)r+=".superGrammar",t=t.superGrammar;r+=");\n",r+="  return g.extendSemantics(semantics)"}else r+="  return g.createSemantics()";return["Operation","Attribute"].forEach((e=>{const i=this[e.toLowerCase()+"s"];Object.keys(i).forEach((n=>{const{actionDict:s,formals:a,builtInDefault:o}=i[n];let l,u=n;a.length>0&&(u+="("+a.join(", ")+")"),l=t(this)&&this.super[e.toLowerCase()+"s"][n]?"extend"+e:"add"+e,r+="\n    ."+l+"("+JSON.stringify(u)+", {";const c=[];Object.keys(s).forEach((e=>{if(s[e]!==o){let t=s[e].toString().trim();t=t.replace(/^.*\(/,"function("),c.push("\n      "+JSON.stringify(e)+": "+t)}})),r+=c.join(",")+"\n    })"}))})),r+=";\n  })",e||(r="(function() {\n  var grammar = this.fromRecipe("+this.grammar.toRecipe()+");\n  var semantics = "+r+"(grammar);\n  return semantics;\n});\n"),r}addOperationOrAttribute(e,t,r){const i=e+"s",n=Ee(t,e),{name:s}=n,{formals:a}=n;this.assertNewName(s,e);const o=function(e,t,r){return function(...i){const n=(this._semantics.operations[t]||this._semantics.attributes[t]).formals.map((e=>this.args[e]));if(this.isIteration()||1!==i.length)throw function(e,t,r,i){let n=i.slice(0,-1).map((e=>{const t="  "+e[0].name+" > "+e[1];return 3===e.length?t+" for '"+e[2]+"'":t})).join("\n");n+="\n  "+t+" > "+e;let s="";"_iter"===e&&(s=["\nNOTE: as of Ohm v16, there is no default action for iteration nodes — see ","  https://ohmjs.org/d/dsa for details."].join("\n"));const a=H([`Missing semantic action for '${e}' in ${r} '${t}'.${s}`,"Action stack (most recent call last):",n].join("\n"));return a.name="missingSemanticAction",a}(this.ctorName,t,e,Ne);return r.apply(i[0],n)}}(e,s,c),l={_default:o};Object.keys(r).forEach((e=>{l[e]=r[e]}));const u="operation"===e?new ke(s,a,l,o):new Ae(s,l,o);function c(...t){const r=this._semantics[i][s];if(arguments.length!==r.formals.length)throw new Error("Invalid number of arguments passed to "+s+" "+e+" (expected "+r.formals.length+", got "+arguments.length+")");const n=Object.create(null);for(const[e,i]of Object.entries(t))n[r.formals[e]]=i;const a=this.args;this.args=n;const o=r.execute(this._semantics,this);return this.args=a,o}u.checkActionDict(this.grammar),this[i][s]=u,"operation"===e?(this.Wrapper.prototype[s]=c,this.Wrapper.prototype[s].toString=function(){return"["+s+" operation]"}):(Object.defineProperty(this.Wrapper.prototype,s,{get:c,configurable:!0}),Object.defineProperty(this.attributeKeys,s,{value:ee(s)}))}extendOperationOrAttribute(e,t,r){const i=e+"s";if(Ee(t,"attribute"),!this.super||!(t in this.super[i]))throw new Error("Cannot extend "+e+" '"+t+"': did not inherit an "+e+" with that name");if(Le(this[i],t))throw new Error("Cannot extend "+e+" '"+t+"' again");const n=this[i][t].formals,s=this[i][t].actionDict,a=Object.create(s);Object.keys(r).forEach((e=>{a[e]=r[e]})),this[i][t]="operation"===e?new ke(t,n,a):new Ae(t,a),this[i][t].checkActionDict(this.grammar)}assertNewName(e,t){if(Le(we.prototype,e))throw new Error("Cannot add "+t+" '"+e+"': that's a reserved name");if(e in this.operations)throw new Error("Cannot add "+t+" '"+e+"': an operation with that name already exists");if(e in this.attributes)throw new Error("Cannot add "+t+" '"+e+"': an attribute with that name already exists")}wrap(e,t,r){const i=r||t;return e instanceof this.Wrapper?e:new this.Wrapper(e,t,i)}}function Ee(e,t){if(!Ce.prototypeGrammar)return i(-1===e.indexOf("(")),{name:e,formals:[]};const r=Ce.prototypeGrammar.match(e,"operation"===t?"OperationSignature":"AttributeSignature");if(r.failed())throw new Error(r.message);return Ce.prototypeGrammarSemantics(r).parse()}Ce.createSemantics=function(e,t){const r=new Ce(e,void 0!==t?t:Ce.BuiltInSemantics._getSemantics()),i=function(t){if(!(t instanceof ie))throw new TypeError("Semantics expected a MatchResult, but got "+f(t));if(t.failed())throw new TypeError("cannot apply Semantics to "+t.toString());const i=t._cst;if(i.grammar!==e)throw new Error("Cannot use a MatchResult from grammar '"+i.grammar.name+"' with a semantics for '"+e.name+"'");const n=new re(t.input);return r.wrap(i,n.interval(t._cstOffset,t.input.length))};return i.addOperation=function(e,t){return r.addOperationOrAttribute("operation",e,t),i},i.extendOperation=function(e,t){return r.extendOperationOrAttribute("operation",e,t),i},i.addAttribute=function(e,t){return r.addOperationOrAttribute("attribute",e,t),i},i.extendAttribute=function(e,t){return r.extendOperationOrAttribute("attribute",e,t),i},i._getActionDict=function(t){const i=r.operations[t]||r.attributes[t];if(!i)throw new Error('"'+t+'" is not a valid operation or attribute name in this semantics for "'+e.name+'"');return i.actionDict},i._remove=function(e){let t;return e in r.operations?(t=r.operations[e],delete r.operations[e]):e in r.attributes&&(t=r.attributes[e],delete r.attributes[e]),delete r.Wrapper.prototype[e],t},i.getOperationNames=function(){return Object.keys(r.operations)},i.getAttributeNames=function(){return Object.keys(r.attributes)},i.getGrammar=function(){return r.grammar},i.toRecipe=function(e){return r.toRecipe(e)},i.toString=r.toString.bind(r),i._getSemantics=function(){return r},i};class ke{constructor(e,t,r,i){this.name=e,this.formals=t,this.actionDict=r,this.builtInDefault=i}checkActionDict(e){e._checkTopDownActionDict(this.typeName,this.name,this.actionDict)}execute(e,t){try{const{ctorName:e}=t._node;let r=this.actionDict[e];return r?(Ne.push([this,e]),r.apply(t,t._children())):t.isNonterminal()&&(r=this.actionDict._nonterminal,r)?(Ne.push([this,"_nonterminal",e]),r.apply(t,t._children())):(Ne.push([this,"default action",e]),this.actionDict._default.apply(t,t._children()))}finally{Ne.pop()}}}ke.prototype.typeName="operation";class Ae extends ke{constructor(e,t,r){super(e,[],t,r)}execute(e,t){const r=t._node,i=e.attributeKeys[this.name];return Le(r,i)||(r[i]=ke.prototype.execute.call(this,e,t)),r[i]}}Ae.prototype.typeName="attribute";const _e=["_iter","_terminal","_nonterminal","_default"];function qe(e){return Object.keys(e.rules).sort().map((t=>e.rules[t]))}let Oe,Re;class Pe{constructor(e,t,r,i){if(this.name=e,this.superGrammar=t,this.rules=r,i){if(!(i in r))throw new Error("Invalid start rule: '"+i+"' is not a rule in grammar '"+e+"'");this.defaultStartRule=i}this._matchStateInitializer=void 0,this.supportsIncrementalParsing=!0}matcher(){return new Ie(this)}isBuiltIn(){return this===Pe.ProtoBuiltInRules||this===Pe.BuiltInRules}equals(e){if(this===e)return!0;if(null==e||this.name!==e.name||this.defaultStartRule!==e.defaultStartRule||this.superGrammar!==e.superGrammar&&!this.superGrammar.equals(e.superGrammar))return!1;const t=qe(this),r=qe(e);return t.length===r.length&&t.every(((e,t)=>e.description===r[t].description&&e.formals.join(",")===r[t].formals.join(",")&&e.body.toString()===r[t].body.toString()))}match(e,t){const r=this.matcher();return r.replaceInputRange(0,0,e),r.match(t)}trace(e,t){const r=this.matcher();return r.replaceInputRange(0,0,e),r.trace(t)}createSemantics(){return Ce.createSemantics(this)}extendSemantics(e){return Ce.createSemantics(this,e._getSemantics())}_checkTopDownActionDict(e,t,r){const i=[];for(const e in r){const t=r[e];if(!_e.includes(e)&&!(e in this.rules)){i.push(`'${e}' is not a valid semantic action for '${this.name}'`);continue}if("function"!=typeof t){i.push(`'${e}' must be a function in an action dictionary for '${this.name}'`);continue}const n=t.length,s=this._topDownActionArity(e);if(n!==s){let t;t="_iter"===e||"_nonterminal"===e?`it should use a rest parameter, e.g. \`${e}(...children) {}\`. NOTE: this is new in Ohm v16 — see https://ohmjs.org/d/ati for details.`:`expected ${s}, got ${n}`,i.push(`Semantic action '${e}' has the wrong arity: ${t}`)}}if(i.length>0){const r=i.map((e=>"- "+e)),n=new Error([`Found errors in the action dictionary of the '${t}' ${e}:`,...r].join("\n"));throw n.problems=i,n}}_topDownActionArity(e){return _e.includes(e)?0:this.rules[e].body.getArity()}_inheritsFrom(e){let t=this.superGrammar;for(;t;){if(t.equals(e,!0))return!0;t=t.superGrammar}return!1}toRecipe(e=void 0){const t={};this.source&&(t.source=this.source.contents);let r=null;this.defaultStartRule&&(r=this.defaultStartRule);const i={};Object.keys(this.rules).forEach((e=>{const t=this.rules[e],{body:r}=t,n=!this.superGrammar||!this.superGrammar.rules[e];let s;s=n?"define":r instanceof C?"extend":"override";const a={};if(t.source&&this.source){const e=t.source.relativeTo(this.source);a.sourceInterval=[e.startIdx,e.endIdx]}const o=n?t.description:null,l=r.outputRecipe(t.formals,this.source);i[e]=[s,a,o,t.formals,l]}));let n="null";e?n=e:this.superGrammar&&!this.superGrammar.isBuiltIn()&&(n=this.superGrammar.toRecipe());return`[${[...["grammar",t,this.name].map(JSON.stringify),n,...[r,i].map(JSON.stringify)].join(",")}]`.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}toOperationActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()}toAttributeActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()}_toOperationOrAttributeActionDictionaryTemplate(){const e=new m;e.append("{");let t=!0;for(const r in this.rules){const{body:i}=this.rules[r];t?t=!1:e.append(","),e.append("\n"),e.append("  "),this.addSemanticActionTemplate(r,i,e)}return e.append("\n}"),e.contents()}addSemanticActionTemplate(e,t,r){r.append(e),r.append(": function(");const i=this._topDownActionArity(e);r.append(o("_",i).join(", ")),r.append(") {\n"),r.append("  }")}parseApplication(e){let t;if(-1===e.indexOf("<"))t=new M(e);else{const r=Oe.match(e,"Base_application");t=Re(r,{})}if(!(t.ruleName in this.rules))throw B(t.ruleName,this.name);const{formals:r}=this.rules[t.ruleName];if(r.length!==t.args.length){const{source:e}=this.rules[t.ruleName];throw W(t.ruleName,r.length,t.args.length,e)}return t}_setUpMatchState(e){this._matchStateInitializer&&this._matchStateInitializer(e)}}Pe.ProtoBuiltInRules=new Pe("ProtoBuiltInRules",void 0,{any:{body:T,formals:[],description:"any character",primitive:!0},end:{body:x,formals:[],description:"end of input",primitive:!0},caseInsensitive:{body:new Se(new L(0)),formals:["str"],primitive:!0},lower:{body:new F("Ll"),formals:[],description:"a lowercase letter",primitive:!0},upper:{body:new F("Lu"),formals:[],description:"an uppercase letter",primitive:!0},unicodeLtmo:{body:new F("Ltmo"),formals:[],description:"a Unicode character in Lt, Lm, or Lo",primitive:!0},spaces:{body:new _(new M("space")),formals:[]},space:{body:new N("\0"," "),formals:[],description:"a space"}}),Pe.initApplicationParser=function(e,t){Oe=e,Re=t};class De{constructor(e){this.name=e}sourceInterval(e,t){return this.source.subInterval(e,t-e)}ensureSuperGrammar(){return this.superGrammar||this.withSuperGrammar("BuiltInRules"===this.name?Pe.ProtoBuiltInRules:Pe.BuiltInRules),this.superGrammar}ensureSuperGrammarRuleForOverriding(e,t){const r=this.ensureSuperGrammar().rules[e];if(!r)throw H("Cannot override rule "+e+" because it is not declared in "+this.superGrammar.name,t);return r}installOverriddenOrExtendedRule(e,t,r,i){const n=l(t);if(n.length>0)throw V(e,n,i);const s=this.ensureSuperGrammar().rules[e],a=s.formals,o=a?a.length:0;if(t.length!==o)throw W(e,o,t.length,i);return this.install(e,t,r,s.description,i)}install(e,t,r,i,n,s=!1){return this.rules[e]={body:r.introduceParams(t),formals:t,description:i,source:n,primitive:s},this}withSuperGrammar(e){if(this.superGrammar)throw new Error("the super grammar of a GrammarDecl cannot be set more than once");return this.superGrammar=e,this.rules=Object.create(e.rules),e.isBuiltIn()||(this.defaultStartRule=e.defaultStartRule),this}withDefaultStartRule(e){return this.defaultStartRule=e,this}withSource(e){return this.source=new re(e).interval(0,e.length),this}build(){const e=new Pe(this.name,this.ensureSuperGrammar(),this.rules,this.defaultStartRule);e._matchStateInitializer=e.superGrammar._matchStateInitializer,e.supportsIncrementalParsing=e.superGrammar.supportsIncrementalParsing;const t=[];let r=!1;return Object.keys(e.rules).forEach((i=>{const{body:n}=e.rules[i];try{n.assertChoicesHaveUniformArity(i)}catch(e){t.push(e)}try{n.assertAllApplicationsAreValid(i,e)}catch(e){t.push(e),r=!0}})),r||Object.keys(e.rules).forEach((r=>{const{body:i}=e.rules[r];try{i.assertIteratedExprsAreNotNullable(e,[])}catch(e){t.push(e)}})),t.length>0&&function(e){if(1===e.length)throw e[0];if(e.length>1)throw function(e){const t=e.map((e=>e.message));return H(["Errors:"].concat(t).join("\n- "),e[0].interval)}(e)}(t),this.source&&(e.source=this.source),e}define(e,t,r,i,n,s){if(this.ensureSuperGrammar(),this.superGrammar.rules[e])throw G(e,this.name,this.superGrammar.name,n);if(this.rules[e])throw G(e,this.name,this.name,n);const a=l(t);if(a.length>0)throw V(e,a,n);return this.install(e,t,r,i,n,s)}override(e,t,r,i,n){return this.ensureSuperGrammarRuleForOverriding(e,n),this.installOverriddenOrExtendedRule(e,t,r,n),this}extend(e,t,r,i,n){if(!this.ensureSuperGrammar().rules[e])throw H("Cannot extend rule "+e+" because it is not declared in "+this.superGrammar.name,n);const s=new C(this.superGrammar,e,r);return s.source=r.source,this.installOverriddenOrExtendedRule(e,t,s,n),this}}class Me{constructor(){this.currentDecl=null,this.currentRuleName=null}newGrammar(e){return new De(e)}grammar(e,t,r,i,n){const s=new De(t);return r&&s.withSuperGrammar(r instanceof Pe?r:this.fromRecipe(r)),i&&s.withDefaultStartRule(i),e&&e.source&&s.withSource(e.source),this.currentDecl=s,Object.keys(n).forEach((e=>{this.currentRuleName=e;const t=n[e],r=t[0],i=t[1],a=t[2],o=t[3],l=this.fromRecipe(t[4]);let u;s.source&&i&&i.sourceInterval&&(u=s.source.subInterval(i.sourceInterval[0],i.sourceInterval[1]-i.sourceInterval[0])),s[r](e,o,l,a,u)})),this.currentRuleName=this.currentDecl=null,s.build()}terminal(e){return new I(e)}range(e,t){return new N(e,t)}param(e){return new L(e)}alt(...e){let t=[];for(let r of e)r instanceof b||(r=this.fromRecipe(r)),r instanceof w?t=t.concat(r.terms):t.push(r);return 1===t.length?t[0]:new w(t)}seq(...e){let t=[];for(let r of e)r instanceof b||(r=this.fromRecipe(r)),r instanceof k?t=t.concat(r.factors):t.push(r);return 1===t.length?t[0]:new k(t)}star(e){return e instanceof b||(e=this.fromRecipe(e)),new _(e)}plus(e){return e instanceof b||(e=this.fromRecipe(e)),new q(e)}opt(e){return e instanceof b||(e=this.fromRecipe(e)),new O(e)}not(e){return e instanceof b||(e=this.fromRecipe(e)),new R(e)}lookahead(e){return e instanceof b||(e=this.fromRecipe(e)),new P(e)}lex(e){return e instanceof b||(e=this.fromRecipe(e)),new D(e)}app(e,t){return t&&t.length>0&&(t=t.map((function(e){return e instanceof b?e:this.fromRecipe(e)}),this)),new M(e,t)}splice(e,t){return new E(this.currentDecl.superGrammar,this.currentRuleName,e.map((e=>this.fromRecipe(e))),t.map((e=>this.fromRecipe(e))))}fromRecipe(e){const t="grammar"===e[0]?e.slice(1):e.slice(2),r=this[e[0]](...t),i=e[1];return i&&i.sourceInterval&&this.currentDecl&&r.withSource(this.currentDecl.sourceInterval(...i.sourceInterval)),r}}function Fe(e){return"function"==typeof e?e.call(new Me):("string"==typeof e&&(e=JSON.parse(e)),(new Me).fromRecipe(e))}var He,je=Fe(["grammar",{source:'BuiltInRules {\n\n  alnum  (an alpha-numeric character)\n    = letter\n    | digit\n\n  letter  (a letter)\n    = lower\n    | upper\n    | unicodeLtmo\n\n  digit  (a digit)\n    = "0".."9"\n\n  hexDigit  (a hexadecimal digit)\n    = digit\n    | "a".."f"\n    | "A".."F"\n\n  ListOf<elem, sep>\n    = NonemptyListOf<elem, sep>\n    | EmptyListOf<elem, sep>\n\n  NonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  EmptyListOf<elem, sep>\n    = /* nothing */\n\n  listOf<elem, sep>\n    = nonemptyListOf<elem, sep>\n    | emptyListOf<elem, sep>\n\n  nonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  emptyListOf<elem, sep>\n    = /* nothing */\n\n  // Allows a syntactic rule application within a lexical context.\n  applySyntactic<app> = app\n}'},"BuiltInRules",null,null,{alnum:["define",{sourceInterval:[18,78]},"an alpha-numeric character",[],["alt",{sourceInterval:[60,78]},["app",{sourceInterval:[60,66]},"letter",[]],["app",{sourceInterval:[73,78]},"digit",[]]]],letter:["define",{sourceInterval:[82,142]},"a letter",[],["alt",{sourceInterval:[107,142]},["app",{sourceInterval:[107,112]},"lower",[]],["app",{sourceInterval:[119,124]},"upper",[]],["app",{sourceInterval:[131,142]},"unicodeLtmo",[]]]],digit:["define",{sourceInterval:[146,177]},"a digit",[],["range",{sourceInterval:[169,177]},"0","9"]],hexDigit:["define",{sourceInterval:[181,254]},"a hexadecimal digit",[],["alt",{sourceInterval:[219,254]},["app",{sourceInterval:[219,224]},"digit",[]],["range",{sourceInterval:[231,239]},"a","f"],["range",{sourceInterval:[246,254]},"A","F"]]],ListOf:["define",{sourceInterval:[258,336]},null,["elem","sep"],["alt",{sourceInterval:[282,336]},["app",{sourceInterval:[282,307]},"NonemptyListOf",[["param",{sourceInterval:[297,301]},0],["param",{sourceInterval:[303,306]},1]]],["app",{sourceInterval:[314,336]},"EmptyListOf",[["param",{sourceInterval:[326,330]},0],["param",{sourceInterval:[332,335]},1]]]]],NonemptyListOf:["define",{sourceInterval:[340,388]},null,["elem","sep"],["seq",{sourceInterval:[372,388]},["param",{sourceInterval:[372,376]},0],["star",{sourceInterval:[377,388]},["seq",{sourceInterval:[378,386]},["param",{sourceInterval:[378,381]},1],["param",{sourceInterval:[382,386]},0]]]]],EmptyListOf:["define",{sourceInterval:[392,434]},null,["elem","sep"],["seq",{sourceInterval:[438,438]}]],listOf:["define",{sourceInterval:[438,516]},null,["elem","sep"],["alt",{sourceInterval:[462,516]},["app",{sourceInterval:[462,487]},"nonemptyListOf",[["param",{sourceInterval:[477,481]},0],["param",{sourceInterval:[483,486]},1]]],["app",{sourceInterval:[494,516]},"emptyListOf",[["param",{sourceInterval:[506,510]},0],["param",{sourceInterval:[512,515]},1]]]]],nonemptyListOf:["define",{sourceInterval:[520,568]},null,["elem","sep"],["seq",{sourceInterval:[552,568]},["param",{sourceInterval:[552,556]},0],["star",{sourceInterval:[557,568]},["seq",{sourceInterval:[558,566]},["param",{sourceInterval:[558,561]},1],["param",{sourceInterval:[562,566]},0]]]]],emptyListOf:["define",{sourceInterval:[572,682]},null,["elem","sep"],["seq",{sourceInterval:[685,685]}]],applySyntactic:["define",{sourceInterval:[685,710]},null,["app"],["param",{sourceInterval:[707,710]},0]]}]);Pe.BuiltInRules=je,He=Pe.BuiltInRules,Y.forEach((e=>{e(He)})),Y=null;var Be=Fe(["grammar",{source:'Ohm {\n\n  Grammars\n    = Grammar*\n\n  Grammar\n    = ident SuperGrammar? "{" Rule* "}"\n\n  SuperGrammar\n    = "<:" ident\n\n  Rule\n    = ident Formals? ruleDescr? "="  RuleBody  -- define\n    | ident Formals?            ":=" OverrideRuleBody  -- override\n    | ident Formals?            "+=" RuleBody  -- extend\n\n  RuleBody\n    = "|"? NonemptyListOf<TopLevelTerm, "|">\n\n  TopLevelTerm\n    = Seq caseName  -- inline\n    | Seq\n\n  OverrideRuleBody\n    = "|"? NonemptyListOf<OverrideTopLevelTerm, "|">\n\n  OverrideTopLevelTerm\n    = "..."  -- superSplice\n    | TopLevelTerm\n\n  Formals\n    = "<" ListOf<ident, ","> ">"\n\n  Params\n    = "<" ListOf<Seq, ","> ">"\n\n  Alt\n    = NonemptyListOf<Seq, "|">\n\n  Seq\n    = Iter*\n\n  Iter\n    = Pred "*"  -- star\n    | Pred "+"  -- plus\n    | Pred "?"  -- opt\n    | Pred\n\n  Pred\n    = "~" Lex  -- not\n    | "&" Lex  -- lookahead\n    | Lex\n\n  Lex\n    = "#" Base  -- lex\n    | Base\n\n  Base\n    = ident Params? ~(ruleDescr? "=" | ":=" | "+=")  -- application\n    | oneCharTerminal ".." oneCharTerminal           -- range\n    | terminal                                       -- terminal\n    | "(" Alt ")"                                    -- paren\n\n  ruleDescr  (a rule description)\n    = "(" ruleDescrText ")"\n\n  ruleDescrText\n    = (~")" any)*\n\n  caseName\n    = "--" (~"\\n" space)* name (~"\\n" space)* ("\\n" | &"}")\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n  ident  (an identifier)\n    = name\n\n  terminal\n    = "\\"" terminalChar* "\\""\n\n  oneCharTerminal\n    = "\\"" terminalChar "\\""\n\n  terminalChar\n    = escapeChar\n      | ~"\\\\" ~"\\"" ~"\\n" "\\u{0}".."\\u{10FFFF}"\n\n  escapeChar  (an escape sequence)\n    = "\\\\\\\\"                                     -- backslash\n    | "\\\\\\""                                     -- doubleQuote\n    | "\\\\\\\'"                                     -- singleQuote\n    | "\\\\b"                                      -- backspace\n    | "\\\\n"                                      -- lineFeed\n    | "\\\\r"                                      -- carriageReturn\n    | "\\\\t"                                      -- tab\n    | "\\\\u{" hexDigit hexDigit? hexDigit?\n             hexDigit? hexDigit? hexDigit? "}"   -- unicodeCodePoint\n    | "\\\\u" hexDigit hexDigit hexDigit hexDigit  -- unicodeEscape\n    | "\\\\x" hexDigit hexDigit                    -- hexEscape\n\n  space\n   += comment\n\n  comment\n    = "//" (~"\\n" any)* &("\\n" | end)  -- singleLine\n    | "/*" (~"*/" any)* "*/"  -- multiLine\n\n  tokens = token*\n\n  token = caseName | comment | ident | operator | punctuation | terminal | any\n\n  operator = "<:" | "=" | ":=" | "+=" | "*" | "+" | "?" | "~" | "&"\n\n  punctuation = "<" | ">" | "," | "--"\n}'},"Ohm",null,"Grammars",{Grammars:["define",{sourceInterval:[9,32]},null,[],["star",{sourceInterval:[24,32]},["app",{sourceInterval:[24,31]},"Grammar",[]]]],Grammar:["define",{sourceInterval:[36,83]},null,[],["seq",{sourceInterval:[50,83]},["app",{sourceInterval:[50,55]},"ident",[]],["opt",{sourceInterval:[56,69]},["app",{sourceInterval:[56,68]},"SuperGrammar",[]]],["terminal",{sourceInterval:[70,73]},"{"],["star",{sourceInterval:[74,79]},["app",{sourceInterval:[74,78]},"Rule",[]]],["terminal",{sourceInterval:[80,83]},"}"]]],SuperGrammar:["define",{sourceInterval:[87,116]},null,[],["seq",{sourceInterval:[106,116]},["terminal",{sourceInterval:[106,110]},"<:"],["app",{sourceInterval:[111,116]},"ident",[]]]],Rule_define:["define",{sourceInterval:[131,181]},null,[],["seq",{sourceInterval:[131,170]},["app",{sourceInterval:[131,136]},"ident",[]],["opt",{sourceInterval:[137,145]},["app",{sourceInterval:[137,144]},"Formals",[]]],["opt",{sourceInterval:[146,156]},["app",{sourceInterval:[146,155]},"ruleDescr",[]]],["terminal",{sourceInterval:[157,160]},"="],["app",{sourceInterval:[162,170]},"RuleBody",[]]]],Rule_override:["define",{sourceInterval:[188,248]},null,[],["seq",{sourceInterval:[188,235]},["app",{sourceInterval:[188,193]},"ident",[]],["opt",{sourceInterval:[194,202]},["app",{sourceInterval:[194,201]},"Formals",[]]],["terminal",{sourceInterval:[214,218]},":="],["app",{sourceInterval:[219,235]},"OverrideRuleBody",[]]]],Rule_extend:["define",{sourceInterval:[255,305]},null,[],["seq",{sourceInterval:[255,294]},["app",{sourceInterval:[255,260]},"ident",[]],["opt",{sourceInterval:[261,269]},["app",{sourceInterval:[261,268]},"Formals",[]]],["terminal",{sourceInterval:[281,285]},"+="],["app",{sourceInterval:[286,294]},"RuleBody",[]]]],Rule:["define",{sourceInterval:[120,305]},null,[],["alt",{sourceInterval:[131,305]},["app",{sourceInterval:[131,170]},"Rule_define",[]],["app",{sourceInterval:[188,235]},"Rule_override",[]],["app",{sourceInterval:[255,294]},"Rule_extend",[]]]],RuleBody:["define",{sourceInterval:[309,362]},null,[],["seq",{sourceInterval:[324,362]},["opt",{sourceInterval:[324,328]},["terminal",{sourceInterval:[324,327]},"|"]],["app",{sourceInterval:[329,362]},"NonemptyListOf",[["app",{sourceInterval:[344,356]},"TopLevelTerm",[]],["terminal",{sourceInterval:[358,361]},"|"]]]]],TopLevelTerm_inline:["define",{sourceInterval:[385,408]},null,[],["seq",{sourceInterval:[385,397]},["app",{sourceInterval:[385,388]},"Seq",[]],["app",{sourceInterval:[389,397]},"caseName",[]]]],TopLevelTerm:["define",{sourceInterval:[366,418]},null,[],["alt",{sourceInterval:[385,418]},["app",{sourceInterval:[385,397]},"TopLevelTerm_inline",[]],["app",{sourceInterval:[415,418]},"Seq",[]]]],OverrideRuleBody:["define",{sourceInterval:[422,491]},null,[],["seq",{sourceInterval:[445,491]},["opt",{sourceInterval:[445,449]},["terminal",{sourceInterval:[445,448]},"|"]],["app",{sourceInterval:[450,491]},"NonemptyListOf",[["app",{sourceInterval:[465,485]},"OverrideTopLevelTerm",[]],["terminal",{sourceInterval:[487,490]},"|"]]]]],OverrideTopLevelTerm_superSplice:["define",{sourceInterval:[522,543]},null,[],["terminal",{sourceInterval:[522,527]},"..."]],OverrideTopLevelTerm:["define",{sourceInterval:[495,562]},null,[],["alt",{sourceInterval:[522,562]},["app",{sourceInterval:[522,527]},"OverrideTopLevelTerm_superSplice",[]],["app",{sourceInterval:[550,562]},"TopLevelTerm",[]]]],Formals:["define",{sourceInterval:[566,606]},null,[],["seq",{sourceInterval:[580,606]},["terminal",{sourceInterval:[580,583]},"<"],["app",{sourceInterval:[584,602]},"ListOf",[["app",{sourceInterval:[591,596]},"ident",[]],["terminal",{sourceInterval:[598,601]},","]]],["terminal",{sourceInterval:[603,606]},">"]]],Params:["define",{sourceInterval:[610,647]},null,[],["seq",{sourceInterval:[623,647]},["terminal",{sourceInterval:[623,626]},"<"],["app",{sourceInterval:[627,643]},"ListOf",[["app",{sourceInterval:[634,637]},"Seq",[]],["terminal",{sourceInterval:[639,642]},","]]],["terminal",{sourceInterval:[644,647]},">"]]],Alt:["define",{sourceInterval:[651,685]},null,[],["app",{sourceInterval:[661,685]},"NonemptyListOf",[["app",{sourceInterval:[676,679]},"Seq",[]],["terminal",{sourceInterval:[681,684]},"|"]]]],Seq:["define",{sourceInterval:[689,704]},null,[],["star",{sourceInterval:[699,704]},["app",{sourceInterval:[699,703]},"Iter",[]]]],Iter_star:["define",{sourceInterval:[719,736]},null,[],["seq",{sourceInterval:[719,727]},["app",{sourceInterval:[719,723]},"Pred",[]],["terminal",{sourceInterval:[724,727]},"*"]]],Iter_plus:["define",{sourceInterval:[743,760]},null,[],["seq",{sourceInterval:[743,751]},["app",{sourceInterval:[743,747]},"Pred",[]],["terminal",{sourceInterval:[748,751]},"+"]]],Iter_opt:["define",{sourceInterval:[767,783]},null,[],["seq",{sourceInterval:[767,775]},["app",{sourceInterval:[767,771]},"Pred",[]],["terminal",{sourceInterval:[772,775]},"?"]]],Iter:["define",{sourceInterval:[708,794]},null,[],["alt",{sourceInterval:[719,794]},["app",{sourceInterval:[719,727]},"Iter_star",[]],["app",{sourceInterval:[743,751]},"Iter_plus",[]],["app",{sourceInterval:[767,775]},"Iter_opt",[]],["app",{sourceInterval:[790,794]},"Pred",[]]]],Pred_not:["define",{sourceInterval:[809,824]},null,[],["seq",{sourceInterval:[809,816]},["terminal",{sourceInterval:[809,812]},"~"],["app",{sourceInterval:[813,816]},"Lex",[]]]],Pred_lookahead:["define",{sourceInterval:[831,852]},null,[],["seq",{sourceInterval:[831,838]},["terminal",{sourceInterval:[831,834]},"&"],["app",{sourceInterval:[835,838]},"Lex",[]]]],Pred:["define",{sourceInterval:[798,862]},null,[],["alt",{sourceInterval:[809,862]},["app",{sourceInterval:[809,816]},"Pred_not",[]],["app",{sourceInterval:[831,838]},"Pred_lookahead",[]],["app",{sourceInterval:[859,862]},"Lex",[]]]],Lex_lex:["define",{sourceInterval:[876,892]},null,[],["seq",{sourceInterval:[876,884]},["terminal",{sourceInterval:[876,879]},"#"],["app",{sourceInterval:[880,884]},"Base",[]]]],Lex:["define",{sourceInterval:[866,903]},null,[],["alt",{sourceInterval:[876,903]},["app",{sourceInterval:[876,884]},"Lex_lex",[]],["app",{sourceInterval:[899,903]},"Base",[]]]],Base_application:["define",{sourceInterval:[918,979]},null,[],["seq",{sourceInterval:[918,963]},["app",{sourceInterval:[918,923]},"ident",[]],["opt",{sourceInterval:[924,931]},["app",{sourceInterval:[924,930]},"Params",[]]],["not",{sourceInterval:[932,963]},["alt",{sourceInterval:[934,962]},["seq",{sourceInterval:[934,948]},["opt",{sourceInterval:[934,944]},["app",{sourceInterval:[934,943]},"ruleDescr",[]]],["terminal",{sourceInterval:[945,948]},"="]],["terminal",{sourceInterval:[951,955]},":="],["terminal",{sourceInterval:[958,962]},"+="]]]]],Base_range:["define",{sourceInterval:[986,1041]},null,[],["seq",{sourceInterval:[986,1022]},["app",{sourceInterval:[986,1001]},"oneCharTerminal",[]],["terminal",{sourceInterval:[1002,1006]},".."],["app",{sourceInterval:[1007,1022]},"oneCharTerminal",[]]]],Base_terminal:["define",{sourceInterval:[1048,1106]},null,[],["app",{sourceInterval:[1048,1056]},"terminal",[]]],Base_paren:["define",{sourceInterval:[1113,1168]},null,[],["seq",{sourceInterval:[1113,1124]},["terminal",{sourceInterval:[1113,1116]},"("],["app",{sourceInterval:[1117,1120]},"Alt",[]],["terminal",{sourceInterval:[1121,1124]},")"]]],Base:["define",{sourceInterval:[907,1168]},null,[],["alt",{sourceInterval:[918,1168]},["app",{sourceInterval:[918,963]},"Base_application",[]],["app",{sourceInterval:[986,1022]},"Base_range",[]],["app",{sourceInterval:[1048,1056]},"Base_terminal",[]],["app",{sourceInterval:[1113,1124]},"Base_paren",[]]]],ruleDescr:["define",{sourceInterval:[1172,1231]},"a rule description",[],["seq",{sourceInterval:[1210,1231]},["terminal",{sourceInterval:[1210,1213]},"("],["app",{sourceInterval:[1214,1227]},"ruleDescrText",[]],["terminal",{sourceInterval:[1228,1231]},")"]]],ruleDescrText:["define",{sourceInterval:[1235,1266]},null,[],["star",{sourceInterval:[1255,1266]},["seq",{sourceInterval:[1256,1264]},["not",{sourceInterval:[1256,1260]},["terminal",{sourceInterval:[1257,1260]},")"]],["app",{sourceInterval:[1261,1264]},"any",[]]]]],caseName:["define",{sourceInterval:[1270,1338]},null,[],["seq",{sourceInterval:[1285,1338]},["terminal",{sourceInterval:[1285,1289]},"--"],["star",{sourceInterval:[1290,1304]},["seq",{sourceInterval:[1291,1302]},["not",{sourceInterval:[1291,1296]},["terminal",{sourceInterval:[1292,1296]},"\n"]],["app",{sourceInterval:[1297,1302]},"space",[]]]],["app",{sourceInterval:[1305,1309]},"name",[]],["star",{sourceInterval:[1310,1324]},["seq",{sourceInterval:[1311,1322]},["not",{sourceInterval:[1311,1316]},["terminal",{sourceInterval:[1312,1316]},"\n"]],["app",{sourceInterval:[1317,1322]},"space",[]]]],["alt",{sourceInterval:[1326,1337]},["terminal",{sourceInterval:[1326,1330]},"\n"],["lookahead",{sourceInterval:[1333,1337]},["terminal",{sourceInterval:[1334,1337]},"}"]]]]],name:["define",{sourceInterval:[1342,1382]},"a name",[],["seq",{sourceInterval:[1363,1382]},["app",{sourceInterval:[1363,1372]},"nameFirst",[]],["star",{sourceInterval:[1373,1382]},["app",{sourceInterval:[1373,1381]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[1386,1418]},null,[],["alt",{sourceInterval:[1402,1418]},["terminal",{sourceInterval:[1402,1405]},"_"],["app",{sourceInterval:[1412,1418]},"letter",[]]]],nameRest:["define",{sourceInterval:[1422,1452]},null,[],["alt",{sourceInterval:[1437,1452]},["terminal",{sourceInterval:[1437,1440]},"_"],["app",{sourceInterval:[1447,1452]},"alnum",[]]]],ident:["define",{sourceInterval:[1456,1489]},"an identifier",[],["app",{sourceInterval:[1485,1489]},"name",[]]],terminal:["define",{sourceInterval:[1493,1531]},null,[],["seq",{sourceInterval:[1508,1531]},["terminal",{sourceInterval:[1508,1512]},'"'],["star",{sourceInterval:[1513,1526]},["app",{sourceInterval:[1513,1525]},"terminalChar",[]]],["terminal",{sourceInterval:[1527,1531]},'"']]],oneCharTerminal:["define",{sourceInterval:[1535,1579]},null,[],["seq",{sourceInterval:[1557,1579]},["terminal",{sourceInterval:[1557,1561]},'"'],["app",{sourceInterval:[1562,1574]},"terminalChar",[]],["terminal",{sourceInterval:[1575,1579]},'"']]],terminalChar:["define",{sourceInterval:[1583,1660]},null,[],["alt",{sourceInterval:[1602,1660]},["app",{sourceInterval:[1602,1612]},"escapeChar",[]],["seq",{sourceInterval:[1621,1660]},["not",{sourceInterval:[1621,1626]},["terminal",{sourceInterval:[1622,1626]},"\\"]],["not",{sourceInterval:[1627,1632]},["terminal",{sourceInterval:[1628,1632]},'"']],["not",{sourceInterval:[1633,1638]},["terminal",{sourceInterval:[1634,1638]},"\n"]],["range",{sourceInterval:[1639,1660]},"\0","􏿿"]]]],escapeChar_backslash:["define",{sourceInterval:[1703,1758]},null,[],["terminal",{sourceInterval:[1703,1709]},"\\\\"]],escapeChar_doubleQuote:["define",{sourceInterval:[1765,1822]},null,[],["terminal",{sourceInterval:[1765,1771]},'\\"']],escapeChar_singleQuote:["define",{sourceInterval:[1829,1886]},null,[],["terminal",{sourceInterval:[1829,1835]},"\\'"]],escapeChar_backspace:["define",{sourceInterval:[1893,1948]},null,[],["terminal",{sourceInterval:[1893,1898]},"\\b"]],escapeChar_lineFeed:["define",{sourceInterval:[1955,2009]},null,[],["terminal",{sourceInterval:[1955,1960]},"\\n"]],escapeChar_carriageReturn:["define",{sourceInterval:[2016,2076]},null,[],["terminal",{sourceInterval:[2016,2021]},"\\r"]],escapeChar_tab:["define",{sourceInterval:[2083,2132]},null,[],["terminal",{sourceInterval:[2083,2088]},"\\t"]],escapeChar_unicodeCodePoint:["define",{sourceInterval:[2139,2243]},null,[],["seq",{sourceInterval:[2139,2221]},["terminal",{sourceInterval:[2139,2145]},"\\u{"],["app",{sourceInterval:[2146,2154]},"hexDigit",[]],["opt",{sourceInterval:[2155,2164]},["app",{sourceInterval:[2155,2163]},"hexDigit",[]]],["opt",{sourceInterval:[2165,2174]},["app",{sourceInterval:[2165,2173]},"hexDigit",[]]],["opt",{sourceInterval:[2188,2197]},["app",{sourceInterval:[2188,2196]},"hexDigit",[]]],["opt",{sourceInterval:[2198,2207]},["app",{sourceInterval:[2198,2206]},"hexDigit",[]]],["opt",{sourceInterval:[2208,2217]},["app",{sourceInterval:[2208,2216]},"hexDigit",[]]],["terminal",{sourceInterval:[2218,2221]},"}"]]],escapeChar_unicodeEscape:["define",{sourceInterval:[2250,2309]},null,[],["seq",{sourceInterval:[2250,2291]},["terminal",{sourceInterval:[2250,2255]},"\\u"],["app",{sourceInterval:[2256,2264]},"hexDigit",[]],["app",{sourceInterval:[2265,2273]},"hexDigit",[]],["app",{sourceInterval:[2274,2282]},"hexDigit",[]],["app",{sourceInterval:[2283,2291]},"hexDigit",[]]]],escapeChar_hexEscape:["define",{sourceInterval:[2316,2371]},null,[],["seq",{sourceInterval:[2316,2339]},["terminal",{sourceInterval:[2316,2321]},"\\x"],["app",{sourceInterval:[2322,2330]},"hexDigit",[]],["app",{sourceInterval:[2331,2339]},"hexDigit",[]]]],escapeChar:["define",{sourceInterval:[1664,2371]},"an escape sequence",[],["alt",{sourceInterval:[1703,2371]},["app",{sourceInterval:[1703,1709]},"escapeChar_backslash",[]],["app",{sourceInterval:[1765,1771]},"escapeChar_doubleQuote",[]],["app",{sourceInterval:[1829,1835]},"escapeChar_singleQuote",[]],["app",{sourceInterval:[1893,1898]},"escapeChar_backspace",[]],["app",{sourceInterval:[1955,1960]},"escapeChar_lineFeed",[]],["app",{sourceInterval:[2016,2021]},"escapeChar_carriageReturn",[]],["app",{sourceInterval:[2083,2088]},"escapeChar_tab",[]],["app",{sourceInterval:[2139,2221]},"escapeChar_unicodeCodePoint",[]],["app",{sourceInterval:[2250,2291]},"escapeChar_unicodeEscape",[]],["app",{sourceInterval:[2316,2339]},"escapeChar_hexEscape",[]]]],space:["extend",{sourceInterval:[2375,2394]},null,[],["app",{sourceInterval:[2387,2394]},"comment",[]]],comment_singleLine:["define",{sourceInterval:[2412,2458]},null,[],["seq",{sourceInterval:[2412,2443]},["terminal",{sourceInterval:[2412,2416]},"//"],["star",{sourceInterval:[2417,2429]},["seq",{sourceInterval:[2418,2427]},["not",{sourceInterval:[2418,2423]},["terminal",{sourceInterval:[2419,2423]},"\n"]],["app",{sourceInterval:[2424,2427]},"any",[]]]],["lookahead",{sourceInterval:[2430,2443]},["alt",{sourceInterval:[2432,2442]},["terminal",{sourceInterval:[2432,2436]},"\n"],["app",{sourceInterval:[2439,2442]},"end",[]]]]]],comment_multiLine:["define",{sourceInterval:[2465,2501]},null,[],["seq",{sourceInterval:[2465,2487]},["terminal",{sourceInterval:[2465,2469]},"/*"],["star",{sourceInterval:[2470,2482]},["seq",{sourceInterval:[2471,2480]},["not",{sourceInterval:[2471,2476]},["terminal",{sourceInterval:[2472,2476]},"*/"]],["app",{sourceInterval:[2477,2480]},"any",[]]]],["terminal",{sourceInterval:[2483,2487]},"*/"]]],comment:["define",{sourceInterval:[2398,2501]},null,[],["alt",{sourceInterval:[2412,2501]},["app",{sourceInterval:[2412,2443]},"comment_singleLine",[]],["app",{sourceInterval:[2465,2487]},"comment_multiLine",[]]]],tokens:["define",{sourceInterval:[2505,2520]},null,[],["star",{sourceInterval:[2514,2520]},["app",{sourceInterval:[2514,2519]},"token",[]]]],token:["define",{sourceInterval:[2524,2600]},null,[],["alt",{sourceInterval:[2532,2600]},["app",{sourceInterval:[2532,2540]},"caseName",[]],["app",{sourceInterval:[2543,2550]},"comment",[]],["app",{sourceInterval:[2553,2558]},"ident",[]],["app",{sourceInterval:[2561,2569]},"operator",[]],["app",{sourceInterval:[2572,2583]},"punctuation",[]],["app",{sourceInterval:[2586,2594]},"terminal",[]],["app",{sourceInterval:[2597,2600]},"any",[]]]],operator:["define",{sourceInterval:[2604,2669]},null,[],["alt",{sourceInterval:[2615,2669]},["terminal",{sourceInterval:[2615,2619]},"<:"],["terminal",{sourceInterval:[2622,2625]},"="],["terminal",{sourceInterval:[2628,2632]},":="],["terminal",{sourceInterval:[2635,2639]},"+="],["terminal",{sourceInterval:[2642,2645]},"*"],["terminal",{sourceInterval:[2648,2651]},"+"],["terminal",{sourceInterval:[2654,2657]},"?"],["terminal",{sourceInterval:[2660,2663]},"~"],["terminal",{sourceInterval:[2666,2669]},"&"]]],punctuation:["define",{sourceInterval:[2673,2709]},null,[],["alt",{sourceInterval:[2687,2709]},["terminal",{sourceInterval:[2687,2690]},"<"],["terminal",{sourceInterval:[2693,2696]},">"],["terminal",{sourceInterval:[2699,2702]},","],["terminal",{sourceInterval:[2705,2709]},"--"]]]}]);const Ge=Object.create(b.prototype);function We(e,t){for(const r in e)if(r===t)return!0;return!1}function Ve(e,t,r){const n=new Me;let s,a,o,l=!1;const u=(r||Be).createSemantics().addOperation("visit",{Grammars:e=>e.children.map((e=>e.visit())),Grammar(e,r,i,a,o){const l=e.visit();s=n.newGrammar(l),r.child(0)&&r.child(0).visit(),a.children.map((e=>e.visit()));const u=s.build();if(u.source=this.source.trimmed(),We(t,l))throw function(e){return H("Grammar "+e.name+" is already declared in this namespace")}(u);return t[l]=u,u},SuperGrammar(e,r){const i=r.visit();if("null"===i)s.withSuperGrammar(null);else{if(!t||!We(t,i))throw function(e,t,r){return H(t?`Grammar ${e} is not declared in namespace '${t}'`:"Undeclared grammar "+e,r)}(i,t,r.source);s.withSuperGrammar(t[i])}},Rule_define(e,t,r,i,n){a=e.visit(),o=t.children.map((e=>e.visit()))[0]||[],s.defaultStartRule||s.ensureSuperGrammar()===Pe.ProtoBuiltInRules||s.withDefaultStartRule(a);const l=n.visit(),u=r.children.map((e=>e.visit()))[0],c=this.source.trimmed();return s.define(a,o,l,u,c)},Rule_override(e,t,r,i){a=e.visit(),o=t.children.map((e=>e.visit()))[0]||[];const n=this.source.trimmed();s.ensureSuperGrammarRuleForOverriding(a,n),l=!0;const u=i.visit();return l=!1,s.override(a,o,u,null,n)},Rule_extend(e,t,r,i){a=e.visit(),o=t.children.map((e=>e.visit()))[0]||[];const n=i.visit(),l=this.source.trimmed();return s.extend(a,o,n,null,l)},RuleBody(e,t){return n.alt(...t.visit()).withSource(this.source)},OverrideRuleBody(e,t){const r=t.visit(),i=r.indexOf(Ge);if(i>=0){const e=r.slice(0,i),t=r.slice(i+1);return t.forEach((e=>{if(e===Ge)throw H("'...' can appear at most once in a rule body",e.source)})),new E(s.superGrammar,a,e,t).withSource(this.source)}return n.alt(...r).withSource(this.source)},Formals:(e,t,r)=>t.visit(),Params:(e,t,r)=>t.visit(),Alt(e){return n.alt(...e.visit()).withSource(this.source)},TopLevelTerm_inline(e,t){const r=a+"_"+t.visit(),i=e.visit(),u=this.source.trimmed(),c=!(s.superGrammar&&s.superGrammar.rules[r]);l&&!c?s.override(r,o,i,null,u):s.define(r,o,i,null,u);const p=o.map((e=>n.app(e)));return n.app(r,p).withSource(i.source)},OverrideTopLevelTerm_superSplice:e=>Ge,Seq(e){return n.seq(...e.children.map((e=>e.visit()))).withSource(this.source)},Iter_star(e,t){return n.star(e.visit()).withSource(this.source)},Iter_plus(e,t){return n.plus(e.visit()).withSource(this.source)},Iter_opt(e,t){return n.opt(e.visit()).withSource(this.source)},Pred_not(e,t){return n.not(t.visit()).withSource(this.source)},Pred_lookahead(e,t){return n.lookahead(t.visit()).withSource(this.source)},Lex_lex(e,t){return n.lex(t.visit()).withSource(this.source)},Base_application(e,t){const r=t.children.map((e=>e.visit()))[0]||[];return n.app(e.visit(),r).withSource(this.source)},Base_range(e,t,r){return n.range(e.visit(),r.visit()).withSource(this.source)},Base_terminal(e){return n.terminal(e.visit()).withSource(this.source)},Base_paren:(e,t,r)=>t.visit(),ruleDescr:(e,t,r)=>t.visit(),ruleDescrText(e){return this.sourceString.trim()},caseName:(e,t,r,i,n)=>r.visit(),name(e,t){return this.sourceString},nameFirst(e){},nameRest(e){},terminal:(e,t,r)=>t.children.map((e=>e.visit())).join(""),oneCharTerminal:(e,t,r)=>t.visit(),escapeChar(e){try{return g(this.sourceString)}catch(t){if(t instanceof RangeError&&t.message.startsWith("Invalid code point "))throw function(e){const t=e._node;i(t&&t.isNonterminal()&&"escapeChar_unicodeCodePoint"===t.ctorName);const r=e.children.slice(1,-1).map((e=>e.source)),n=r[0].coverageWith(...r.slice(1));return H(`U+${n.contents} is not a valid Unicode code point`,n)}(e);throw t}},NonemptyListOf:(e,t,r)=>[e.visit()].concat(r.children.map((e=>e.visit()))),EmptyListOf:()=>[],_terminal(){return this.sourceString}});return u(e).visit()}var Ue=Fe(["grammar",{source:'OperationsAndAttributes {\n\n  AttributeSignature =\n    name\n\n  OperationSignature =\n    name Formals?\n\n  Formals\n    = "(" ListOf<name, ","> ")"\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n}'},"OperationsAndAttributes",null,"AttributeSignature",{AttributeSignature:["define",{sourceInterval:[29,58]},null,[],["app",{sourceInterval:[54,58]},"name",[]]],OperationSignature:["define",{sourceInterval:[62,100]},null,[],["seq",{sourceInterval:[87,100]},["app",{sourceInterval:[87,91]},"name",[]],["opt",{sourceInterval:[92,100]},["app",{sourceInterval:[92,99]},"Formals",[]]]]],Formals:["define",{sourceInterval:[104,143]},null,[],["seq",{sourceInterval:[118,143]},["terminal",{sourceInterval:[118,121]},"("],["app",{sourceInterval:[122,139]},"ListOf",[["app",{sourceInterval:[129,133]},"name",[]],["terminal",{sourceInterval:[135,138]},","]]],["terminal",{sourceInterval:[140,143]},")"]]],name:["define",{sourceInterval:[147,187]},"a name",[],["seq",{sourceInterval:[168,187]},["app",{sourceInterval:[168,177]},"nameFirst",[]],["star",{sourceInterval:[178,187]},["app",{sourceInterval:[178,186]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[191,223]},null,[],["alt",{sourceInterval:[207,223]},["terminal",{sourceInterval:[207,210]},"_"],["app",{sourceInterval:[217,223]},"letter",[]]]],nameRest:["define",{sourceInterval:[227,257]},null,[],["alt",{sourceInterval:[242,257]},["terminal",{sourceInterval:[242,245]},"_"],["app",{sourceInterval:[252,257]},"alnum",[]]]]}]);!function(e){const t={empty(){return this.iteration()},nonEmpty(e,t,r){return this.iteration([e].concat(r.children))},self(...e){return this}};Ce.BuiltInSemantics=Ce.createSemantics(e,null).addOperation("asIteration",{emptyListOf:t.empty,nonemptyListOf:t.nonEmpty,EmptyListOf:t.empty,NonemptyListOf:t.nonEmpty,_iter:t.self})}(Pe.BuiltInRules),function(e){Ce.prototypeGrammarSemantics=e.createSemantics().addOperation("parse",{AttributeSignature:e=>({name:e.parse(),formals:[]}),OperationSignature:(e,t)=>({name:e.parse(),formals:t.children.map((e=>e.parse()))[0]||[]}),Formals:(e,t,r)=>t.asIteration().children.map((e=>e.parse())),name(e,t){return this.sourceString}}),Ce.prototypeGrammar=e}(Ue);const $e="an indented block",ze="a dedent",Ke=1114112;class Qe extends re{constructor(e){super(e.input),this.state=e}_indentationAt(e){return this.state.userData[e]||0}atEnd(){return super.atEnd()&&0===this._indentationAt(this.pos)}next(){if(0===this._indentationAt(this.pos))return super.next();this.examinedLength=Math.max(this.examinedLength,this.pos)}nextCharCode(){return 0!==this._indentationAt(this.pos)?(this.examinedLength=Math.max(this.examinedLength,this.pos),Ke):super.nextCharCode()}nextCodePoint(){return 0!==this._indentationAt(this.pos)?(this.examinedLength=Math.max(this.examinedLength,this.pos),Ke):super.nextCodePoint()}}class Ye extends b{constructor(e=!0){super(),this.isIndent=e}allowsSkippingPrecedingSpace(){return!0}eval(e){const{inputStream:t}=e,r=e.userData;e.doNotMemoize=!0;const i=t.pos,n=this.isIndent?1:-1;return(r[i]||0)*n>0?(e.userData=Object.create(r),e.userData[i]-=n,e.pushBinding(new pe(0),i),!0):(e.processFailure(i,this),!1)}getArity(){return 1}_assertAllApplicationsAreValid(e,t){}_isNullable(e,t){return!1}assertChoicesHaveUniformArity(e){}assertIteratedExprsAreNotNullable(e){}introduceParams(e){return this}substituteParams(e){return this}toString(){return this.isIndent?"indent":"dedent"}toDisplayString(){return this.toString()}toFailure(e){const t=this.isIndent?$e:ze;return new ye(this,t,"description")}}const Je=new M("indent"),Ze=new M("dedent"),Xe=new E(je,"any",[Je,Ze],[]),et=(new Me).newGrammar("IndentationSensitive").withSuperGrammar(je).define("indent",[],new Ye(!0),$e,void 0,!0).define("dedent",[],new Ye(!1),ze,void 0,!0).extend("any",[],Xe,"any character",void 0).build();function tt(e,t){const r=Object.create(t||{});if("string"!=typeof e){if(!(i=e).constructor||"function"!=typeof i.constructor.isBuffer||!i.constructor.isBuffer(i))throw new TypeError("Expected string as first argument, got "+f(e));e=e.toString()}var i;return function(e,t){const r=Be.match(e,"Grammars");if(r.failed())throw function(e){const t=new Error;return Object.defineProperty(t,"message",{enumerable:!0,get:()=>e.message}),Object.defineProperty(t,"shortMessage",{enumerable:!0,get:()=>"Expected "+e.getExpectedText()}),t.interval=e.getInterval(),t}(r);Ve(r,t)}(e,r),r}Object.assign(et,{_matchStateInitializer(e){e.userData=function(e){let t=0;const r=[0],i=()=>r[r.length-1],n={},s=/( *).*(?:$|\r?\n|\r)/g;let a;for(;null!=(a=s.exec(e));){const[e,s]=a;if(0===e.length)break;const o=s.length,l=i(),u=t+o;if(o>l)r.push(o),n[u]=1;else if(o<l){const e=r.length;for(;i()!==o;)r.pop();n[u]=-1*(e-r.length)}t+=e.length}return r.length>1&&(n[t]=1-r.length),n}(e.input),e.inputStream=new Qe(e)},supportsIncrementalParsing:!1}),Pe.initApplicationParser(Be,Ve),t.ExperimentalIndentationSensitive=et,t._buildGrammar=Ve,t.grammar=function(e,t){const r=tt(e,t),i=Object.keys(r);if(0===i.length)throw new Error("Missing grammar definition");if(i.length>1){const e=r[i[1]].source;throw new Error(X(e.sourceString,e.startIdx)+"Found more than one grammar definition -- use ohm.grammars() instead.")}return r[i[0]]},t.grammars=tt,t.makeRecipe=Fe,t.ohmGrammar=Be,t.pexprs=ve,t.version="17.2.1"},127:e=>{"use strict";e.exports=JSON.parse('[{"selectorText":"[hidden], area, base, basefont, datalist, head, link, meta,\\nnoembed, noframes, param, rp, script, source, style, template, track, title","type":"CSSStyleRule","style":{"display":"none"}},{"selectorText":"embed[hidden]","type":"CSSStyleRule","style":{"display":"inline","height":"0","width":"0"}},{"selectorText":"input[type=hidden i]","type":"CSSStyleRule","style":{"display":"none"}},{"selectorText":"html, body","type":"CSSStyleRule","style":{"display":"block"}},{"selectorText":"address, blockquote, center, div, figure, figcaption, footer, form, header, hr,\\nlegend, listing, main, p, plaintext, pre, xmp","type":"CSSStyleRule","style":{"display":"block"}},{"selectorText":"blockquote, figure, listing, p, plaintext, pre, xmp","type":"CSSStyleRule","style":{"margin-block-start":"1em","margin-block-end":"1em"}},{"selectorText":"blockquote, figure","type":"CSSStyleRule","style":{"margin-inline-start":"40px","margin-inline-end":"40px"}},{"selectorText":"address","type":"CSSStyleRule","style":{"font-style":"italic"}},{"selectorText":"listing, plaintext, pre, xmp","type":"CSSStyleRule","style":{"font-family":"monospace","white-space":"pre"}},{"selectorText":"dialog:not([open])","type":"CSSStyleRule","style":{"display":"none"}},{"selectorText":"dialog","type":"CSSStyleRule","style":{"position":"absolute","left":"0","right":"0","width":"fit-content","height":"fit-content","margin":"auto","border":"solid","padding":"1em","background":"white","color":"black"}},{"selectorText":"dialog::backdrop","type":"CSSStyleRule","style":{"background":"rgba(0,0,0,0.1)"}},{"selectorText":"slot","type":"CSSStyleRule","style":{"display":"contents"}},{"selectorText":"pre[wrap]","type":"CSSStyleRule","style":{"white-space":"pre-wrap"}},{"selectorText":"form","type":"CSSStyleRule","style":{"margin-block-end":"1em"}},{"selectorText":"cite, dfn, em, i, var","type":"CSSStyleRule","style":{"font-style":"italic"}},{"selectorText":"b, strong","type":"CSSStyleRule","style":{"font-weight":"bolder"}},{"selectorText":"code, kbd, samp, tt","type":"CSSStyleRule","style":{"font-family":"monospace"}},{"selectorText":"big","type":"CSSStyleRule","style":{"font-size":"larger"}},{"selectorText":"small","type":"CSSStyleRule","style":{"font-size":"smaller"}},{"selectorText":"sub","type":"CSSStyleRule","style":{"vertical-align":"sub"}},{"selectorText":"sup","type":"CSSStyleRule","style":{"vertical-align":"super"}},{"selectorText":"sub, sup","type":"CSSStyleRule","style":{"line-height":"normal","font-size":"smaller"}},{"selectorText":"ruby","type":"CSSStyleRule","style":{"display":"ruby"}},{"selectorText":"rt","type":"CSSStyleRule","style":{"display":"ruby-text"}},{"selectorText":":link","type":"CSSStyleRule","style":{"color":"#0000EE"}},{"selectorText":":visited","type":"CSSStyleRule","style":{"color":"#551A8B"}},{"selectorText":":link:active, :visited:active","type":"CSSStyleRule","style":{"color":"#FF0000"}},{"selectorText":":link, :visited","type":"CSSStyleRule","style":{"text-decoration":"underline","cursor":"pointer"}},{"selectorText":"a:link[rel~=help], a:visited[rel~=help],\\narea:link[rel~=help], area:visited[rel~=help]","type":"CSSStyleRule","style":{"cursor":"help"}},{"selectorText":":focus","type":"CSSStyleRule","style":{"outline":"auto"}},{"selectorText":"mark","type":"CSSStyleRule","style":{"background":"yellow","color":"black"}},{"selectorText":"abbr[title], acronym[title]","type":"CSSStyleRule","style":{"text-decoration":"dotted underline"}},{"selectorText":"ins, u","type":"CSSStyleRule","style":{"text-decoration":"underline"}},{"selectorText":"del, s, strike","type":"CSSStyleRule","style":{"text-decoration":"line-through"}},{"selectorText":"blink","type":"CSSStyleRule","style":{"text-decoration":"blink"}},{"selectorText":"q::before","type":"CSSStyleRule","style":{"content":"open-quote"}},{"selectorText":"q::after","type":"CSSStyleRule","style":{"content":"close-quote"}},{"selectorText":"br","type":"CSSStyleRule","style":{"display-outside":"newline"}},{"selectorText":"nobr","type":"CSSStyleRule","style":{"white-space":"nowrap"}},{"selectorText":"wbr","type":"CSSStyleRule","style":{"display-outside":"break-opportunity"}},{"selectorText":"nobr wbr","type":"CSSStyleRule","style":{"white-space":"normal"}},{"selectorText":"br[clear=left i]","type":"CSSStyleRule","style":{"clear":"left"}},{"selectorText":"br[clear=right i]","type":"CSSStyleRule","style":{"clear":"right"}},{"selectorText":"br[clear=all i], br[clear=both i]","type":"CSSStyleRule","style":{"clear":"both"}},{"selectorText":"[dir]:dir(ltr), bdi:dir(ltr), input[type=tel i]:dir(ltr)","type":"CSSStyleRule","style":{"direction":"ltr"}},{"selectorText":"[dir]:dir(rtl), bdi:dir(rtl)","type":"CSSStyleRule","style":{"direction":"rtl"}},{"selectorText":"address, blockquote, center, div, figure, figcaption, footer, form, header, hr,\\nlegend, listing, main, p, plaintext, pre, summary, xmp, article, aside, h1, h2,\\nh3, h4, h5, h6, hgroup, nav, section, table, caption, colgroup, col, thead,\\ntbody, tfoot, tr, td, th, dir, dd, dl, dt, ol, ul, li, bdi, output,\\n[dir=ltr i], [dir=rtl i], [dir=auto i]","type":"CSSStyleRule","style":{"unicode-bidi":"isolate"}},{"selectorText":"bdo, bdo[dir]","type":"CSSStyleRule","style":{"unicode-bidi":"isolate-override"}},{"selectorText":"input[dir=auto i][type=search i], input[dir=auto i][type=tel i], input[dir=auto i][type=url i], input[dir=auto i][type=email i], textarea[dir=auto i], pre[dir=auto i]","type":"CSSStyleRule","style":{"unicode-bidi":"plaintext"}},{"selectorText":"address, blockquote, center, div, figure, figcaption, footer, form, header, hr,\\nlegend, listing, main, p, plaintext, pre, summary, xmp, article, aside, h1, h2,\\nh3, h4, h5, h6, hgroup, nav, section, table, caption, colgroup, col, thead,\\ntbody, tfoot, tr, td, th, dir, dd, dl, dt, ol, ul, li, [dir=ltr i],\\n[dir=rtl i], [dir=auto i], *|*","type":"CSSStyleRule","style":{"unicode-bidi":"bidi-override"}},{"selectorText":"input:not([type=submit i]):not([type=reset i]):not([type=button i]),\\ntextarea","type":"CSSStyleRule","style":{"unicode-bidi":"normal"}},{"selectorText":"article, aside, h1, h2, h3, h4, h5, h6, hgroup, nav, section","type":"CSSStyleRule","style":{"display":"block"}},{"selectorText":"h1","type":"CSSStyleRule","style":{"margin-block-start":"0.67em","margin-block-end":"0.67em","font-size":"2.00em","font-weight":"bold"}},{"selectorText":"h2","type":"CSSStyleRule","style":{"margin-block-start":"0.83em","margin-block-end":"0.83em","font-size":"1.50em","font-weight":"bold"}},{"selectorText":"h3","type":"CSSStyleRule","style":{"margin-block-start":"1.00em","margin-block-end":"1.00em","font-size":"1.17em","font-weight":"bold"}},{"selectorText":"h4","type":"CSSStyleRule","style":{"margin-block-start":"1.33em","margin-block-end":"1.33em","font-size":"1.00em","font-weight":"bold"}},{"selectorText":"h5","type":"CSSStyleRule","style":{"margin-block-start":"1.67em","margin-block-end":"1.67em","font-size":"0.83em","font-weight":"bold"}},{"selectorText":"h6","type":"CSSStyleRule","style":{"margin-block-start":"2.33em","margin-block-end":"2.33em","font-size":"0.67em","font-weight":"bold"}},{"selectorText":"x h1","type":"CSSStyleRule","style":{"margin-block-start":"0.83em","margin-block-end":"0.83em","font-size":"1.50em"}},{"selectorText":"x x h1","type":"CSSStyleRule","style":{"margin-block-start":"1.00em","margin-block-end":"1.00em","font-size":"1.17em"}},{"selectorText":"x x x h1","type":"CSSStyleRule","style":{"margin-block-start":"1.33em","margin-block-end":"1.33em","font-size":"1.00em"}},{"selectorText":"x x x x h1","type":"CSSStyleRule","style":{"margin-block-start":"1.67em","margin-block-end":"1.67em","font-size":"0.83em"}},{"selectorText":"x x x x x h1","type":"CSSStyleRule","style":{"margin-block-start":"2.33em","margin-block-end":"2.33em","font-size":"0.67em"}},{"selectorText":"x hgroup > h1 ~ h2","type":"CSSStyleRule","style":{"margin-block-start":"1.00em","margin-block-end":"1.00em","font-size":"1.17em"}},{"selectorText":"x x hgroup > h1 ~ h2","type":"CSSStyleRule","style":{"margin-block-start":"1.33em","margin-block-end":"1.33em","font-size":"1.00em"}},{"selectorText":"x x x hgroup > h1 ~ h2","type":"CSSStyleRule","style":{"margin-block-start":"1.67em","margin-block-end":"1.67em","font-size":"0.83em"}},{"selectorText":"x x x x hgroup > h1 ~ h2","type":"CSSStyleRule","style":{"margin-block-start":"2.33em","margin-block-end":"2.33em","font-size":"0.67em"}},{"selectorText":"x hgroup > h1 ~ h3","type":"CSSStyleRule","style":{"margin-block-start":"1.33em","margin-block-end":"1.33em","font-size":"1.00em"}},{"selectorText":"x x hgroup > h1 ~ h3","type":"CSSStyleRule","style":{"margin-block-start":"1.67em","margin-block-end":"1.67em","font-size":"0.83em"}},{"selectorText":"x x x hgroup > h1 ~ h3","type":"CSSStyleRule","style":{"margin-block-start":"2.33em","margin-block-end":"2.33em","font-size":"0.67em"}},{"selectorText":"x hgroup > h1 ~ h4","type":"CSSStyleRule","style":{"margin-block-start":"1.67em","margin-block-end":"1.67em","font-size":"0.83em"}},{"selectorText":"x x hgroup > h1 ~ h4","type":"CSSStyleRule","style":{"margin-block-start":"2.33em","margin-block-end":"2.33em","font-size":"0.67em"}},{"selectorText":"x hgroup > h1 ~ h5","type":"CSSStyleRule","style":{"margin-block-start":"2.33em","margin-block-end":"2.33em","font-size":"0.67em"}},{"selectorText":"dir, dd, dl, dt, ol, ul","type":"CSSStyleRule","style":{"display":"block"}},{"selectorText":"li","type":"CSSStyleRule","style":{"display":"list-item"}},{"selectorText":"dir, dl, ol, ul","type":"CSSStyleRule","style":{"margin-block-start":"1em","margin-block-end":"1em"}},{"selectorText":"dir dir, dl dir, ol dir, ul dir, dir dl, dl dl, ol dl, ul dl, dir ol, dl ol, ol ol, ul ol, dir ul, dl ul, ol ul, ul ul","type":"CSSStyleRule","style":{"margin-block-start":"0","margin-block-end":"0"}},{"selectorText":"dd","type":"CSSStyleRule","style":{"margin-inline-start":"40px"}},{"selectorText":"dir, ol, ul","type":"CSSStyleRule","style":{"padding-inline-start":"40px"}},{"selectorText":"ol","type":"CSSStyleRule","style":{"list-style-type":"decimal"}},{"selectorText":"dir, ul","type":"CSSStyleRule","style":{"list-style-type":"disc"}},{"selectorText":"dir dir, ol dir, ul dir, dir ul, ol ul, ul ul","type":"CSSStyleRule","style":{"list-style-type":"circle"}},{"selectorText":"dir dir dir, ol dir dir, ul dir dir, dir ol dir, ol ol dir, ul ol dir, dir ul dir, ol ul dir, ul ul dir, dir dir ul, ol dir ul, ul dir ul, dir ol ul, ol ol ul, ul ol ul, dir ul ul, ol ul ul, ul ul ul","type":"CSSStyleRule","style":{"list-style-type":"square"}},{"selectorText":"ol[type=\\"1\\"], li[type=\\"1\\"]","type":"CSSStyleRule","style":{"list-style-type":"decimal"}},{"selectorText":"ol[type=a], li[type=a]","type":"CSSStyleRule","style":{"list-style-type":"lower-alpha"}},{"selectorText":"ol[type=A], li[type=A]","type":"CSSStyleRule","style":{"list-style-type":"upper-alpha"}},{"selectorText":"ol[type=i], li[type=i]","type":"CSSStyleRule","style":{"list-style-type":"lower-roman"}},{"selectorText":"ol[type=I], li[type=I]","type":"CSSStyleRule","style":{"list-style-type":"upper-roman"}},{"selectorText":"ul[type=none i], li[type=none i]","type":"CSSStyleRule","style":{"list-style-type":"none"}},{"selectorText":"ul[type=disc i], li[type=disc i]","type":"CSSStyleRule","style":{"list-style-type":"disc"}},{"selectorText":"ul[type=circle i], li[type=circle i]","type":"CSSStyleRule","style":{"list-style-type":"circle"}},{"selectorText":"ul[type=square i], li[type=square i]","type":"CSSStyleRule","style":{"list-style-type":"square"}},{"selectorText":"table","type":"CSSStyleRule","style":{"display":"table"}},{"selectorText":"caption","type":"CSSStyleRule","style":{"display":"table-caption"}},{"selectorText":"colgroup, colgroup[hidden]","type":"CSSStyleRule","style":{"display":"table-column-group"}},{"selectorText":"col, col[hidden]","type":"CSSStyleRule","style":{"display":"table-column"}},{"selectorText":"thead, thead[hidden]","type":"CSSStyleRule","style":{"display":"table-header-group"}},{"selectorText":"tbody, tbody[hidden]","type":"CSSStyleRule","style":{"display":"table-row-group"}},{"selectorText":"tfoot, tfoot[hidden]","type":"CSSStyleRule","style":{"display":"table-footer-group"}},{"selectorText":"tr, tr[hidden]","type":"CSSStyleRule","style":{"display":"table-row"}},{"selectorText":"td, th, td[hidden], th[hidden]","type":"CSSStyleRule","style":{"display":"table-cell"}},{"selectorText":"colgroup[hidden], col[hidden], thead[hidden], tbody[hidden],\\ntfoot[hidden], tr[hidden], td[hidden], th[hidden]","type":"CSSStyleRule","style":{"visibility":"collapse"}},{"selectorText":"table","type":"CSSStyleRule","style":{"box-sizing":"border-box","border-spacing":"2px","border-collapse":"separate","text-indent":"initial"}},{"selectorText":"td, th","type":"CSSStyleRule","style":{"padding":"1px"}},{"selectorText":"th","type":"CSSStyleRule","style":{"font-weight":"bold"}},{"selectorText":"caption","type":"CSSStyleRule","style":{"text-align":"center"}},{"selectorText":"thead, tbody, tfoot, table > tr","type":"CSSStyleRule","style":{"vertical-align":"middle"}},{"selectorText":"tr, td, th","type":"CSSStyleRule","style":{"vertical-align":"inherit"}},{"selectorText":"table, td, th","type":"CSSStyleRule","style":{"border-color":"gray"}},{"selectorText":"thead, tbody, tfoot, tr","type":"CSSStyleRule","style":{"border-color":"inherit"}},{"selectorText":"table[rules=none i], table[rules=groups i], table[rules=rows i],\\ntable[rules=cols i], table[rules=all i], table[frame=void i],\\ntable[frame=above i], table[frame=below i], table[frame=hsides i],\\ntable[frame=lhs i], table[frame=rhs i], table[frame=vsides i],\\ntable[frame=box i], table[frame=border i],\\ntable[rules=none i] > tr > td, table[rules=none i] > tr > th,\\ntable[rules=groups i] > tr > td, table[rules=groups i] > tr > th,\\ntable[rules=rows i] > tr > td, table[rules=rows i] > tr > th,\\ntable[rules=cols i] > tr > td, table[rules=cols i] > tr > th,\\ntable[rules=all i] > tr > td, table[rules=all i] > tr > th,\\ntable[rules=none i] > thead > tr > td, table[rules=none i] > thead > tr > th,\\ntable[rules=groups i] > thead > tr > td, table[rules=groups i] > thead > tr > th,\\ntable[rules=rows i] > thead > tr > td, table[rules=rows i] > thead > tr > th,\\ntable[rules=cols i] > thead > tr > td, table[rules=cols i] > thead > tr > th,\\ntable[rules=all i] > thead > tr > td, table[rules=all i] > thead > tr > th,\\ntable[rules=none i] > tbody > tr > td, table[rules=none i] > tbody > tr > th,\\ntable[rules=groups i] > tbody > tr > td, table[rules=groups i] > tbody > tr > th,\\ntable[rules=rows i] > tbody > tr > td, table[rules=rows i] > tbody > tr > th,\\ntable[rules=cols i] > tbody > tr > td, table[rules=cols i] > tbody > tr > th,\\ntable[rules=all i] > tbody > tr > td, table[rules=all i] > tbody > tr > th,\\ntable[rules=none i] > tfoot > tr > td, table[rules=none i] > tfoot > tr > th,\\ntable[rules=groups i] > tfoot > tr > td, table[rules=groups i] > tfoot > tr > th,\\ntable[rules=rows i] > tfoot > tr > td, table[rules=rows i] > tfoot > tr > th,\\ntable[rules=cols i] > tfoot > tr > td, table[rules=cols i] > tfoot > tr > th,\\ntable[rules=all i] > tfoot > tr > td, table[rules=all i] > tfoot > tr > th","type":"CSSStyleRule","style":{"border-color":"black"}},{"selectorText":"table[align=left i]","type":"CSSStyleRule","style":{"float":"left"}},{"selectorText":"table[align=right i]","type":"CSSStyleRule","style":{"float":"right"}},{"selectorText":"table[align=center i]","type":"CSSStyleRule","style":{"margin-inline-start":"auto","margin-inline-end":"auto"}},{"selectorText":"thead[align=absmiddle i], tbody[align=absmiddle i], tfoot[align=absmiddle i],\\ntr[align=absmiddle i], td[align=absmiddle i], th[align=absmiddle i]","type":"CSSStyleRule","style":{"text-align":"center"}},{"selectorText":"caption[align=bottom i]","type":"CSSStyleRule","style":{"caption-side":"bottom"}},{"selectorText":"p[align=left i], h1[align=left i], h2[align=left i], h3[align=left i],\\nh4[align=left i], h5[align=left i], h6[align=left i]","type":"CSSStyleRule","style":{"text-align":"left"}},{"selectorText":"p[align=right i], h1[align=right i], h2[align=right i], h3[align=right i],\\nh4[align=right i], h5[align=right i], h6[align=right i]","type":"CSSStyleRule","style":{"text-align":"right"}},{"selectorText":"p[align=center i], h1[align=center i], h2[align=center i], h3[align=center i],\\nh4[align=center i], h5[align=center i], h6[align=center i]","type":"CSSStyleRule","style":{"text-align":"center"}},{"selectorText":"p[align=justify i], h1[align=justify i], h2[align=justify i], h3[align=justify i],\\nh4[align=justify i], h5[align=justify i], h6[align=justify i]","type":"CSSStyleRule","style":{"text-align":"justify"}},{"selectorText":"thead[valign=top i], tbody[valign=top i], tfoot[valign=top i],\\ntr[valign=top i], td[valign=top i], th[valign=top i]","type":"CSSStyleRule","style":{"vertical-align":"top"}},{"selectorText":"thead[valign=middle i], tbody[valign=middle i], tfoot[valign=middle i],\\ntr[valign=middle i], td[valign=middle i], th[valign=middle i]","type":"CSSStyleRule","style":{"vertical-align":"middle"}},{"selectorText":"thead[valign=bottom i], tbody[valign=bottom i], tfoot[valign=bottom i],\\ntr[valign=bottom i], td[valign=bottom i], th[valign=bottom i]","type":"CSSStyleRule","style":{"vertical-align":"bottom"}},{"selectorText":"thead[valign=baseline i], tbody[valign=baseline i], tfoot[valign=baseline i],\\ntr[valign=baseline i], td[valign=baseline i], th[valign=baseline i]","type":"CSSStyleRule","style":{"vertical-align":"baseline"}},{"selectorText":"td[nowrap], th[nowrap]","type":"CSSStyleRule","style":{"white-space":"nowrap"}},{"selectorText":"table[rules=none i], table[rules=groups i], table[rules=rows i],\\ntable[rules=cols i], table[rules=all i]","type":"CSSStyleRule","style":{"border-style":"hidden","border-collapse":"collapse"}},{"selectorText":"table[border]","type":"CSSStyleRule","style":{"border-style":"outset"}},{"selectorText":"table[frame=void i]","type":"CSSStyleRule","style":{"border-style":"hidden"}},{"selectorText":"table[frame=above i]","type":"CSSStyleRule","style":{"border-style":"outset hidden hidden hidden"}},{"selectorText":"table[frame=below i]","type":"CSSStyleRule","style":{"border-style":"hidden hidden outset hidden"}},{"selectorText":"table[frame=hsides i]","type":"CSSStyleRule","style":{"border-style":"outset hidden outset hidden"}},{"selectorText":"table[frame=lhs i]","type":"CSSStyleRule","style":{"border-style":"hidden hidden hidden outset"}},{"selectorText":"table[frame=rhs i]","type":"CSSStyleRule","style":{"border-style":"hidden outset hidden hidden"}},{"selectorText":"table[frame=vsides i]","type":"CSSStyleRule","style":{"border-style":"hidden outset"}},{"selectorText":"table[frame=box i], table[frame=border i]","type":"CSSStyleRule","style":{"border-style":"outset"}},{"selectorText":"table[border] > tr > td, table[border] > tr > th,\\ntable[border] > thead > tr > td, table[border] > thead > tr > th,\\ntable[border] > tbody > tr > td, table[border] > tbody > tr > th,\\ntable[border] > tfoot > tr > td, table[border] > tfoot > tr > th","type":"CSSStyleRule","style":{"border-width":"1px","border-style":"inset"}},{"selectorText":"table[rules=none i] > tr > td, table[rules=none i] > tr > th,\\ntable[rules=none i] > thead > tr > td, table[rules=none i] > thead > tr > th,\\ntable[rules=none i] > tbody > tr > td, table[rules=none i] > tbody > tr > th,\\ntable[rules=none i] > tfoot > tr > td, table[rules=none i] > tfoot > tr > th,\\ntable[rules=groups i] > tr > td, table[rules=groups i] > tr > th,\\ntable[rules=groups i] > thead > tr > td, table[rules=groups i] > thead > tr > th,\\ntable[rules=groups i] > tbody > tr > td, table[rules=groups i] > tbody > tr > th,\\ntable[rules=groups i] > tfoot > tr > td, table[rules=groups i] > tfoot > tr > th,\\ntable[rules=rows i] > tr > td, table[rules=rows i] > tr > th,\\ntable[rules=rows i] > thead > tr > td, table[rules=rows i] > thead > tr > th,\\ntable[rules=rows i] > tbody > tr > td, table[rules=rows i] > tbody > tr > th,\\ntable[rules=rows i] > tfoot > tr > td, table[rules=rows i] > tfoot > tr > th","type":"CSSStyleRule","style":{"border-width":"1px","border-style":"none"}},{"selectorText":"table[rules=cols i] > tr > td, table[rules=cols i] > tr > th,\\ntable[rules=cols i] > thead > tr > td, table[rules=cols i] > thead > tr > th,\\ntable[rules=cols i] > tbody > tr > td, table[rules=cols i] > tbody > tr > th,\\ntable[rules=cols i] > tfoot > tr > td, table[rules=cols i] > tfoot > tr > th","type":"CSSStyleRule","style":{"border-width":"1px","block-start-style":"none","border-inline-end-style":"solid","border-block-end-style":"none","border-inline-start-style":"solid"}},{"selectorText":"table[rules=all i] > tr > td, table[rules=all i] > tr > th,\\ntable[rules=all i] > thead > tr > td, table[rules=all i] > thead > tr > th,\\ntable[rules=all i] > tbody > tr > td, table[rules=all i] > tbody > tr > th,\\ntable[rules=all i] > tfoot > tr > td, table[rules=all i] > tfoot > tr > th","type":"CSSStyleRule","style":{"border-width":"1px","border-style":"solid"}},{"selectorText":"table[rules=groups i] > colgroup","type":"CSSStyleRule","style":{"border-inline-start-width":"1px","border-inline-start-style":"solid","border-inline-end-width":"1px","border-inline-end-style":"solid"}},{"selectorText":"table[rules=groups i] > thead,\\ntable[rules=groups i] > tbody,\\ntable[rules=groups i] > tfoot","type":"CSSStyleRule","style":{"border-block-start-width":"1px","border-block-start-style":"solid","border-block-end-width":"1px","border-block-end-style":"solid"}},{"selectorText":"table[rules=rows i] > tr, table[rules=rows i] > thead > tr,\\ntable[rules=rows i] > tbody > tr, table[rules=rows i] > tfoot > tr","type":"CSSStyleRule","style":{"border-block-start-width":"1px","border-block-start-style":"solid","border-block-end-width":"1px","border-block-end-style":"solid"}},{"selectorText":"table","type":"CSSStyleRule","style":{"font-weight":"initial","font-style":"initial","font-variant":"initial","font-size":"initial","line-height":"initial","white-space":"initial","text-align":"initial"}},{"selectorText":"table > form, thead > form, tbody > form, tfoot > form, tr > form","type":"CSSStyleRule","style":{"display":"none"}},{"selectorText":"input, select, option, optgroup, button, textarea","type":"CSSStyleRule","style":{"text-indent":"initial"}},{"selectorText":"input[type=radio i], input[type=checkbox i], input[type=reset i], input[type=button i], input[type=submit i], input[type=search i], select, button","type":"CSSStyleRule","style":{"box-sizing":"border-box"}},{"selectorText":"textarea","type":"CSSStyleRule","style":{"white-space":"pre-wrap"}},{"selectorText":"input:not([type=image i]), textarea","type":"CSSStyleRule","style":{"box-sizing":"border-box"}},{"selectorText":"hr","type":"CSSStyleRule","style":{"color":"gray","border-style":"inset","border-width":"1px","margin-block-start":"0.5em","margin-inline-end":"auto","margin-block-end":"0.5em","margin-inline-start":"auto"}},{"selectorText":"hr[align=left i]","type":"CSSStyleRule","style":{"margin-left":"0","margin-right":"auto"}},{"selectorText":"hr[align=right i]","type":"CSSStyleRule","style":{"margin-left":"auto","margin-right":"0"}},{"selectorText":"hr[align=center i]","type":"CSSStyleRule","style":{"margin-left":"auto","margin-right":"auto"}},{"selectorText":"hr[color], hr[noshade]","type":"CSSStyleRule","style":{"border-style":"solid"}},{"selectorText":"fieldset","type":"CSSStyleRule","style":{"display":"block","margin-inline-start":"2px","margin-inline-end":"2px","border":"groove 2px ThreeDFace","padding-block-start":"0.35em","padding-inline-end":"0.625em","padding-block-end":"0.75em","padding-inline-start":"0.625em","min-width":"min-content"}},{"selectorText":"legend","type":"CSSStyleRule","style":{"padding-inline-start":"2px","padding-inline-end":"2px"}},{"selectorText":"iframe","type":"CSSStyleRule","style":{"border":"2px inset"}},{"selectorText":"video","type":"CSSStyleRule","style":{"object-fit":"contain"}},{"selectorText":"img[align=left i]","type":"CSSStyleRule","style":{"margin-right":"3px"}},{"selectorText":"img[align=right i]","type":"CSSStyleRule","style":{"margin-left":"3px"}},{"selectorText":"iframe[frameborder=\\"0\\"], iframe[frameborder=no i]","type":"CSSStyleRule","style":{"border":"none"}},{"selectorText":"applet[align=left i], embed[align=left i], iframe[align=left i],\\nimg[align=left i], input[type=image i][align=left i], object[align=left i]","type":"CSSStyleRule","style":{"float":"left"}},{"selectorText":"applet[align=right i], embed[align=right i], iframe[align=right i],\\nimg[align=right i], input[type=image i][align=right i], object[align=right i]","type":"CSSStyleRule","style":{"float":"right"}},{"selectorText":"applet[align=top i], embed[align=top i], iframe[align=top i],\\nimg[align=top i], input[type=image i][align=top i], object[align=top i]","type":"CSSStyleRule","style":{"vertical-align":"top"}},{"selectorText":"applet[align=baseline i], embed[align=baseline i], iframe[align=baseline i],\\nimg[align=baseline i], input[type=image i][align=baseline i], object[align=baseline i]","type":"CSSStyleRule","style":{"vertical-align":"baseline"}},{"selectorText":"applet[align=texttop i], embed[align=texttop i], iframe[align=texttop i],\\nimg[align=texttop i], input[type=image i][align=texttop i], object[align=texttop i]","type":"CSSStyleRule","style":{"vertical-align":"text-top"}},{"selectorText":"applet[align=absmiddle i], embed[align=absmiddle i], iframe[align=absmiddle i],\\nimg[align=absmiddle i], input[type=image i][align=absmiddle i], object[align=absmiddle i],\\napplet[align=abscenter i], embed[align=abscenter i], iframe[align=abscenter i],\\nimg[align=abscenter i], input[type=image i][align=abscenter i], object[align=abscenter i]","type":"CSSStyleRule","style":{"vertical-align":"middle"}},{"selectorText":"applet[align=bottom i], embed[align=bottom i], iframe[align=bottom i],\\nimg[align=bottom i], input[type=image i][align=bottom i],\\nobject[align=bottom i]","type":"CSSStyleRule","style":{"vertical-align":"bottom"}},{"selectorText":"textarea","type":"CSSStyleRule","style":{"white-space":"pre-wrap"}}]')}},r={},function e(i){var n=r[i];if(void 0!==n)return n.exports;var s=r[i]={exports:{}};return t[i].call(s.exports,s,s.exports,e),s.exports}(806);var t,r}));